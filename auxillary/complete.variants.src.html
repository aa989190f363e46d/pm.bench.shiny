<div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4884" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4635350"><img src="https://coursera-profile-photos.s3.amazonaws.com/b3/fce64849e0038fd5d5cf371290ce19/MtCook.jpg" alt="">Marina</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4884" name="post-4884" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:20 pm +03:00" datetime="1398259225">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Now when hard deadline is over, feel free to post and discuss your code. <br>Reading others code is part of learning experience. <br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-active"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">3</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4884" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4891" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1299214"><img src="https://coursera-profile-photos.s3.amazonaws.com/22/3e4a76ba1d5a8445d622614b678b12/JonPicture.jpg" alt="">Jonathan Fivelsdal</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4891" name="post-4891" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:34 pm +03:00" datetime="1398260070">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div>Here is what I did:<br><br><br></div><div>complete &lt;- function(directory, id = 1:332) {</div><div>  ## 'directory' is a character vector of length 1 indicating</div><div>  ## the location of the CSV files</div><div>  </div><div>  ## 'id' is an integer vector indicating the monitor ID numbers</div><div>  ## to be used</div><div>  </div><div>  ## Return a data frame of the form:</div><div>  ## id nobs</div><div>  ## 1  117</div><div>  ## 2  1041</div><div>  ## ...</div><div>  ## where 'id' is the monitor ID number and 'nobs' is the</div><div>  ## number of complete cases</div><div>  </div><div>  </div><div>  #Create the character vector of the directory you want to use</div><div>  </div><div>  </div><div>  storeDirectory &lt;- paste0(getwd(),"/",directory,"/")</div><div>  </div><div>    #Creates specdata directory</div><div>    if(dir.create(directory,showWarnings = FALSE) != 0)</div><div>    {</div><div>    dir.create(directory,showWarnings = FALSE)</div><div>  </div><div>    }</div><div>  </div><div>  </div><div>  #Downloads compressed specdata files if </div><div>  #specdata directory is empty</div><div>  </div><div>  if(length(list.files(directory)) == 0)</div><div>  {</div><div>  download.file("<a href="https://d396qusza40orc.cloudfront.net/rprog/data/specdata.zip">https://d396qusza40orc.cloudfront.net/rprog/data/specdata.zip",destfile</a> = paste0(storeDirectory,"specdata.zip"),method = "internal") #downloads file</div><div>  unzip(zipfile = paste0(storeDirectory,"specdata.zip")) #unzips monitor files</div><div>  }</div><div>  </div><div><br></div><div> </div><div>  fileNames &lt;- list.files(storeDirectory) #store the names of the CSV files</div><div>  </div><div>  zipLoc &lt;- grep(pattern = ".zip",x = fileNames, fixed = TRUE) #location of specdata.zip</div><div>  </div><div>  if(length(zipLoc) &gt; 0) #Checks if the zipped file is in the directory</div><div>  {</div><div>  fileNames &lt;- fileNames[-zipLoc] # Remove the zipfile from the file name list</div><div>  }</div><div>  </div><div>  fileNameVector &lt;- paste0(storeDirectory,fileNames) #pastes the directory name to each CSV file</div><div>  </div><div>  fileDataList &lt;- lapply(1:length(fileNameVector), function(index) read.csv(fileNameVector[index])) #creates a dataframe for each monitor</div><div>  </div><div>  numComp &lt;- lapply(1:length(fileNameVector), function(index) {sum(complete.cases(  fileDataList[[index]]))} ) #number of complete.cases</div><div>  </div><div>  numCompVec &lt;- unlist(numComp) #stores the number of complete cases for each monitor in the data set in a vector</div><div>  </div><div><br></div><div>  #completeObsFrame - a dataframe of monitor ids which are stored in the first column</div><div>  # and the number of complete cases for each monitor stored in the second column</div><div>  </div><div>  completeObsFrame &lt;- data.frame(cbind(1:length(fileNameVector),numCompVec))</div><div>  </div><div>  colnames(completeObsFrame) &lt;- c("id","nobs")</div><div>  </div><div>  return(completeObsFrame[id,]) #returns the relevant rows in the complete cases data frame based on id number</div><div>  </div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4891" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3629" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4013663">Sadika Hameed</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3629" name="comment-3629" style="vertical-align:middle"><time title="Monday, April 28th 2014, 12:03 am +03:00" datetime="1398632630">9 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Hi! I did not get to this soon enough so won't be in time. I was having problems from the beginning loading the dataset. When you say "<span>complete &lt;- function(directory, id = 1:332) {" does the directory mean the path on the computer to get to the directory? E.g /USERS/S/Coursera etc etc  in which the dataset is also loaded?<br><br><br></span></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3629" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3741" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><span>Anonymous</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3741" name="comment-3741" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 2:53 am +03:00" datetime="1398729225">8 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id) {
        
        setwd(paste("my local directory which is the parent dir of specdata", 
                    directory, sep = ""))
        
        files &lt;- dir()
        data &lt;- data.frame()
        for (i in id){
                file.i &lt;- read.csv(files[i])
                obs &lt;- sum(complete.cases(file.i))
                data &lt;- rbind(data, cbind(i, obs))                
        }
        data
}
</code></pre><div><br></div>I still have no idea how the automatic checker checks against the results by accessing my local folder. It must access the folder path to get the dataset and evaluate if my program is correct, right?  Anyone knows? </div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3741" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4893" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4161873"><img src="https://coursera-profile-photos.s3.amazonaws.com/1c/db0f858aaeb04a5ac718050f135879/Diego.jpg" alt="">Diego Silva</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4893" name="post-4893" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:39 pm +03:00" datetime="1398260388">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">This is my code. <br><br>To separate number from NA I just multiplied Nitrate * Sulfate. If one of them is NA the answer would be NA. So I could clean up the dataset by deleting NA values.<br><br><pre><code>complete &lt;- function(directory, id=1:332){

dw&lt;-c("C:/Users/Diego/Desktop/Coursera_Data_Science/Programming Assessment/Week2/") ##Set the directory
setwd(paste(dw,directory,sep="")) ##Set the folder
file&lt;-list.files(pattern=".csv") ## List all the files

table&lt;-data.frame()##Initializing a null vector
h&lt;-id

for (i in 1:length(h)){
  x&lt;-read.csv(file[h[i]]) ##read files indexed
  y&lt;-c(h[i],length(which(!is.na(x[,"nitrate"]*x[,"sulfate"])))) ##identify number and assign to a vector y
  table&lt;-as.data.frame(rbind(table,y)) ##create a table
    }
colnames(table)&lt;-c("id","nobs") ##data frame column names
table
}</code></pre><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4893" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3165" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2320881">Ilir Maci</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3165" name="comment-3165" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:19 pm +03:00" datetime="1398262751">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>Neat trick the multiplication, Diego. You can use <code>complete.cases()</code> to get the same result.</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3165" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3175" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4161873"><img src="https://coursera-profile-photos.s3.amazonaws.com/1c/db0f858aaeb04a5ac718050f135879/Diego.jpg" alt="">Diego Silva</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3175" name="comment-3175" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:05 pm +03:00" datetime="1398265551">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">I am newbie in R. I ll change my code with complete.case(). I didnt know this function.<br><br>Thanx<br><br>Diego</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3175" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3176" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2320881">Ilir Maci</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3176" name="comment-3176" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:13 pm +03:00" datetime="1398266010">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>Nothing newbie-ish about your solution. Great work.</p>
<p>As you become more comfortable with the syntax, you will start learning tricks about how to do things more efficiently too. I am sure discussing the solutions and approaches on this thread will introduce you to a couple of them.</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3176" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4896" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5702772">Ron Stieger</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4896" name="post-4896" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:52 pm +03:00" datetime="1398261172">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>As with pollutantmean, this was refactored after I learned list.files(). I'm sure there's a better way to get dfgood without a for loop.</p>
<pre><code>complete &lt;- function(directory, id = 1:332) {
    x &lt;- data.frame()
    flist &lt;- list.files(path = directory, full.names = TRUE)
    for (fname in flist[id])
    {
        df &lt;- read.csv(fname)
        dfgood &lt;- !logical(length = nrow(df)) ## start all TRUE
        for (j in 1:ncol(df))
        {
            dfgood &lt;- dfgood &amp; !is.na(df[,j])
        }
        x &lt;- rbind(x, c(match(fname, flist), sum(dfgood)))
    }
    names(x) &lt;- c("id", "nobs")
    x
}</code></pre>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4896" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4903" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4555390">Lori Kandyba</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4903" name="post-4903" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:21 pm +03:00" datetime="1398262912">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>path &lt;- paste(getwd(), directory, sep="/")<br>files &lt;- list.files(path, pattern = ".csv", full.names = TRUE)<br>index &lt;- files[c(id)]<br><br>nobs &lt;- NULL<br><br>for (i in 1:length(index)) {<br> mydata &lt;- read.csv(index[i]) <br>  x &lt;- sum(complete.cases(mydata))<br> nobs &lt;-c(nobs,x)  <br>}<br><br>df &lt;-data.frame(id, nobs)<br>colnames(df) &lt;-c("id", "nobs")<br>print(df)    <br><br>}<br><br></code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4903" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3208" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6931941">Stephen F Mulvihill</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3208" name="comment-3208" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:06 pm +03:00" datetime="1398279982">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Very straightforward and elegant.  Thank you for posting.</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3208" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3239" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4555390">Lori Kandyba</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3239" name="comment-3239" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:03 am +03:00" datetime="1398294193">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Thanks!  I've since realized I could have done without <pre><code>colnames(df) &lt;-c("id", "nobs")<br>print(df)    </code></pre>and just put simply <pre><code>df</code></pre><br><br><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3239" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4912" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7141077"><img src="https://coursera-profile-photos.s3.amazonaws.com/77/6d2130bfc511e3890231829bcb8483/Thatya-Ariyaratne_JOW-130808-6025-like-ok.jpg" alt="">Thathya Ariyaratne</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4912" name="post-4912" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:48 pm +03:00" datetime="1398264536">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {<br>  dir &lt;- c(paste(("C:/Users/tariyaratne/Documents/R/"), "specdata", sep=""))<br>  setwd(dir)<br>  x &lt;- list.files(pattern=".csv")<br>  y &lt;- lapply(x, read.table, header = TRUE, sep=",")<br>  z &lt;- do.call(rbind, y)<br>  data &lt;- z[complete.cases(z), ]<br>  d.fr &lt;- NULL<br>  for (i in id) {<br>    d.fr &lt;- rbind(d.fr, data.frame(id=i, nobs= nrow(subset(data, ID==i))))<br>    }<br>  print(d.fr)<br>}<br><br></code></pre><br><br><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4912" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4915" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2816488">Forrest Blake Treadway</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4915" name="post-4915" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:53 pm +03:00" datetime="1398264822">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {<br>   matt &lt;- matrix(, nrow = length(id), ncol = 2)<br>   for (i in 1:length(id)) {<br>      csv &lt;- paste(direc,"/",sprintf("%03d",id[i]),".csv",sep="")<br>      temp &lt;- read.csv(csv)<br>      matt[i,1] &lt;- id[i]<br>      matt[i,2] &lt;- nrow(temp[complete.cases(temp),])<br>   }<br>   df &lt;- data.frame(matt)<br>   colnames(df) &lt;- c("id", "nobs")<br>   df<br>}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4915" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4917" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2186054"><img src="https://coursera-profile-photos.s3.amazonaws.com/6e/20ca0543928e21724a93591de5e803/Head-Shot.jpg" alt="">Michael Shipman</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4917" name="post-4917" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:59 pm +03:00" datetime="1398265151">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">I know this looks a bit "VBA"ish, but that's what I use at work with MSOffice.  Also, I annotate a lot out of habit to help guide me when I look back at this later.<br><pre>complete &lt;- function(directory, id = 1:332) {<br>        <br>        #Gets and stores the filenames in the specified directory.<br>        FileNames &lt;- list.files(path=directory)<br>        <br>        #Sets up the observation summary matrix for compiling the observations<br>        # from each monitor.<br>        Obs &lt;- matrix(nrow=0,ncol=2)<br>        <br>        # Loop will count and summarize the number of complete cases for each monitor id.<br>        for(i in id){<br>                #Reads individual monitor data file<br>                MonData &lt;- read.csv(file=paste(directory, "/", FileNames[i], sep=""),header=TRUE)<br>                #Retains the complete cases and purges the NA rows from monitor data.<br>                MonData &lt;- MonData[complete.cases(MonData),]<br>                #Compiles a list of observation counts for each monitor / iteration of loop.<br>                Obs &lt;- rbind(Obs, c(i, nrow(MonData)))<br>        }<br>        <br>        #Creates a dataframe from the observation matrix compliation with headings.<br>        NumberOfObs &lt;- data.frame(id=(Obs[,1]), nobs=(Obs[,2]))<br>        #Must remove the initial "NA" from initially setting up the Obs matrix<br>        NumberOfObs &lt;- NumberOfObs[complete.cases(NumberOfObs),]<br>        #Reports the completed dataframe.<br>        NumberOfObs<br>        <br>}</pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4917" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3180" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2320881">Ilir Maci</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3180" name="comment-3180" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:21 pm +03:00" datetime="1398266491">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>Nice code, Michael. Annotating is a great habit to have.  One suggestion: instead of the manual paste solution, try the built-in <code>file=file.path(directory, FileNames[i])</code>. It will construct a system-specific path for you (although <code>/</code> works anywhere with R).</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">6</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3180" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3202" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2186054"><img src="https://coursera-profile-photos.s3.amazonaws.com/6e/20ca0543928e21724a93591de5e803/Head-Shot.jpg" alt="">Michael Shipman</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3202" name="comment-3202" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 8:47 pm +03:00" datetime="1398275271">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>Thanks Ilir,  I will keep that in mind and appreciate.  I guess I pasted the path together in a similar fashion to VBA, due to my beginner level understanding of R.</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3202" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4923" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3232448">geoffrey anderson</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4923" name="post-4923" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:06 pm +03:00" datetime="1398265564">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">What's to like: No loops were used. The code is short.<br>What's not to like: It took me several hours to research this.<br>Other: There are still some improvements possible. Feel free to improve this code. It's OK with me. I expect that some lapply could be eliminated.  Variable names could be improved.<br><br>    Fpart = formatC(id, width=3, format="d", flag="0")<br>    F &lt;- lapply(Fpart, list.files, path=directory, full.names=TRUE)<br>    l &lt;- lapply(F, read.csv)<br>    l2 &lt;- lapply(l, FUN=function(x) !(is.na(x[,'sulfate']) | is.na(x[,'nitrate'])))<br>    l3 &lt;- lapply(l2, FUN=sum)<br>    ret &lt;- data.frame(id=id, nobs=unlist(l3))<br>    ret<br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">4</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4923" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3179" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2186054"><img src="https://coursera-profile-photos.s3.amazonaws.com/6e/20ca0543928e21724a93591de5e803/Head-Shot.jpg" alt="">Michael Shipman</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3179" name="comment-3179" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:19 pm +03:00" datetime="1398266343">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">I particularly like code that does not use so many loops.  I have found that running loops slows code wwwwaaaayyyyyy ddddooowwwn!  When I program, I usually look for ways avoid looping or have the looping done in the background of the application.</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3179" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3185" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2320881">Ilir Maci</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3185" name="comment-3185" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:37 pm +03:00" datetime="1398267439">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>That is a good design principle Michael, but not for the reason you think. Loops are about as fast (and sometimes faster) than the <code>*apply()</code> functions in R. Avoiding them usually means vectorizing your code and <em>that</em> is fast.</p>
<p>Growing a <code>data.frame</code> implicitly (by writing something on a row that does not exist) is very slow, and most people use loops for that. The reason is that R writes the data from scratch when you do that. So updating by row (through a loop) a frame of 1M rows, means it will be rewritten a million times.</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">3</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3185" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-4214" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4173874">Vignesh</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-4214" name="comment-4214" style="vertical-align:middle"><time title="Saturday, May 3rd 2014, 1:12 am +03:00" datetime="1399068773">4 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Are you talking about rbind here when are talking about growing a data.frame?</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-4214" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4924" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3232448">geoffrey anderson</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4924" name="post-4924" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:07 pm +03:00" datetime="1398265636">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">A big THANKS goes to the TAs and instructors, for letting us share code after the assignment was closed.  This is a great way to learn from each other.<br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">5</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4924" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3181" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2320881">Ilir Maci</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3181" name="comment-3181" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:24 pm +03:00" datetime="1398266644">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>Having us patrol the forums for shared code is not a feature, Geoffrey. It's a necessity.</p>
<p>Enjoy the discussion :-)</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3181" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4933" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1327050"><img src="https://coursera-profile-photos.s3.amazonaws.com/3f/ef411c9d7af4905e60a9cdb8696921/Firefox_wallpaper.png" alt="">Gregory D. Horne</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4933" name="post-4933" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:27 pm +03:00" datetime="1398266858">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332)<br>{<br><br>  df &lt;- data.frame(id=integer(), nobs=integer(), stringsAsFactors=FALSE)<br>  <br>  for (monitor in id) {<br>    dataset &lt;- read.csv(paste("./", directory, "/", sprintf("%03d", monitor), ".csv", sep=""), TRUE)<br>    df &lt;- rbind(df, data.frame(id=monitor, nobs=sum(complete.cases(dataset))))<br>  }<br>  <br>  df<br><span>}</span></code></pre><br><span></span></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">4</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4933" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4934" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5388677"><img src="https://coursera-profile-photos.s3.amazonaws.com/fe/f2e870caaa11e3a6889138633aee70/jtfacecropped.jpg" alt="">John Frederick Thiels</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4934" name="post-4934" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:36 pm +03:00" datetime="1398267367">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {<br>  files &lt;- list.files(directory)<br>  df &lt;- NULL  <br>  for (i in id) {<br>    myFiles &lt;- paste(directory,files[i],sep="/")<br>    for (file in myFiles) {<br>      temp &lt;- read.csv(paste(getwd(),"/", file, sep=""), header=TRUE)<br>      comp &lt;- sum(complete.cases(temp))<br>      df &lt;- rbind(df, data.frame(id=i, nobs=comp))<br>    }</code></pre>I couldn't look ahead so it has a for loop, but I was happy with it.  I am grateful for this--I've taken other MOOC (not coursera) programming courses and it is a treat to read others code.  <br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4934" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3864" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7197210">Caleb Lau</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3864" name="comment-3864" style="vertical-align:middle"><time title="Wednesday, April 30th 2014, 5:52 am +03:00" datetime="1398826342">7 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Hey John,<br><br>I really like your code here, but I think it can be further simplified. I modified it slightly, shown below. What do you think?<br><br><pre><code>complete2 &lt;- function(directory, id = 1:332) {
      files &lt;- list.files(directory, full.names = TRUE)
      df = NULL
      for(i in id) {
            temp &lt;- read.csv(files[i], header = TRUE)
            comp &lt;- sum(complete.cases(temp))
            df &lt;- rbind(df, data.frame(id = i, nobs = comp))
      }
      df
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-3864" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4938" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2444648">Ajay Bhargava</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4938" name="post-4938" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:42 pm +03:00" datetime="1398267745">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {
  #In order to get read.csv to function properly, you need to supply it with a full path to the file. 
  #This is where the "full.names=TRUE" thing comes in.
  search &lt;- list.files(directory, pattern="*.csv",full.names=TRUE)
  relevant &lt;- search[id]
  total.data &lt;- data.frame()
  for (i in 1:length(id)){
    raw.data &lt;- read.csv(relevant[i])
    #Apparently a sum works just as well as 'table' does.
    comp.data &lt;- sum(complete.cases(raw.data))
    #property of rbind to add new rows to existing dataframe, and tag=value to define what the data is
    total.data &lt;- rbind(total.data, data.frame(id=i, nobs=comp.data))
  }
  print(total.data)
}
</code></pre><div><br></div><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4938" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4943" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5062559">Joshua Joel Stephens</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4943" name="post-4943" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:51 pm +03:00" datetime="1398268284">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {
        
        ## File Paths to the Data
        filenames &lt;- paste("C:/Users/JSTEPHEN/Documents/Coursera/02 R Programming/rprog-data-specdata/" , 
                           directory , 
                           "/" , 
                           formatC( id , width = 3, flag = "0" ) , 
                           ".csv" , 
                           sep = "")
        
        ## Combine data
        full_data &lt;- do.call("rbind", lapply(filenames, 
                                      FUN=function(files){read.table(files, header = TRUE, sep = ",")}))
        mydata &lt;- full_data[complete.cases(full_data), ]
        
        ## Summarize the data
        idx &lt;- split(1:nrow(mydata), mydata$ID)
        DF &lt;- data.frame(ID=sapply(idx, function(i) mydata$ID[i[1]]),
                         nobs=sapply(idx, function(i) NROW(mydata[ , "ID"][i])) )
        DF
}</code></pre>When I submitted Part[7] there was an error with this code.<br><br>My Output:<br><div>&gt; complete("specdata", c(2, 4, 8, 10, 12))</div><div>##   ID nobs</div><div>##2   2 1041</div><div>##4   4  474</div><div>##8   8  192</div><div>##10 10  148</div><div>##12 12   96<br><br>Correct Output:<br><div>complete("specdata", c(2, 4, 8, 10, 12))</div><div>##   id nobs</div><div>## 1  2 1041</div><div>## 2  4  474</div><div>## 3  8  192</div><div>## 4 10  148</div><div>## 5 12   96</div></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4943" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4953" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5795600"><img src="https://coursera-profile-photos.s3.amazonaws.com/5e/d05bc0c48311e3aaed8f67c0749273/IMG_20140304_162938_2.jpg" alt="">Arun Balan</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4953" name="post-4953" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 8:30 pm +03:00" datetime="1398274233">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div></div><pre><code>complete &lt;- function(directory, id = 1:332) {
  vectorID &lt;- numeric()
  vectorNobs &lt;- numeric()
  for (i in id){
    filePath &lt;- file.path(directory, paste(sprintf("%03d", i), ".csv", sep=""))
    tmpData &lt;- read.csv(filePath)
    vectorID &lt;- append(vectorID, i)
    vectorNobs &lt;- append(vectorNobs, sum(complete.cases(tmpData)))
  }
  data.frame(id=vectorID, nobs=vectorNobs)
}</code></pre></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4953" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4958" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7078253"><img src="https://coursera-profile-photos.s3.amazonaws.com/6d/743070c7c611e3a48a4d624e45e556/bodensee2013-5.jpg" alt="">Mario Hofer</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4958" name="post-4958" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 8:55 pm +03:00" datetime="1398275742">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {
    resultdf &lt;- data.frame(id=integer(0), nobs=numeric(0))
    for(curid in id) {
      fn &lt;- paste(directory,"/",formatC(curid,width=3,flag="0"),".csv",sep="")
      data &lt;- read.csv(fn)
      resultdf = rbind(resultdf,data.frame(id=curid, nobs=sum(complete.cases(data))))
    }
    resultdf
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4958" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4974" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6276077">Stephen A. Wright</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4974" name="post-4974" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:16 pm +03:00" datetime="1398280602">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><br><pre><code>complete &lt;- function(directory, id = 1:332) {<br>        ## Creates a blank data frame to store the two columns<br>        ## Increments though the id vector<br>        ## file will be a string correctly pointing to the location of the files.<br>        ## Reads in the file and removes NA values<br>        ## i ='id' number, nrow(temp) = number of completed cases(I removed incomplete)<br>        ## binds temp2 to the end of the data frame df<br>        ## Returns the data.frame of interest<br><br>        df = data.frame()<br>        for (i in id){<br>                file &lt;- paste(".//",directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep = "")<br>                temp &lt;- na.omit(read.csv(file, header = TRUE)) <br>                temp = c(i, nrow(temp)) <br>                df = rbind(df, temp)    <br>        }<br>        colnames(df) &lt;-c("id", "nobs")  ## Correctly names the columns<br>        df        <br>}</code></pre>And the redo.<br><br><pre><code>complete &lt;- function(directory, id = 1:332) {<br>        ## Creates a blank data frame to store the two columns<br>        ## creates a list of the full file names and stores it to names<br>        ## The for loop Increments though the id vector<br><br>        ## reads in the data, <br>        ## complete.cases() makes a logical vecto(True = complete case), You can NOT use na.omit() w/sum()<br>        ## sum() on a logical vector returns the total number of TRUE values in the vector<br>        ## this is stored to temp<br><br>        ## rbind() adds the new and correctly labled data.frame to the end of df<br>        ## Where, i = the current 'id' and temp = the sum of completed values<br><br>        ## Returns the data.frame of interest<br><br>        df = data.frame()<br>        names &lt;- list.files(directory, pattern = "*.csv", full.names = TRUE)<br>        for(i in id){<br>                temp &lt;- sum(complete.cases(read.csv(names[i], header = TRUE)))<br>                df &lt;- rbind(df, data.frame('id' = i, 'nobs' = temp))<br>        } <br><br>        df<br>}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4974" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4983" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4326104"><img src="https://coursera-profile-photos.s3.amazonaws.com/63/8fac0e2b89351d1b639eb30a0f7954/me.jpg" alt="">Sean Mantey</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4983" name="post-4983" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:38 pm +03:00" datetime="1398281916">13 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>complete &lt;- function(directory, id = 1:332) {</p>
<p>  outData &lt;- data.frame(id=integer(0),nobs=integer(0))</p>
<p>  for (file_id in id) {</p>
<p>    filename&lt;-paste(directory,"/",formatC(file_id, width=3, flag="0"),".CSV",sep="")</p>
<p>      tempData &lt;-read.csv(filename)</p>
<p>      tempData2 &lt;- na.omit(tempData)</p>
<p>      obsCount &lt;- nrow(tempData2)</p>
<p>      outDataRow &lt;- data.frame(id=file_id,nobs=obsCount)</p>
<p>      outData &lt;- rbind(outData,outDataRow)</p>
<p>    }</p>
<p>  outData</p>
<p>}</p></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4983" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4986" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"><a title="Controls" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="course-forum-post-controls-4986" data-popup="#course-forum-post-controls-4986" data-popup-direction="se" class="course-forum-post-controls-toggle"><i class="icon-cog"><span class="hidden">Controls</span></i></a><div id="course-forum-post-controls-4986" class="course-forum-post-controls-popup hide"><!-- If you have editing rights, you can edit or delete--><a href="javascript:void(0)" class="course-forum-post-edit-link">Edit</a><a href="javascript:void(0)" data-property="deleted" data-value="1" class="course-forum-post-action-link">Delete</a><!-- Only forum moderators --></div></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=143432"><img src="https://coursera-profile-photos.s3.amazonaws.com/89/2f675d5c5db0b0c82ba8500326cbe1/Stained_glass_Tower_of_Ivory.jpg" alt="">Alex Rempel</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4986" name="post-4986" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:43 pm +03:00" datetime="1398282238">13 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code># PART 2  
complete &lt;- function(directory, id = 1:332) {  

        counts &lt;- cbind( id  
                        ,sapply(X = paste( 'specdata'  
                                            ,sprintf('%03i.csv',id)  
                                            ,sep='/')  
                                   ,FUN = function(x) nrow(na.omit(read.table(x  
                                                                       ,header=T  
                                                                       ,sep=','  
                                                                       ,na.strings='NA'  
                                                                       ,stringsAsFactors=FALSE)))))  

        colnames(counts) &lt;- c('id','nobs')  
        as.data.frame(counts)  
}</code></pre>
</div><div aria-haspopup="true" aria-expanded="false" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4986" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4992" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6858618">santanu ghosh</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4992" name="post-4992" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:54 pm +03:00" datetime="1398282848">13 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div><em>complete &lt;- function(directory,id=1:332){</em></div><div><em>        data1 &lt;- list.files(directory)</em></div><div><em>        </em></div><div><em>        neededfiles &lt;- paste("specdata/",data1[id], sep="")</em></div><div><em>        </em></div><div><em>        result.mat &lt;- mat.or.vec(length(id),2)</em></div><div><em>        </em></div><div><em>        temp &lt;- NULL</em></div><div><em>        for (i in 1:length(neededfiles)){</em></div><div><em>                data2&lt;-read.csv(neededfiles[i])</em></div><div><em>                temp1&lt;-rbind.data.frame(temp,data2)</em></div><div><em>                m&lt;-complete.cases(temp1)</em></div><div><em>                m1&lt;-sum(m)</em></div><div><em>                result.mat[i,1] &lt;- id[i]</em></div><div><em>                result.mat[i,2] &lt;- m1</em></div><div><em>                </em></div><div><em>        }</em></div><div><em>        mydataframe&lt;-data.frame(result.mat)</em></div><div><em>        names(mydataframe)&lt;-c("id","nobs")</em></div><div><em>        return(mydataframe)</em></div><div><em>}</em><pre><code></code></pre><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-4992" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5010" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3156"><img src="https://coursera-profile-photos.s3.amazonaws.com/9d/be8fdf97ee15b06856e6bcadba08c5/head.jpg" alt="">Jan Zegan</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5010" name="post-5010" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:26 am +03:00" datetime="1398288377">13 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div></div><pre><code>complete &lt;- function(directory, id = 1:332) {
  files &lt;- list.files(directory)
  .dt &lt;- data.frame()
  
  for (i in id){
    .temp &lt;- na.omit(fread(file.path(directory, files[i])))
    .dt &lt;- rbind(.dt, data.frame(id=i, nobs=nrow(.temp)))
    rm(.temp)
  }
  .dt
}<br></code></pre><br><div></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5010" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5044" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6660831">Jonathan Gabriel</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5044" name="post-5044" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:13 am +03:00" datetime="1398294804">13 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div>  id &lt;- list.files(directory)</div><div>  cv &lt;- c() </div><div>  for (i in id) {</div><div>    data &lt;- read.csv(paste(directory, '/', i, sep=""))</div><div>    comp &lt;- complete.cases(data)</div><div>    sub &lt;- subset(data,comp)</div><div>    if (nrow(sub) &gt; threshold) {</div><div>      cv &lt;- c(cv, cor(sub$sulfate, sub$nitrate))</div><div>    }</div><div>  }</div><div>  cv</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5044" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5089" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3213201">William B Piggot</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5089" name="post-5089" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:10 am +03:00" datetime="1398312624">13 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id=1:332){
  nobs &lt;- vector()
  for (i in id){
    filename &lt;- paste(directory, "/", sprintf("%03d", i), ".csv", sep = "")
    my_data &lt;- read.csv(filename)
    x &lt;- sum(complete.cases(my_data))
    nobs &lt;- append(nobs, x)}
      final &lt;- data.frame(id, nobs)
      return(final)
    }
</code></pre><div><br></div><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5089" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5132" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7026658">TANIA CAMARA ALONSO</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5132" name="post-5132" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:55 pm +03:00" datetime="1398333318">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">complete &lt;- function(directory, id = 1:332) {<br><div>  idaux &lt;- id +1000</div><div>  idaux2 &lt;- substr(paste(as.character(idaux),".csv", sep=""),2,8)</div><div>  nobs &lt;- vector()</div><div>  </div><div>  for (i in 1:length(id)) {</div><div>    df.aux &lt;- read.csv(paste(getwd(),"/",directory[1],"/",idaux2[i], sep=""))</div><div>    good &lt;- complete.cases(df.aux)</div><div>    nobs[i] &lt;- nrow(df.aux[good,][,])</div><div>  }</div><div> df.salida &lt;- data.frame(id,nobs)</div><div> print(df.salida)</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5132" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5138" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3775876">Matthew Grant</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5138" name="post-5138" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 1:15 pm +03:00" datetime="1398334541">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {<br><br>        data &lt;- NULL<br>        nobs &lt;- NULL<br>        combined &lt;- NULL<br>        for(i in 1:length(id)) {<br>                ## individually read each file into a data.frame called 'data'<br>                data &lt;- read.csv(paste0(getwd(), "/", directory, "/", sprintf("%03d", id[i]), ".csv")) <br>                nobs &lt;- append(nobs, length(data[complete.cases(data),][,2]))<br><br>        }<br>                combined &lt;- data.frame(id = id, nobs = nobs)        <br>                return(combined)<br>}</code></pre>I appreciate now that my wacky loop 1:length(id) is not required - however I was stumped for days because I had id[i] in the read.csv bit - and it took me ages to cobble together a solution....<br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5138" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5146" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1284442"><img src="https://coursera-profile-photos.s3.amazonaws.com/7f/a25f4342d1380a3bc680d287b77735/a_53c5006b.jpg" alt="">Matvey Roshchin</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5146" name="post-5146" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:41 pm +03:00" datetime="1398339705">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {
    #empty data frame to store output data
    all &lt;- data.frame( id = id, nobs = NA)
    
    for (i in 1:length(id)){
        #load CSV files
        csv &lt;- read.csv(paste(directory, '/', 
                                   formatC(as.integer(id[i]),2,flag=0),
                                   '.csv', sep=''))
        #measure number of complete cases and store in all$nobs
        all$nobs[i] &lt;- dim(csv[!is.na(csv$sulfate) &amp; !is.na(csv$nitrate),])[1]
    }
    return(all)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5146" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5156" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5238644">Dinesh Kumar SRB</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5156" name="post-5156" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 3:31 pm +03:00" datetime="1398342683">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function (directory, id = 1:332) {        <br>        AF = list.files(directory, pattern="*.csv")<br>        total &lt;- NULL        <br>        for (i in id) {                <br>                readfile &lt;- paste(directory, AF[i], sep = "/")<br>                x &lt;- read.csv(readfile)<br>                no_nas &lt;- na.omit(x)<br>                total_obs &lt;- nrow(no_nas)<br>                single &lt;- (data.frame(id = i, nobs = total_obs))<br>                total &lt;- rbind (total, single)                <br>        }<br>        total<br>}        </code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5156" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5174" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7239984">Marcelo</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5174" name="post-5174" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 5:48 pm +03:00" datetime="1398350890">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">My code:<br><pre><code>complete &lt;- function(directory, id = 1:332) {<br>        mydir &lt;- paste(getwd(),directory,sep="/")<br>        setwd(mydir)        <br>        filelist &lt;- list.files()<br>        filenames &lt;- filelist[id]<br>        nobs &lt;- numeric()<br>       # for(i in seq_along(filenames)) {       <br>               for(i in filenames){<br>                singlefile &lt;- read.csv(i)<br>                p1 &lt;- singlefile[,2]<br>                p2 &lt;- singlefile[,3]<br>                ok &lt;- complete.cases(p1, p2)<br>                nobs &lt;- c(nobs,sum(ok))                <br>        }<br>        data.frame(id,nobs)<br>}</code></pre><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5174" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5180" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6577823"><img src="https://coursera-profile-photos.s3.amazonaws.com/db/c0a590c5cd11e391ef1f760c901437/tjzkjahgvubxnnfbdjpo.jpg" alt="">Sharon Metzler</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5180" name="post-5180" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:20 pm +03:00" datetime="1398352836">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {       
        if(!class(directory)== "character"){
                print("Not a Character")
        }
        # directory where sample data can be found
        setwd("C:/_rdev")
        the_path &lt;- paste(getwd(),directory,"",sep="/")
        
        # reporting vectors
        id_vect &lt;- c()
        cases_vect &lt;- c()
        
        # iterate the id list
        for(i in id){       
                # use function to create the filename with 00 prefix &amp; csv suffix
                the_file_name &lt;- paste(the_path,the_file_id(i),".csv",sep="")
                
                # put this iterations file into a data object
                some_data &lt;- read.csv(the_file_name,header=TRUE)
                the_complete_obs &lt;- sum(complete.cases(some_data))
                some_data &lt;- ""
                
                id_vect &lt;- append(id_vect,i)
                cases_vect &lt;- append(cases_vect,the_complete_obs)
        }
        df = data.frame(id_vect,cases_vect)
        colnames(df) &lt;- c("id","nobs")
        print(df)
}

the_file_id &lt;- function(the_num){      
        if(the_num&lt;10){
                # 1 digit numbers need "00"
                the_rtn = paste("00",the_num,sep="")
                
        }else if(the_num&lt;=99){
                # 2 digit numbers need "0"
                the_rtn = paste("0",the_num,sep="")
        }else {
                the_rtn = the_num
        } 
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5180" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5190" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4724786">Vyas Venugopalan</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5190" name="post-5190" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:25 pm +03:00" datetime="1398356700">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete&lt;-function(directory,id=1:332) 
{
  comcollect&lt;-data.frame()##To collate number of complete cases
  comcount&lt;-0 ## To count number of complete cases
  collate&lt;-data.frame() ## To consolidate final data frame of all findings
  if(directory=="specdata") #Check Argument Passed to Function
    setwd("E:/Coursera/Working Directory/specdata")##Set Working Folder
  filename&lt;-list.files() ##Collect all filenames in directory to a vector
  count&lt;-as.numeric(id) ## Set counter for for loop from id argument
  for(i in count){ #For Loop Kicks Off
    file&lt;-read.csv(filename[i])    
    good&lt;-complete.cases(file)
    comcollect&lt;-file[good,]
    comcount&lt;-nrow(comcollect)
    ##print(comcount)
    df&lt;-data.frame("id"=i,"nobs"=comcount)##Create Dataframe with finding    
    collate&lt;-rbind(collate,df) #Collate Dataframe from all loop iterations
  }
  print (collate) #Printing Complete Cases
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5190" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5196" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4123451">Edward Steven Seymour</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5196" name="post-5196" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 8:07 pm +03:00" datetime="1398359246">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Here's mine:<br><pre><code>complete &lt;- function(directory, id = 1:332) {
 nobs &lt;- vector()
  
  for (i in id) {
    sensor &lt;- read.csv(sprintf("%s/%03d.csv", directory, i))
    nobs &lt;- append(nobs, sum(!is.na(sensor$sulfate) &amp; !is.na(sensor$nitrate)))
  }
  
  data.frame(id, nobs)
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5196" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5211" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6514356">Bruno Gonçalves</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5211" name="post-5211" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 9:28 pm +03:00" datetime="1398364088">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Hi all.

<br>Any comments and suggestions are welcome.<br><br><pre>complete &lt;- function(directory, id = 1:332) {<br>      ## 'directory' is a character vector of length 1 indicating<br>      ## the location of the CSV files<br><br>      ## 'id' is an integer vector indicating the monitor ID numbers<br>      ## to be used<br><br>      ## Return a data frame of the form:<br>      ## id nobs<br>      ## 1  117<br>      ## 2  1041<br>      ## ...<br>      ## where 'id' is the monitor ID number and 'nobs' is the<br>      ## number of complete cases<br><br>      #setup &amp; initialize<br>      path &lt;- paste("./",directory,sep="") #build the path to data files<br>      files &lt;- dir(path,full.names=TRUE) #store all available files<br><br>      #select relevant files and read them<br>      files_to_open &lt;- files[id] #get a subset of the files<br><br>      #loop and compute complete sets<br>      d&lt;-data.frame()<br>      for (i in 1:length(id)){<br>            main_data &lt;- read.csv(files_to_open[i])<br>            MyNobs &lt;- sum(complete.cases(main_data)) #Complete -&gt;T(1) ** NA -&gt;F(0)<br>            d&lt;-rbind(d,data.frame(id=id[i],nobs=MyNobs))<br>      }<br>      #print output<br>      print(d)<br>}
</pre>Regards.<br><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5211" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5268" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=945613">James B Taylor</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5268" name="post-5268" style="vertical-align:middle"><time title="Friday, April 25th 2014, 3:31 am +03:00" datetime="1398385864">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>complete &lt;- function(directory, id = 1:332) {</div><div>  ## set working directory to passed directory - hold current wd to set back at end</div><div>  currentPath &lt;- getwd()</div><div>  folderPath &lt;- paste(currentPath,"/",directory,sep='')</div><div>  </div><div>  #create empty dataframe for our data</div><div>  selectedData &lt;- data.frame()</div><div>  </div><div>  ##get all filenames within the directory</div><div>  files &lt;- c(list.files(folderPath))</div><div>  </div><div>  #read in the data - selecting only files that are passed in via the id parameter</div><div>  for (i in files[id]){</div><div>    #read in this file</div><div>    fileContents &lt;- read.csv(paste(folderPath,"/",i,sep=''))</div><div>    #create single row 2 col vector for file name and count of complete cases</div><div>    thisRow &lt;- cbind(as.numeric(strsplit(i,".csv")),nrow(fileContents[complete.cases(fileContents),]))</div><div>    #append to the dataframe</div><div>    selectedData &lt;- rbind(selectedData,thisRow)</div><div>  }</div><div>  #assign column names</div><div>  names(selectedData) &lt;- c("id","nobs")</div><div>  </div><div>  #return data</div><div>  return (selectedData)</div><div>  </div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5268" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5270" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=243267"><img src="https://coursera-profile-photos.s3.amazonaws.com/e2/b37ca0cf6f11e3a1d02773fd8ee262/rsz_thinking_cat4.jpg" alt="">timothy235</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5270" name="post-5270" style="vertical-align:middle"><time title="Friday, April 25th 2014, 4:02 am +03:00" datetime="1398387779">12 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>complete &lt;- function(directory, id = 1:332) {</div><div><br></div><div>    # get all id/nobs pairs and store in a matrix</div><div>    numrows &lt;- length(id)</div><div>    mtrx &lt;- matrix(NA, nrow = numrows, ncol = 2)</div><div>    colnames(mtrx) &lt;- c("id", "nobs")</div><div><br></div><div>    for (i in 1:numrows) {</div><div>        filenum &lt;- id[i]</div><div><br></div><div>        # convert the file number to character and prepend zeroes if necessary</div><div>        filename &lt;- if (filenum &lt; 10) {</div><div>            paste("00", as.character(filenum), sep = "")</div><div>        } else if (filenum &lt; 100) {</div><div>            paste("0", as.character(filenum), sep = "")</div><div>        } else {</div><div>            as.character(filenum)</div><div>        }</div><div><br></div><div>        # assume specdata is a subdirectory of the present working directory</div><div>        filepath &lt;- paste(c(directory, "/", filename, ".csv"), collapse = "")</div><div><br></div><div>        # put new data in matrix</div><div>        dataframe &lt;- read.csv(filepath)</div><div>        numcases &lt;- sum(complete.cases(dataframe))</div><div>        mtrx[i, ] &lt;- c(filenum, numcases)</div><div>    }</div><div><br></div><div>    as.data.frame(mtrx)</div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5270" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5322" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6719882"><img src="https://coursera-profile-photos.s3.amazonaws.com/05/227860ba9711e3a5dc7d6594b9451a/ae462cdab3a20ea95db31dc45ff990ae.jpg" alt="">Davide Rivola</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5322" name="post-5322" style="vertical-align:middle"><time title="Friday, April 25th 2014, 2:09 pm +03:00" datetime="1398424168">11 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">I did this:<br><br><pre><code>filenames &lt;- paste0(directory, "/",formatC(id, width=3, flag="0"), ".csv")
        
ids &lt;- numeric()
nobs &lt;- numeric()
        
for( i in 1:length( filenames) ){
        x &lt;- read.csv(filenames[[i]])
                
        ids &lt;- c(ids, i)
        nobs &lt;- c(nobs, sum(complete.cases(x)))
}

df &lt;- data.frame(ids, nobs)</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5322" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5492" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3142216">Biswajit Dutta Baruah</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5492" name="post-5492" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 7:02 pm +03:00" datetime="1398528147">10 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">This is how I did it. <div><br></div><div><pre>complete &lt;- function(directory, id = 1:332) {
  list &lt;- dir(directory, full.names = TRUE)
  f.data &lt;- function(n) {
    for(file in n) {
      if(!exists("p.data")){
        p.data &lt;- read.csv(file, header = TRUE)
      }
      else if(exists("p.data")) {
        temp.data &lt;- read.csv(file, header = TRUE)
        p.data &lt;- rbind(p.data, temp.data)
        rm(temp.data)
      }
    }
    p.data
  }
  pollutant.data &lt;- f.data(list)
  good &lt;- function(i) {
    subset.i &lt;- subset(pollutant.data, ID == i)
    sum(complete.cases(subset.i))
  }
  nobs.data &lt;- data.frame()
  for(i in id) {
    i.data &lt;- data.frame(id = i, nobs = good(i))
    nobs.data &lt;- rbind(nobs.data, i.data)
    rm(i.data)
  }
  nobs.data
}<code></code></pre><br><br></div><div><br><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5492" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5817" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2050470">Ryan Applegate</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5817" name="post-5817" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 12:45 am +03:00" datetime="1398721523">8 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Realized I was using code from the next week but here is mine:<br><pre><code>complete &lt;- function(directory, id= 1:332) {
    wd = getwd()                                    # Store current directory
    setwd(directory)                                # Move to data directory
    monitors &lt;- dir()                               # Gather all monitors
    monitor_data &lt;- lapply(monitors[id], read.csv)  # Read monitors given in "id"
    setwd(wd)                                       # Restore original directory

    # List of counts of complete cases for each monitor; length(nobs) == length(id)
    nobs &lt;- lapply(monitor_data, function(x) {sum(complete.cases(x))})

    # Build a data frame by column stacking the id and nobs lists
    df &lt;- data.frame(cbind(id, nobs))
    colnames(df) &lt;- c("id","nobs")                  # Give the dataframe some names

    df
}
</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5817" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5857" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5323114"><img src="https://coursera-profile-photos.s3.amazonaws.com/34/2c9fa0691b11e3bd14eb7f3ec6afb7/Asheshwor_20120802_squareBw.jpg" alt="">Asheshwor Man Shrestha</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5857" name="post-5857" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 8:38 am +03:00" datetime="1398749936">8 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Here's mine,<br><pre><code>complete &lt;- function(directory, id = 1:332) {
  ## 'directory' is a character vector of length 1 indicating the location of the CSV files
  ## 'id' is an integer vector indicating the monitor ID numbers to be used
  fileformat &lt;- paste0(directory, "/%03d", ".csv")
  #make file name strings from supplid ids
  files &lt;- c(sprintf(fileformat, id))
  #combine number of complete cases from specified files using rbind the list of files
  pmcomplete &lt;- do.call("rbind", lapply(files, function(xfile) {
    this.file &lt;- read.csv(xfile, na.strings=c("NA"), stringsAsFactors=FALSE)
    cbind(id=this.file$ID[1], nobs = sum(complete.cases(this.file)))
  }))
  return(data.frame(pmcomplete)) #return
}<br></code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5857" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5937" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3684443">Charles Skelton</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5937" name="post-5937" style="vertical-align:middle"><time title="Wednesday, April 30th 2014, 1:33 am +03:00" datetime="1398810806">7 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>complete &lt;- function(directory, id = 1:332) {</div><div>        nobs&lt;-numeric(0)</div><div>        for(i in id){</div><div>                filename&lt;-file.path(directory,paste(formatC(i, width = 3,flag = "0"),".csv",sep=""))</div><div>                data&lt;-read.csv(filename)</div><div>                nobs&lt;-c(nobs,nrow(na.omit(data)))</div><div>        }</div><div>        data.frame(id, nobs)</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-5937" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6395" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><span>Anonymous</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-6395" name="post-6395" style="vertical-align:middle"><time title="Saturday, May 3rd 2014, 3:51 am +03:00" datetime="1399078295">4 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {
    # set up the directory 
    dir &lt;- paste(getwd(), "/", directory, sep="")
    setwd(dir)
    
    # merge all 332 csv files into a one data set (complete.dat)
    files &lt;- list.files(path = getwd())     
    complete.dat &lt;- do.call("rbind", lapply(files, read.csv, header = TRUE))
    
    # move up a folder to automatically go back to the main directory
    # when running the function multiple times
    setwd("..")
    
    # subset the complete data set according to the id specified in the third
    # argument of the function
    pol.subset &lt;- complete.dat[complete.dat$ID %in% id, ]
    
    # get the complete cases for the IDs specified in the function
    not.null &lt;- complete.cases(pol.subset) # rows with no missing values
    not.null &lt;- cbind(pol.subset$ID, not.null) # rows with no missing values with corresponding IDs
    
    results &lt;- tapply(not.null[,2], not.null[,1], sum) # results in "array" format
    
    # create data frame to display the results
    df = as.data.frame.table(results)
    colnames(df) &lt;- c("ids", "nobs")
    
    # check if "id" in the function is called in ascending or descending order
    if (id[1] &lt; id[length(id)]) {
        df = df
    } else {
        df = df[order(df$ids, decreasing = T), ]
    }
    df
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-6395" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6731" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><span>Anonymous</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-6731" name="post-6731" style="vertical-align:middle"><time title="Monday, May 5th 2014, 10:00 am +03:00" datetime="1399273221">2 days ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {
  wd &lt;- getwd()
  setwd(directory) # change directory to specdata 
  files &lt;- dir() # get all CSV files
  returnDf &lt;- data.frame() # create a data frame that holds complete cases
  
  for (i in id) {
    data &lt;- data.frame(read.csv(files[i])) # read a CSV file
    x &lt;- complete.cases(data["sulfate"]) # find complete cases for sulfate
    y &lt;- complete.cases(data["nitrate"]) # find complete cases for nitrate
    
    #do a logical AND of x and y vectors. 
    #TRUE is returned only for records in which sulfate and nitrate don't have NA values
    z &lt;- x &amp; y 
    completeCases &lt;- length(z[z == TRUE]) #get the number of TRUEs from the z vector
    returnDf &lt;- rbind(returnDf, c(i, completeCases)) #add file number and no. of complete cases to data frame
  }
  setwd(wd)
  colnames(returnDf) &lt;- c("id", "nobs") #set columns for the data frame
  returnDf
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-6731" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-4424" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3138909"><img src="https://coursera-profile-photos.s3.amazonaws.com/ce/18c054357d0a96f8d42f6772415abc/JB_AW008.jpg" alt="">Jammi N Rao</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-4424" name="comment-4424" style="vertical-align:middle"><time title="Monday, May 5th 2014, 10:22 am +03:00" datetime="1399274561">2 days ago</time> <span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Here is the code I wrote - 7 lines. At the time I did not know about the apply functions and so used a for loop. Must study the code of people who used apply. Luckily I did not grow a data frame in each iteration of the loop (though in a task of this scale it would not in the least have been noticeably slow. I ended up with 2 vectors and simply joined them to make a data frame. I still think like a pascal programmer and like to use endif endwhile and endfor statemenmts which I put in as comment  so I know where each loop ends.<br><br><div></div><pre><code></code></pre><div><code># complete.R</code></div><code></code><div><code># files: vector of filenames, nobs: No of cases, fi: the ith file</code></div><code></code><div><code>complete &lt;- function(directory, id = 1:332) {</code></div><code></code><div><code> files &lt;- list.files(pattern="*.csv")</code></div><code></code><div><code>  nobs &lt;- integer()</code></div><code></code><div><code> for (i in id) {</code></div><code></code><div><code>    fi &lt;- read.csv(files[i])</code></div><code></code><div><code>    nobs &lt;- c(nobs, length(which(complete.cases(fi))) )</code></div><code></code><div><code> } #end of for loop</code></div><code></code><div><code>return(data.frame(id,nobs))# join the vectors id and nobs </code></div><code></code><div><code>          # into a data frame</code></div><code></code><div><code>} # end of function complete</code></div><code></code><br><div></div><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#comment-4424" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6852" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7149494">Kenneth Crocken</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-6852" name="post-6852" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 8:44 am +03:00" datetime="1399355088">14 hours ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete &lt;- function(directory, id = 1:332) {
    allData &lt;- data.frame()
    for (i in id){
        myData &lt;- read.csv(paste(directory,sprintf("%03d.csv", i), sep ="/"), header = TRUE)
        completeCases &lt;- myData[complete.cases(myData),]
        nobs &lt;- nrow(completeCases) 
        allData &lt;- rbind(allData,data.frame(id=i,nobs=nobs))
    }     
    return(allData)
}<br></code></pre></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-6852" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6908" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=238006">James Eibisch</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-6908" name="post-6908" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 10:17 pm +03:00" datetime="1399403844">an hour ago</time> <span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>complete&lt;-function(directory,id=1:332) {
  df&lt;-data.frame(id=id,nobs=rep(-1,length(id)))
  c&lt;-1
  for (i in id) {
    d&lt;-read.csv(paste(directory,'\\',formatC(i,width=3,format='d',flag='0'),'.csv',sep=''))
    df$nobs[c]&lt;-sum(complete.cases(d))
    c&lt;-c+1
  }
  return(df)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1174#post-6908" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div>