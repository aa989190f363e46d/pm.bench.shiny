<!DOCTYPE html>
<html class="supports-svg" xmlns:fb="http://ogp.me/ns/fb#" itemtype="http://schema.org"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script src="corr%28%29%20-%20Share%20you%20code_files/MathJax.js" async="" type="text/javascript"></script><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE7"><meta name="fragment" content="!"><meta name="robots" content="NOODP"><meta charset="utf-8"><meta property="og:title" content="corr() - Share you code"><meta property="og:type" content="website"><meta property="og:image" content="http://s3.amazonaws.com/coursera/media/Coursera_Computer_Narrow.png"><meta property="og:url" content="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175"><meta property="og:site_name" content="Coursera"><meta property="og:locale" content="en_US"><meta property="og:description" content="Take free online classes from 80+ top universities and organizations. Coursera is a social entrepreneurship company partnering with Stanford University, Yale University, Princeton University and others around the world to offer courses online for anyone to take, for free. We believe in connecting people to a great education so that anyone around the world can learn without limits."><meta property="fb:admins" content="727836538,4807654"><meta property="fb:app_id" content="274998519252278"><meta name="description" content="Take free online classes from 80+ top universities and organizations. Coursera is a social entrepreneurship company partnering with Stanford University, Yale University, Princeton University and others around the world to offer courses online for anyone to take, for free. We believe in connecting people to a great education so that anyone around the world can learn without limits."><meta name="image" content="http://s3.amazonaws.com/coursera/media/Coursera_Computer_Narrow.png"><meta name="apple-itunes-app" content="app-id=736535961"><title>corr() - Share you code</title>    <link href="corr%28%29%20-%20Share%20you%20code_files/spark.css" rel="stylesheet" type="text/css">
      <link href="corr%28%29%20-%20Share%20you%20code_files/course.css" rel="stylesheet" type="text/css">
      <link href="corr%28%29%20-%20Share%20you%20code_files/spark_002.css" rel="stylesheet" type="text/css">
    <link href="https://spark-public.s3.amazonaws.com/rprog/static/images/favicon.ico" rel="icon">
<script src="corr%28%29%20-%20Share%20you%20code_files/ga.js" async="" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/routes.js" data-requiremodule="pages/spark/routes" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/204.js" data-requiremodule="_204" data-requirecontext="204js" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/student-page_002.js" data-requiremodule="pages/spark/views/template/student-page" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/student-page.js" data-requiremodule="pages/spark/views/template/student-page.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/header.js" data-requiremodule="pages/spark/views/template/header" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/sidebar_002.js" data-requiremodule="pages/spark/views/template/sidebar" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/header_003.js" data-requiremodule="pages/spark/views/template/header.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/signature_track.js" data-requiremodule="spark/app/signature/js/signature_track" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/header_002.js" data-requiremodule="pages/spark/views/template/nls/header" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/sidebar.js" data-requiremodule="pages/spark/views/template/sidebar.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/sidebar_003.js" data-requiremodule="pages/spark/views/template/nls/sidebar" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/signatureTrackLastChanceModal.js" data-requiremodule="spark/app/signature/js/signatureTrackLastChanceModal.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/flexjoinLastChanceModal.js" data-requiremodule="spark/app/signature/js/flexjoinLastChanceModal.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/util.js" data-requiremodule="js/lib/util" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="corr%28%29%20-%20Share%20you%20code_files/widgets.js" data-requiremodule="pages/forum/widgets" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuTitle {background-color: #CCCCCC; margin: -5px 0 0 0; text-align: center; font-style: italic; font-size: 80%; color: #444444; padding: 2px 0; overflow: hidden}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css" charset="utf-8">/* See license.txt for terms of usage */
/** reset styling **/
.firebugResetStyles {
    z-index: 2147483646 !important;
    top: 0 !important;
    left: 0 !important;
    display: block !important;
    border: 0 none !important;
    margin: 0 !important;
    padding: 0 !important;
    outline: 0 !important;
    min-width: 0 !important;
    max-width: none !important;
    min-height: 0 !important;
    max-height: none !important;
    position: fixed !important;
    transform: rotate(0deg) !important;
    transform-origin: 50% 50% !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    background: transparent none !important;
    pointer-events: none !important;
    white-space: normal !important;
}

.firebugBlockBackgroundColor {
    background-color: transparent !important;
}

.firebugResetStyles:before, .firebugResetStyles:after {
    content: "" !important;
}
/**actual styling to be modified by firebug theme**/
.firebugCanvas {
    display: none !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.firebugLayoutBox {
    width: auto !important;
    position: static !important;
}

.firebugLayoutBoxOffset {
    opacity: 0.8 !important;
    position: fixed !important;
}

.firebugLayoutLine {
    opacity: 0.4 !important;
    background-color: #000000 !important;
}

.firebugLayoutLineLeft, .firebugLayoutLineRight {
    width: 1px !important;
    height: 100% !important;
}

.firebugLayoutLineTop, .firebugLayoutLineBottom {
    width: 100% !important;
    height: 1px !important;
}

.firebugLayoutLineTop {
    margin-top: -1px !important;
    border-top: 1px solid #999999 !important;
}

.firebugLayoutLineRight {
    border-right: 1px solid #999999 !important;
}

.firebugLayoutLineBottom {
    border-bottom: 1px solid #999999 !important;
}

.firebugLayoutLineLeft {
    margin-left: -1px !important;
    border-left: 1px solid #999999 !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.firebugLayoutBoxParent {
    border-top: 0 none !important;
    border-right: 1px dashed #E00 !important;
    border-bottom: 1px dashed #E00 !important;
    border-left: 0 none !important;
    position: fixed !important;
    width: auto !important;
}

.firebugRuler{
    position: absolute !important;
}

.firebugRulerH {
    top: -15px !important;
    left: 0 !important;
    width: 100% !important;
    height: 14px !important;
    background: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%13%88%00%00%00%0E%08%02%00%00%00L%25a%0A%00%00%00%04gAMA%00%00%D6%D8%D4OX2%00%00%00%19tEXtSoftware%00Adobe%20ImageReadyq%C9e%3C%00%00%04%F8IDATx%DA%EC%DD%D1n%E2%3A%00E%D1%80%F8%FF%EF%E2%AF2%95%D0D4%0E%C1%14%B0%8Fa-%E9%3E%CC%9C%87n%B9%81%A6W0%1C%A6i%9A%E7y%0As8%1CT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AATE9%FE%FCw%3E%9F%AF%2B%2F%BA%97%FDT%1D~K(%5C%9D%D5%EA%1B%5C%86%B5%A9%BDU%B5y%80%ED%AB*%03%FAV9%AB%E1%CEj%E7%82%EF%FB%18%BC%AEJ8%AB%FA'%D2%BEU9%D7U%ECc0%E1%A2r%5DynwVi%CFW%7F%BB%17%7Dy%EACU%CD%0E%F0%FA%3BX%FEbV%FEM%9B%2B%AD%BE%AA%E5%95v%AB%AA%E3E5%DCu%15rV9%07%B5%7F%B5w%FCm%BA%BE%AA%FBY%3D%14%F0%EE%C7%60%0EU%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5JU%88%D3%F5%1F%AE%DF%3B%1B%F2%3E%DAUCNa%F92%D02%AC%7Dm%F9%3A%D4%F2%8B6%AE*%BF%5C%C2Ym~9g5%D0Y%95%17%7C%C8c%B0%7C%18%26%9CU%CD%13i%F7%AA%90%B3Z%7D%95%B4%C7%60%E6E%B5%BC%05%B4%FBY%95U%9E%DB%FD%1C%FC%E0%9F%83%7F%BE%17%7DkjMU%E3%03%AC%7CWj%DF%83%9An%BCG%AE%F1%95%96yQ%0Dq%5Dy%00%3Et%B5'%FC6%5DS%95pV%95%01%81%FF'%07%00%00%00%00%00%00%00%00%00%F8x%C7%F0%BE%9COp%5D%C9%7C%AD%E7%E6%EBV%FB%1E%E0(%07%E5%AC%C6%3A%ABi%9C%8F%C6%0E9%AB%C0'%D2%8E%9F%F99%D0E%B5%99%14%F5%0D%CD%7F%24%C6%DEH%B8%E9rV%DFs%DB%D0%F7%00k%FE%1D%84%84%83J%B8%E3%BA%FB%EF%20%84%1C%D7%AD%B0%8E%D7U%C8Y%05%1E%D4t%EF%AD%95Q%BF8w%BF%E9%0A%BF%EB%03%00%00%00%00%00%00%00%00%00%B8vJ%8E%BB%F5%B1u%8Cx%80%E1o%5E%CA9%AB%CB%CB%8E%03%DF%1D%B7T%25%9C%D5(%EFJM8%AB%CC'%D2%B2*%A4s%E7c6%FB%3E%FA%A2%1E%80~%0E%3E%DA%10x%5D%95Uig%15u%15%ED%7C%14%B6%87%A1%3B%FCo8%A8%D8o%D3%ADO%01%EDx%83%1A~%1B%9FpP%A3%DC%C6'%9C%95gK%00%00%00%00%00%00%00%00%00%20%D9%C9%11%D0%C0%40%AF%3F%EE%EE%92%94%D6%16X%B5%BCMH%15%2F%BF%D4%A7%C87%F1%8E%F2%81%AE%AAvzr%DA2%ABV%17%7C%E63%83%E7I%DC%C6%0Bs%1B%EF6%1E%00%00%00%00%00%00%00%00%00%80cr%9CW%FF%7F%C6%01%0E%F1%CE%A5%84%B3%CA%BC%E0%CB%AA%84%CE%F9%BF)%EC%13%08WU%AE%AB%B1%AE%2BO%EC%8E%CBYe%FE%8CN%ABr%5Dy%60~%CFA%0D%F4%AE%D4%BE%C75%CA%EDVB%EA(%B7%F1%09g%E5%D9%12%00%00%00%00%00%00%00%00%00H%F6%EB%13S%E7y%5E%5E%FB%98%F0%22%D1%B2'%A7%F0%92%B1%BC%24z3%AC%7Dm%60%D5%92%B4%7CEUO%5E%F0%AA*%3BU%B9%AE%3E%A0j%94%07%A0%C7%A0%AB%FD%B5%3F%A0%F7%03T%3Dy%D7%F7%D6%D4%C0%AAU%D2%E6%DFt%3F%A8%CC%AA%F2%86%B9%D7%F5%1F%18%E6%01%F8%CC%D5%9E%F0%F3z%88%AA%90%EF%20%00%00%00%00%00%00%00%00%00%C0%A6%D3%EA%CFi%AFb%2C%7BB%0A%2B%C3%1A%D7%06V%D5%07%A8r%5D%3D%D9%A6%CAu%F5%25%CF%A2%99%97zNX%60%95%AB%5DUZ%D5%FBR%03%AB%1C%D4k%9F%3F%BB%5C%FF%81a%AE%AB'%7F%F3%EA%FE%F3z%94%AA%D8%DF%5B%01%00%00%00%00%00%00%00%00%00%8E%FB%F3%F2%B1%1B%8DWU%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*UiU%C7%BBe%E7%F3%B9%CB%AAJ%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5*%AAj%FD%C6%D4%5Eo%90%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5%86%AF%1B%9F%98%DA%EBm%BBV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%AD%D6%E4%F58%01%00%00%00%00%00%00%00%00%00%00%00%00%00%40%85%7F%02%0C%008%C2%D0H%16j%8FX%00%00%00%00IEND%AEB%60%82") repeat-x !important;
    border-top: 1px solid #BBBBBB !important;
    border-right: 1px dashed #BBBBBB !important;
    border-bottom: 1px solid #000000 !important;
}

.firebugRulerV {
    top: 0 !important;
    left: -15px !important;
    width: 14px !important;
    height: 100% !important;
    background: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%0E%00%00%13%88%08%02%00%00%00%0E%F5%CB%10%00%00%00%04gAMA%00%00%D6%D8%D4OX2%00%00%00%19tEXtSoftware%00Adobe%20ImageReadyq%C9e%3C%00%00%06~IDATx%DA%EC%DD%D1v%A20%14%40Qt%F1%FF%FF%E4%97%D9%07%3BT%19%92%DC%40(%90%EEy%9A5%CB%B6%E8%F6%9Ac%A4%CC0%84%FF%DC%9E%CF%E7%E3%F1%88%DE4%F8%5D%C7%9F%2F%BA%DD%5E%7FI%7D%F18%DDn%BA%C5%FB%DF%97%BFk%F2%10%FF%FD%B4%F2M%A7%FB%FD%FD%B3%22%07p%8F%3F%AE%E3%F4S%8A%8F%40%EEq%9D%BE8D%F0%0EY%A1Uq%B7%EA%1F%81%88V%E8X%3F%B4%CEy%B7h%D1%A2E%EBohU%FC%D9%AF2fO%8BBeD%BE%F7X%0C%97%A4%D6b7%2Ck%A5%12%E3%9B%60v%B7r%C7%1AI%8C%BD%2B%23r%00c0%B2v%9B%AD%CA%26%0C%1Ek%05A%FD%93%D0%2B%A1u%8B%16-%95q%5Ce%DCSO%8E%E4M%23%8B%F7%C2%FE%40%BB%BD%8C%FC%8A%B5V%EBu%40%F9%3B%A72%FA%AE%8C%D4%01%CC%B5%DA%13%9CB%AB%E2I%18%24%B0n%A9%0CZ*Ce%9C%A22%8E%D8NJ%1E%EB%FF%8F%AE%CAP%19*%C3%BAEKe%AC%D1%AAX%8C*%DEH%8F%C5W%A1e%AD%D4%B7%5C%5B%19%C5%DB%0D%EF%9F%19%1D%7B%5E%86%BD%0C%95%A12%AC%5B*%83%96%CAP%19%F62T%86%CAP%19*%83%96%CA%B8Xe%BC%FE)T%19%A1%17xg%7F%DA%CBP%19*%C3%BA%A52T%86%CAP%19%F62T%86%CA%B0n%A9%0CZ%1DV%C6%3D%F3%FCH%DE%B4%B8~%7F%5CZc%F1%D6%1F%AF%84%F9%0F6%E6%EBVt9%0E~%BEr%AF%23%B0%97%A12T%86%CAP%19%B4T%86%CA%B8Re%D8%CBP%19*%C3%BA%A52huX%19%AE%CA%E5%BC%0C%7B%19*CeX%B7h%A9%0C%95%E1%BC%0C%7B%19*CeX%B7T%06%AD%CB%5E%95%2B%BF.%8F%C5%97%D5%E4%7B%EE%82%D6%FB%CF-%9C%FD%B9%CF%3By%7B%19%F62T%86%CA%B0n%D1R%19*%A3%D3%CA%B0%97%A12T%86uKe%D0%EA%B02*%3F1%99%5DB%2B%A4%B5%F8%3A%7C%BA%2B%8Co%7D%5C%EDe%A8%0C%95a%DDR%19%B4T%C66%82fA%B2%ED%DA%9FC%FC%17GZ%06%C9%E1%B3%E5%2C%1A%9FoiB%EB%96%CA%A0%D5qe4%7B%7D%FD%85%F7%5B%ED_%E0s%07%F0k%951%ECr%0D%B5C%D7-g%D1%A8%0C%EB%96%CA%A0%A52T%C6)*%C3%5E%86%CAP%19%D6-%95A%EB*%95q%F8%BB%E3%F9%AB%F6%E21%ACZ%B7%22%B7%9B%3F%02%85%CB%A2%5B%B7%BA%5E%B7%9C%97%E1%BC%0C%EB%16-%95%A12z%AC%0C%BFc%A22T%86uKe%D0%EA%B02V%DD%AD%8A%2B%8CWhe%5E%AF%CF%F5%3B%26%CE%CBh%5C%19%CE%CB%B0%F3%A4%095%A1%CAP%19*Ce%A8%0C%3BO*Ce%A8%0C%95%A12%3A%AD%8C%0A%82%7B%F0v%1F%2FD%A9%5B%9F%EE%EA%26%AF%03%CA%DF9%7B%19*Ce%A8%0C%95%A12T%86%CA%B8Ze%D8%CBP%19*Ce%A8%0C%95%D1ae%EC%F7%89I%E1%B4%D7M%D7P%8BjU%5C%BB%3E%F2%20%D8%CBP%19*Ce%A8%0C%95%A12T%C6%D5*%C3%5E%86%CAP%19*Ce%B4O%07%7B%F0W%7Bw%1C%7C%1A%8C%B3%3B%D1%EE%AA%5C%D6-%EBV%83%80%5E%D0%CA%10%5CU%2BD%E07YU%86%CAP%19*%E3%9A%95%91%D9%A0%C8%AD%5B%EDv%9E%82%FFKOee%E4%8FUe%A8%0C%95%A12T%C6%1F%A9%8C%C8%3D%5B%A5%15%FD%14%22r%E7B%9F%17l%F8%BF%ED%EAf%2B%7F%CF%ECe%D8%CBP%19*Ce%A8%0C%95%E1%93~%7B%19%F62T%86%CAP%19*Ce%A8%0C%E7%13%DA%CBP%19*Ce%A8%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4h%A9%0C%B3E%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4h%A9%0C%B3E%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4%AE%A4%F5%25%C0%00%DE%BF%5C'%0F%DA%B8q%00%00%00%00IEND%AEB%60%82") repeat-y !important;
    border-left: 1px solid #BBBBBB !important;
    border-right: 1px solid #000000 !important;
    border-bottom: 1px dashed #BBBBBB !important;
}

.overflowRulerX > .firebugRulerV {
    left: 0 !important;
}

.overflowRulerY > .firebugRulerH {
    top: 0 !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.fbProxyElement {
    position: fixed !important;
    pointer-events: auto !important;
}
</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">DIV.MathJax_MathML {text-align: center; margin: .75em 0px}
.MathJax_MathML {font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; border: 0; padding: 0; margin: 0}
span.MathJax_MathML {display: inline}
div.MathJax_MathML {display: block}
.MathJax_mmlExBox {display: block; overflow: hidden; height: 1px; width: 60ex; padding: 0; border: 0; margin: 0}
[mathvariant="double-struck"] {font-family: MathJax_AMS, MathJax_AMS-WEB}
[mathvariant="script"] {font-family: MathJax_Script, MathJax_Script-WEB}
[mathvariant="fraktur"] {font-family: MathJax_Fraktur, MathJax_Fraktur-WEB}
[mathvariant="bold-script"] {font-family: MathJax_Script, MathJax_Caligraphic-WEB; font-weight: bold}
[mathvariant="bold-fraktur"] {font-family: MathJax_Fraktur, MathJax_Fraktur-WEB; font-weight: bold}
[mathvariant="monospace"] {font-family: monospace}
[mathvariant="sans-serif"] {font-family: sans-serif}
[mathvariant="bold-sans-serif"] {font-family: sans-serif; font-weight: bold}
[mathvariant="sans-serif-italic"] {font-family: sans-serif; font-style: italic}
[mathvariant="sans-serif-bold-italic"] {font-family: sans-serif; font-style: italic; font-weight: bold}
[class="MJX-tex-oldstyle"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB}
[class="MJX-tex-oldstyle-bold"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB; font-weight: bold}
[class="MJX-tex-caligraphic"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB}
[class="MJX-tex-caligraphic-bold"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB; font-weight: bold}
@font-face /*1*/ {font-family: MathJax_AMS-WEB; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf')}
@font-face /*2*/ {font-family: MathJax_Script-WEB; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf')}
@font-face /*3*/ {font-family: MathJax_Fraktur-WEB; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf')}
@font-face /*4*/ {font-family: MathJax_Caligraphic-WEB; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf')}
@font-face /*5*/ {font-family: MathJax_Fraktur-WEB; font-weight: bold; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf')}
@font-face /*6*/ {font-family: MathJax_Caligraphic-WEB; font-weight: bold; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf')}
</style></head><body class="wysihtml5-supported"><div style="display: none;" id="MathJax_Message"></div><div id="fb-root"></div><div id="spark-help" class="hide"></div><a href="http://help.coursera.org/customer/widget/emails/new" target="_blank"><div style="z-index: 1" data-networkprioritysupportwidget="" role="button" class="helpwidget-tab hide">Premium Support</div></a><div id="origami"><div><div><div class="coursera-page"><div class="coursera-header" role="menubar"><div class="hidden">This page features MathJax technology to render mathematical formulae.
If you are using a screen reader, please visit <a href="http://www.dessci.com/en/products/mathplayer/">MathPlayer</a> to download the plugin for your browser. Please note that this is an Internet Explorer-only plugin at this time.</div><h1 class="hidden">R Programming</h1><div role="banner" class="course-topbar container-fluid"><div class="row-fluid"><div class="span3"><a href="https://www.coursera.org/" data-if-linkable="add-referrer" class="course-topbar-logo"></a></div><div style="float:right;" class="course-topbar-nav-container span9"><h2 class="hidden">Top Navigation Bar</h2><ul class="course-topbar-nav-list"><li class="course-topbar-nav-list-item"><a href="https://www.coursera.org/courses" data-if-linkable="add-referrer">Courses</a></li><li tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="course-topbar-my" data-popup="#course-topbar-my" data-popup-bind-open="mouseenter" data-popup-close="data-popup-close" style="cursor:pointer;" data-popup-direction="se" class="course-topbar-nav-list-item"><a data-user-id="143432">Alex Rempel<i class="icon-caret-down"></i></a></li></ul></div></div><div id="course-topbar-aboutus" class="course-topbar-sublist"><a href="https://www.coursera.org//about/" target="_new" data-if-linkable="add-referrer" class="internal-about course-topbar-sublist-item">About Us</a><a href="https://www.coursera.org//about/careers" target="_new" data-if-linkable="add-referrer" class="internal-about course-topbar-sublist-item">Careers</a><a href="https://www.coursera.org//about/people" target="_new" data-if-linkable="add-referrer" class="internal-about course-topbar-sublist-item">People</a><a href="https://www.coursera.org//about/contact" target="_new" data-if-linkable="add-referrer" class="internal-about course-topbar-sublist-item">Contact Us</a></div><div id="course-topbar-my" class="course-topbar-sublist"><a data-popup-close="data-popup-close" href="https://www.coursera.org/" target="_new" class="course-topbar-sublist-item">My Courses</a><a data-popup-close="data-popup-close" href="https://www.coursera.org/account/profile" target="_new" class="course-topbar-sublist-item">Profile</a><a data-popup-close="data-popup-close" href="https://www.coursera.org/account/records" target="_new" class="course-topbar-sublist-item">Course Records</a><a href="https://www.coursera.org/account/settings" target="_new" class="course-topbar-sublist-item">Settings</a><a href="https://class.coursera.org/rprog-002/class/preferences" class="course-topbar-sublist-item">Course Preferences</a><a href="https://class.coursera.org/rprog-002/auth/logout" class="course-topbar-sublist-item">Sign Out</a></div></div><div class="course-topbanner-wrapper"><div class="course-topbanner"><div class="course-topbanner-university-logo"><a href="https://www.coursera.org/jhu" target="_blank" data-if-linkable="add-referrer" title="https://www.coursera.org/jhu" class="coursera-university-color"><img src="corr%28%29%20-%20Share%20you%20code_files/university_logo.png" alt="jhu"></a></div><h1 class="course-topbanner-header"><a href="https://class.coursera.org/rprog-002/" data-if-linkable="modal-lock" class="course-topbanner-name coursera-university-color">R Programming</a><br><span style="" class="course-topbanner-instructor">by Roger D. Peng, PhD, Brian Caffo, PhD, Jeff Leek, PhD</span></h1></div></div></div><div style="position:relative;" class="container-fluid"><div class="row-fluid"><div id="course-page-sidebar" role="navigation"><div class="coursera-sidebar" role="menubar"><div id="course-page-sidebar" role="navigation"><div class="course-navbar-container"><a href="https://class.coursera.org/rprog-002" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_index"><img src="corr%28%29%20-%20Share%20you%20code_files/logo.jpeg" style="width: 205px;height: 116px;margin: -15px 0px 8px 1px; box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.05);" alt="Course Home Page"></a><div data-coursera-course-search-nav-widget="data-coursera-course-search-nav-widget" class="input-append course-search-nav-box"><form method="get" action="/rprog-002/class/search" data-js-search-form="data-js-search-form" class="form-inline minimized-search"><label for="course-search-nav-input" class="accessible-text-for-reader">Search this course</label><input id="course-search-nav-input" name="q" data-js-search-input="data-js-search-input" type="text">&nbsp;<button type="submit" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="search" class="btn icon-search"><span class="accessible-text-for-reader">Search</span></button></form></div><h2 class="hidden">Side Navigation Bar</h2><ul class="course-navbar-list"><li class="course-navbar-item"></li><li class="course-navbar-item"><h3>Course</h3></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/class/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Announcements" class="coursera-university-color"><span>Announcements </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/lecture/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Video_Lectures" class="coursera-university-color"><span>Video Lectures </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/forum/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Discussion_Forums" class="coursera-university-color"><span>Discussion Forums </span><span></span></a></li><li class="course-navbar-item"></li><li class="course-navbar-item"><h3>Exercises</h3></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/quiz/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Quizzes" class="coursera-university-color"><span>Quizzes </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/human_grading/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Peer_Assessments" class="coursera-university-color"><span>Peer Assessments </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/assignment/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Programming_Assignments" class="coursera-university-color"><span>Programming Assignments </span><span></span></a></li><li class="course-navbar-item"></li><li class="course-navbar-item"><h3>About the course</h3></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/wiki/syllabus" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Syllabus" class="coursera-university-color"><span>Syllabus </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/wiki/About_the_Instructor" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_About_the_Instructor" class="coursera-university-color"><span>About the Instructor </span><span></span></a></li><li class="course-navbar-item"><h3>Community</h3></li><li class="course-navbar-item"><a href="http://www.meetup.com/Coursera/" target="_blank" class="coursera-university-color">Join a Meetup<span class="icon-share"></span><span class="accessible-text-for-reader">opens in new browser tab</span></a></li></ul><ul style="list-style-type:none;margin-left: 10px;"><li><a href="http://help.coursera.org/" target="_blank" title="Open help articles in new window" class="coursera-university-color"><i class="icon-question-sign"></i>Help Articles</a></li></ul><ul style="list-style-type:none;margin-left: 10px;"><li><a href="https://class.coursera.org/rprog-002/forum/list?forum_id=10000&amp;url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175" class="coursera-university-color"><i class="icon-comments"></i>Course Materials Errors</a></li><li><a href="https://class.coursera.org/rprog-002/forum/list?forum_id=10001&amp;url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175" class="coursera-university-color"><i class="icon-comments"></i>Technical Issues</a></li></ul></div></div></div></div><div id="course-page-content" role="main"><div style="display: block;" id="spark" class="hide"><a data-coursera-admin-helpwidget-link="" rel="help" href="https://class.coursera.org/mooc/help/forums" title="Forums" style="display:none;">Learn more</a>

<div data-coursera-forum-thread-widget="" data-thread-mode="page" data-thread-id="1175" data-course-id="972078" data-triage-enabled=""><a target="_blank" href="https://class.coursera.org/rprog-002/help/forums?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175" title="Help center for course issues. This will open in a new tab." class="coursera-reporter-link">Help</a><div class="course-forum-thread-crumbs"><ul class="course-forum-breadcrumb"><li><a href="https://class.coursera.org/rprog-002/forum/list">Forums</a><span class="divider"> / </span></li><li><a href="https://class.coursera.org/rprog-002/forum/list?forum_id=10011">Programming Assignment 1</a></li></ul></div><div class="course-forum-thread-header-wrapper"><div><div dir="auto" class="course-forum-thread-title"><h2>corr() - Share you code</h2></div><div class="course-forum-thread-header"><div class="course-forum-thread-controls"><span title="This thread was pinned." class="course-forum-thread-indicator course-forum-indicator-good"><i title="Pinned Post" class="icon-pushpin"></i> Pinned</span></div><div style="margin-right:10px; display:inline-block;"><a href="javascript:void(0);" class="course-forum-thread-subscribe-link">Subscribe for email updates.</a></div><div class="course-forum-thread-move hide"><span data-can-move="0" class="hide">You cannot move this thread until this issue is resolved.</span><div data-can-move="1" class="hide">Move this thread!&nbsp;<select class="course-forum-move-select"></select><span>&nbsp;</span><button type="button" class="btn course-forum-move-btn">Move!</button></div></div></div></div></div><div class="course-forum-thread-sort"><ul class="nav nav-pills pull-right"><li><span style="padding: 8px; display: inline-block;">Sort replies by:</span></li><li class="active" data-sort-name="oldest"><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175&amp;sort=oldest">Oldest first</a></li><li data-sort-name="newest"><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175&amp;sort=newest">Newest first</a></li><li data-sort-name="popular"><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175&amp;sort=popular">Most popular</a></li></ul></div><div class="course-forum-thread-tags"><div><link href="corr%28%29%20-%20Share%20you%20code_files/select2.css" rel="stylesheet" type="text/css"><h5 style="display:inline-block;"><span class="hidden">Tags </span><i class="icon-tags"></i>&nbsp;</h5><span>No tags yet.</span>&nbsp;<a href="javascript:void(0)" class="course-forum-thread-tags-link">+ Add Tag</a><form class="course-forum-thread-tags-form form-inline hide"><label>Please try to use existing tags.   &nbsp;</label><input name="tags" style="margin-left:10px" class="input-medium" type="text"><button type="button" style="margin-left:10px" disabled="disabled" class="btn">Save</button><a href="javascript:void(0)" role="button" style="margin-left:10px">Cancel</a></form></div></div><div class="course-forum-thread-area-container"><div style="display: none;" class="course-forum-top-scroll-indicator">⬆ scroll up for more ⬆</div><div style="clear: right;" class="course-forum-thread-posts-container"><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4886" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4635350"><img src="corr%28%29%20-%20Share%20you%20code_files/MtCook.jpg" alt="">Marina</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4886" name="post-4886" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:21 pm +03:00" datetime="1398259291">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Now when hard deadline is over, feel free to post and discuss your code. <br>Reading others code is part of learning experience. <br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-active"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">6</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4886" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4892" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1299214"><img src="corr%28%29%20-%20Share%20you%20code_files/JonPicture.jpg" alt="">Jonathan Fivelsdal</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4892" name="post-4892" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:37 pm +03:00" datetime="1398260264">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">This is what I had for corr<br><br><div>corr &lt;- function(directory, threshold = 0) {</div><div><br>&nbsp;<font color="#333333"> filePath &lt;- paste0(getwd(),"/",directory,"/")&nbsp;</font><br></div><div>&nbsp; fileNames &lt;- list.files( filePath)</div><div>&nbsp;&nbsp;</div><div>&nbsp; fileNameVector &lt;- paste0( filePath,fileNames)</div><div>&nbsp;&nbsp;<span style="color:rgb(51,51,51);">fileDataList &lt;- lapply(1:length(fileNameVector), function(index) read.csv(fileNameVector[index]))</span></div><div>&nbsp;&nbsp;<br><span style="color:rgb(51,51,51);">&nbsp; correlate &lt;- NULL</span></div><div>&nbsp;&nbsp;</div><div>&nbsp; for(index in 1:length(fileNameVector ))</div><div>&nbsp; {</div><div>&nbsp; &nbsp; if(sum(complete.cases( &nbsp;fileDataList[[index]])) &gt; threshold)&nbsp;</div><div>&nbsp; &nbsp;&nbsp;<span style="color:rgb(51,51,51);">{&nbsp;</span></div><div>&nbsp;
 &nbsp; &nbsp; correlate[index] &lt;- 
cor(fileDataList[[index]]["sulfate"],fileDataList[[index]]["nitrate"],use
 = "pairwise.complete.obs") &nbsp;&nbsp;</div><div>&nbsp; &nbsp;&nbsp;<span style="color:rgb(51,51,51);">}&nbsp;</span></div><div>&nbsp; &nbsp;&nbsp;<span style="color:rgb(51,51,51);">else{</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color:rgb(51,51,51);">correlate[index] &lt;- NA</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color:rgb(51,51,51);">}&nbsp;</span></div><div>&nbsp; &nbsp;<span style="color:rgb(51,51,51);">}</span></div><div><br></div><div>correlate &lt;-na.omit(correlate)</div><div><span style="color:rgb(51,51,51);">correlate &nbsp;&lt;- as.numeric(correlate) #converts it back to a numeric vector</span><br></div><div><span style="color:rgb(51,51,51);"><br>return(correlate)</span><br></div><div><span style="color:rgb(51,51,51);"><br>}</span><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4892" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4897" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5702772">Ron Stieger</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4897" name="post-4897" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:55 pm +03:00" datetime="1398261347">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {
    flist &lt;- list.files(path = directory, full.names = TRUE)
    goodlist &lt;- subset(complete(directory, 1:length(flist)), nobs &gt; threshold)[,"id"]

    result = numeric(length(goodlist))
    for (i in seq_along(goodlist))
    {
        df &lt;- read.csv(flist[goodlist[i]])
        result[i] = cor(df["sulfate"], df["nitrate"], use = "complete.obs")
    }
    result
}</code></pre>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">4</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4897" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3174" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6333673">Troy Le</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#comment-3174" name="comment-3174" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:54 pm +03:00" datetime="1398264855">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">I
 like your code Rod, its straight to the point and easy to read. Mine is
 below, which is not perfect, but a good learning experience 
nonetheless.<br><br><div>corr &lt;- function(directory, threshold = 0) {</div><div>setwd(directory)</div><div><br></div><div>myfiles &lt;- list.files()</div><div>y &lt;- complete(directory, 1:332)</div><div>x &lt;- y[,2] &gt; threshold</div><div>z &lt;- y[,1][x]</div><div>c &lt;- 1:length(z)</div><div><br></div><div>if (length(z) != 0) {</div><div>&nbsp; &nbsp; for (i in 1:length(z)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; mydata &lt;- read.csv(myfiles[z[i]])</div><div>	 &nbsp; &nbsp;c[i] &lt;- cor(mydata[,"sulfate"], mydata[,"nitrate"], use="complete.obs")</div><div>&nbsp; &nbsp; }</div><div>	</div><div>} else { c &lt;- 0}</div><div><br></div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23comment-3174" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4909" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7141077"><img src="corr%28%29%20-%20Share%20you%20code_files/Thatya-Ariyaratne_JOW-130808-6025-like-ok.jpg" alt="">Thathya Ariyaratne</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4909" name="post-4909" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:41 pm +03:00" datetime="1398264085">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre>corr &lt;- function(directory, threshold = 0) {<br>&nbsp; dir &lt;- c(paste(("C:/Users/tariyaratne/Documents/R/"), "specdata", sep=""))<br>&nbsp; setwd(dir)<br>&nbsp; x &lt;- list.files(pattern=".csv")<br>&nbsp; y &lt;- lapply(x, read.table, header = TRUE, sep=",")<br>&nbsp; z &lt;- do.call(rbind, y)<br>&nbsp; data &lt;- z[complete.cases(z), ]<br>&nbsp; comp.df &lt;- complete(y)<br>&nbsp; s &lt;- subset(comp.df, nobs&gt;threshold)<br>&nbsp; id &lt;- s[ ,"id"]<br>&nbsp;&nbsp; vectcr &lt;- NULL<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (i in id) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; subseti &lt;- subset(data, ID==i)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nitratei &lt;- subseti[ ,"nitrate"]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sulfatei &lt;- subseti[ ,"sulfate"]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vectcr &lt;- rbind(vectcr, as.numeric(cor(nitratei, sulfatei)))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp; print(vectcr)<br>}</pre><br><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4909" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4910" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3235966">Azhaar Hussain</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4910" name="post-4910" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:43 pm +03:00" datetime="1398264186">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div>Here is how did it...<br>corr &lt;- function (dir="specdata",threshold = 0){</div><div>&nbsp; &nbsp; k&lt;-numeric()</div><div>&nbsp; &nbsp; id&lt;-1:332</div><div>&nbsp; &nbsp; filenames&lt;-paste0(formatC(id,width=3,flag="0"),".csv")</div><div>&nbsp; &nbsp; fullnames&lt;-file.path("specdata",filenames)</div><div>&nbsp; &nbsp; for (i in 1:length(fullnames)){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; current_file &lt;- read.csv(fullnames[i],header=TRUE)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; j &lt;- current_file[complete.cases(current_file),]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; nobs &lt;- nrow(j)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (nobs &gt; threshold){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; k&lt;-c(k,cor(j$nitrate,j$sulfate))</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div><br></div><div>}</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; k</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4910" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4920" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3232448">geoffrey anderson</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4920" name="post-4920" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:00 pm +03:00" datetime="1398265246">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">What's to like: No loops were used. The code is short.<br>What's not to like: It took me several hours to research this.<br>Other: There are still some improvements possible. Feel free to improve this code. It's OK with me.<br><br>&nbsp;&nbsp;&nbsp; require('data.table')<br>&nbsp;&nbsp;&nbsp; F &lt;- lapply("*.csv", list.files, path=directory, full.names=TRUE)<br>&nbsp;&nbsp;&nbsp; l &lt;- lapply(F[[1]], read.csv)<br>&nbsp;&nbsp;&nbsp; ldt &lt;- lapply(l, data.table)&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp; dt &lt;- rbindlist(ldt)<br>&nbsp;&nbsp;&nbsp; ret &lt;- dt[<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i=!is.na(sulfate) &amp; !is.na(nitrate),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j=list(cor(sulfate,nitrate,use='complete.obs'), .N), <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; by='ID'][N &gt; threshold]<br>&nbsp;&nbsp;&nbsp; ret$V1<br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">3</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4920" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-4596" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=238006">James Eibisch</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#comment-4596" name="comment-4596" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 10:12 pm +03:00" datetime="1399403567">an hour ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">+1 for no loop :)</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23comment-4596" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4925" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2186054"><img src="corr%28%29%20-%20Share%20you%20code_files/Head-Shot.jpg" alt="">Michael Shipman</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4925" name="post-4925" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:07 pm +03:00" datetime="1398265639">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">I
 know this looks a bit "VBA"ish, but that's what I use at work with 
MSOffice.&nbsp; Also, I annotate a lot out of habit to help guide me 
when I look back at this later. <br><pre>corr &lt;- function(directory, threshold = 0) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Gets and stores the filenames in the specified directory.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileNames &lt;- list.files(path=directory)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Calls "complete" function to get observations per file dataframe.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NumberOfObs &lt;- complete(directory)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Creates dataframe with file ID's above threshold value.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ThresID &lt;- subset(NumberOfObs, nobs &gt; threshold)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Creates a vector of monitor id's to look up the files.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileID &lt;- ThresID$id<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Creates an empty vector CorrVect to store the complied monitor correlations.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CorrVect &lt;- c()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #If statement checks if there are no files above threshold, otherwise will<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # the code will compile the correlation vector.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (length(FileID) == 0) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ResultVect &lt;- 0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ResultVect &lt;- c()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (i in FileID){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Reads individual monitor data file<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MonData &lt;- read.csv(file=paste(directory, "/", FileNames[i], sep=""),header=TRUE)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Retains the complete cases and purges the NA rows from monitor data.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MonData &lt;- MonData[complete.cases(MonData),]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; filecorr &lt;- cor(MonData["nitrate"],MonData["sulfate"])<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Compiles the correlation vector with each loop.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CorrVect &lt;- c(CorrVect, filecorr)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Returns the correlation vector out of the function.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CorrVect<br>}<br></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4925" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4928" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1327050"><img src="corr%28%29%20-%20Share%20you%20code_files/Firefox_wallpaper.png" alt="">Gregory D. Horne</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4928" name="post-4928" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:15 pm +03:00" datetime="1398266151">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><br><pre><code>corr &lt;- function(directory, threshold = 0) {<br><br>&nbsp;&nbsp;correlations = c()<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;for (afile in list.files(directory)) {<br>&nbsp;&nbsp; &nbsp;monitor &lt;- strsplit(afile, "<a>\\.")[[1]][1</a>]<br>&nbsp;&nbsp; &nbsp;dataset &lt;- read.csv(paste("./", directory, "/", sprintf("%03s", monitor), ".csv", sep=""), TRUE)<br>&nbsp;&nbsp; &nbsp;if (nrow(dataset[complete.cases(dataset),]) &gt; threshold) {<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;obs &lt;- dataset[complete.cases(dataset),]<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;correlations &lt;- append(correlations, cor(obs$sulfate, obs$nitrate))<br>&nbsp;&nbsp; &nbsp;}<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;correlations<br>}</code></pre><br>Though I could have simplified it slightly &nbsp;and eliminated 1 line.<br><br><pre><code>corr &lt;- function(directory, threshold = 0) {<br><br>&nbsp;&nbsp;correlations = c()<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;for (afile in list.files(directory, full.names=TRUE)) {<br>&nbsp;&nbsp; &nbsp;dataset &lt;- read.csv(afile,TRUE)<br>&nbsp;&nbsp; &nbsp;if (nrow(dataset[complete.cases(dataset),]) &gt; threshold) {<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;obs &lt;- dataset[complete.cases(dataset),]<br>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;correlations &lt;- append(correlations, cor(obs$sulfate, obs$nitrate))<br>&nbsp;&nbsp; &nbsp;}<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;correlations<br><span>}</span><br></code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4928" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4951" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5795600"><img src="corr%28%29%20-%20Share%20you%20code_files/IMG_20140304_162938_2.jpg" alt="">Arun Balan</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4951" name="post-4951" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 8:29 pm +03:00" datetime="1398274186">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div></div><pre><code>corr &lt;- function(directory, threshold = 0) {
  vectorCorrs &lt;- numeric()
  for (specFile in list.files(directory)){
    tmpData &lt;- read.csv(file.path(directory,specFile))
    tmpData &lt;- tmpData[complete.cases(tmpData),]
    if (nrow(tmpData) &gt; threshold){
      currentCorr &lt;- cor(tmpData[["sulfate"]], tmpData[["nitrate"]])
      vectorCorrs &lt;- append(vectorCorrs, currentCorr)
    }
  }
  vectorCorrs
}<br></code></pre><div></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4951" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4959" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7078253"><img src="corr%28%29%20-%20Share%20you%20code_files/bodensee2013-5.jpg" alt="">Mario Hofer</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4959" name="post-4959" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 9:00 pm +03:00" datetime="1398276001">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {
    corrs = numeric()
    for(curid in 1:332) {
      fn &lt;- paste(directory,"/",formatC(curid,width=3,flag="0"),".csv",sep="")
      data &lt;- read.csv(fn)
      if(sum(complete.cases(data)) &gt; threshold) {
          corrs = c(corrs,cor(data[,2],data[,3],use="complete.obs"))
      }
    }
    corrs
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4959" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4981" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4326104"><img src="corr%28%29%20-%20Share%20you%20code_files/me.jpg" alt="">Sean Mantey</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4981" name="post-4981" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:34 pm +03:00" datetime="1398281659">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div><span style="color:rgb(51,51,51);">&nbsp;</span><br></div><div>&nbsp; filenames &lt;- list.files(path=directory)</div><div>&nbsp; outData &lt;- numeric()</div><div>&nbsp;&nbsp;</div><div>&nbsp; for (filename in filenames) {</div><div>&nbsp; &nbsp; filename2&lt;-paste(directory,"/",filename,sep="")</div><div>&nbsp; &nbsp; tempData &lt;- read.csv(filename2)</div><div>&nbsp; &nbsp; tempData2 &lt;- na.omit(tempData)</div><div>&nbsp; &nbsp; obsCount &lt;- nrow(tempData2)</div><div>&nbsp; &nbsp; if(obsCount&gt;threshold){</div><div>&nbsp; &nbsp; &nbsp; outData &lt;- append(outData,cor(tempData2$nitrate,tempData2$sulfate))</div><div>&nbsp; &nbsp; }</div><div>&nbsp; }</div><div>&nbsp; outData</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4981" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4985" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"><a title="Controls" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="course-forum-post-controls-4985" data-popup="#course-forum-post-controls-4985" data-popup-direction="se" class="course-forum-post-controls-toggle"><i class="icon-cog"><span class="hidden">Controls</span></i></a><div id="course-forum-post-controls-4985" class="course-forum-post-controls-popup hide"><!-- If you have editing rights, you can edit or delete--><a href="javascript:void(0)" class="course-forum-post-edit-link">Edit</a><a href="javascript:void(0)" data-property="deleted" data-value="1" class="course-forum-post-action-link">Delete</a><!-- Only forum moderators --></div></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=143432"><img src="corr%28%29%20-%20Share%20you%20code_files/Stained_glass_Tower_of_Ivory.jpg" alt="">Alex Rempel</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4985" name="post-4985" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:41 pm +03:00" datetime="1398282086">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code># PART 3  
corr &lt;- function(directory, threshold = 0) {  

    sapply(Filter( function(x) nrow(x)&gt;threshold  
                 ,lapply(X=paste('specdata',sprintf('%03i.csv',1:332),sep='/')  
                           ,FUN=function(x) na.omit(read.table(x  
                                                        ,header=T  
                                                        ,sep=','  
                                                        ,na.strings='NA'  
                                                        ,stringsAsFactors=FALSE)[c('nitrate','sulfate')])))  
         ,function(x) cor(x[[1]],x[[2]]))  
}</code></pre>
</div><div aria-haspopup="true" aria-expanded="false" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4985" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4987" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6276077">Stephen A. Wright</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4987" name="post-4987" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:47 pm +03:00" datetime="1398282478">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {<br>        vcor = numeric()        <br>        for(file in list.files(directory, pattern = "*.csv", full.names = TRUE)){<br>                temp = na.omit(read.csv(file, header = TRUE))                <br>                if (nrow(temp) &gt; threshold){<br>                        vcor &lt;- rbind(vcor, cor(temp$sulfate, temp$nitrate))<br>                }<br>        }        <br>        vcor        <br>}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4987" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4999" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4555390">Lori Kandyba</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-4999" name="post-4999" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 11:37 pm +03:00" datetime="1398285444">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {		<br><br>path &lt;- paste(getwd(), directory, sep="/")				<br>files &lt;- list.files(path, pattern = ".csv", full.names = TRUE)	<br><br>corlist &lt;- vector(mode="numeric", length=0)				<br><br>for (i in 1:length(files)) {						<br>    data &lt;- read.csv(files[i])				<br>    x &lt;- sum(complete.cases(data))			<br>    cc&lt;- data[complete.cases(data),]			<br><br>        if (x&gt;threshold) {						<br>            y &lt;- cor(cc[,2], cc[,3])			<br>	    corlist &lt;-c(corlist,y)				<br>	}									<br>}										<br><br>return(corlist)<br>&nbsp;<br>}											<br><br></code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-4999" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5011" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3156"><img src="corr%28%29%20-%20Share%20you%20code_files/head.jpg" alt="">Jan Zegan</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5011" name="post-5011" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:26 am +03:00" datetime="1398288378">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {
  require(data.table)
  
  results &lt;- c()
  for (file in list.files(directory)){
    .df &lt;- na.omit(fread(file.path(directory, file)))
  
    if(nrow(.df) &gt; threshold){
      results &lt;- c(results, cor(.df$sulfate, .df$nitrate))
    }
    rm(.df)
  }
  results
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5011" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5043" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6660831">Jonathan Gabriel</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5043" name="post-5043" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:12 am +03:00" datetime="1398294743">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div>&nbsp; id &lt;- list.files(directory)</div><div>&nbsp; cv &lt;- c()&nbsp;</div><div>&nbsp; for (i in id) {</div><div>&nbsp; &nbsp; data &lt;- read.csv(paste(directory, '/', i, sep=""))</div><div>&nbsp; &nbsp; comp &lt;- complete.cases(data)</div><div>&nbsp; &nbsp; sub &lt;- subset(data,comp)</div><div>&nbsp; &nbsp; if (nrow(sub) &gt; threshold) {</div><div>&nbsp; &nbsp; &nbsp; cv &lt;- c(cv, cor(sub$sulfate, sub$nitrate))</div><div>&nbsp; &nbsp; }</div><div>&nbsp; }</div><div>&nbsp; cv</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5043" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5046" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=76740">yasser Karmaoui idrissi</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5046" name="post-5046" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:21 am +03:00" datetime="1398295301">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; df &lt;- complete(directory,1:332)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; veto &lt;- logical(length = 332)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; vetoM &lt;- matrix(veto,332,1)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dflog &lt;- df["nobs"]&gt;threshold</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dflogt &lt;- matrix(dflog,332,1,dimnames = NULL)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; test &lt;-identical(dflogt,vetoM)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(test){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; corre &lt;- NULL</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }else{</div><div>&nbsp; &nbsp; &nbsp; &nbsp; index &lt;-df[dflog,][,1:2]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; id1 &lt;- c(index["id"])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; id &lt;-id1[[1]]&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; names(id)&lt;- NULL</div><div>&nbsp; &nbsp; &nbsp; &nbsp; wrdir &lt;-getwd()</div><div>&nbsp; &nbsp; &nbsp; &nbsp; link &lt;- file.path(wrdir,directory)</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for (i in id ){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; csvnfil1 &lt;- if(i&lt;10){</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; paste("0","0",i,".csv",sep="") &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if(10&lt;= i &amp; i&lt;100){</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; paste("0",i,".csv",sep="") &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if(100&lt;=i){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paste(i,".csv",sep="")&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; csvnfilc1 &lt;-file.path(link,csvnfil1)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; csvdata1 &lt;- read.csv(csvnfilc1)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; csvdatalog &lt;- complete.cases(csvdata1)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; csvdatac &lt;- csvdata1[csvdatalog,][,1:4]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;corre &lt;- if (id[1]== i){</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; y&lt;-cor(csvdatac["sulfate"],csvdatac["nitrate"])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y[1,1]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else{</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; z &lt;- cor(csvdatac["sulfate"],csvdatac["nitrate"])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rbind(corre,z[1,1])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }}</div><div>&nbsp; &nbsp; &nbsp; &nbsp; corre</div><div>}</div><div><br><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5046" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5082" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1664682"><img src="corr%28%29%20-%20Share%20you%20code_files/IMG_4645.jpg" alt="">john ryan zelling</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5082" name="post-5082" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:48 am +03:00" datetime="1398311319">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function (
        directory = "specdata",
        threshold = 1 ) {
        
        #function that returns number of complete observations in file
        source("~/Downloads/pollutionmonitordata/complete.R")
        
        #initialize file directory and initialize UNIX pathname to all files
        root &lt;- "~/Downloads/pollutionmonitordata/"
        directory &lt;- paste( root, directory, "/", sep="" )
        setwd( directory )
        filenames &lt;- as.character( list.files() )
        filepaths &lt;- paste( directory, filenames, sep="" )
        
        #initialize complete cases
        filecount &lt;- length( list.files() )
        cases &lt;- complete("specdata", id = 1:filecount)
        
        #initialize cases that meet threshold minimum and set column names
        valid &lt;- cases[ ,2 ] &gt;= threshold
        validcases &lt;- cbind(
                valid1 &lt;- cases[ ,1 ][ valid ],
                valid2 &lt;- cases[ ,2 ][ valid ]
        )
        colnames( validcases ) &lt;- c("id", "nobs")
        
        #initialize new UNIX pathnames using only valid cases
        filenames &lt;- filenames[ validcases[ ,1 ] ]
        filepaths &lt;- paste( directory, filenames, sep="" )
        
        #if no files meet threshold return empty vector
        if( length( filenames ) == 0 ) {
                corrs = c()
                return( corrs )
        }
        
        #initialize vector to store correlations for each file
        corrs &lt;- c()
        
        #loop through UNIX pathnames and store values in corrs
        for( i in seq( filepaths ) ) {
                loadfile &lt;- read.csv( filepaths[ i ] )
                
                #read the sulfate and nitrate values for open file
                sulfate &lt;- loadfile$sulfate
                nitrate &lt;- loadfile$nitrate
                
                #calculate correlation using only complete cases of sulfate, nitrate
                corrs &lt;- c( corrs, cor( 
                                    sulfate[ complete.cases( sulfate, nitrate ) ],
                                    nitrate[ complete.cases( sulfate, nitrate ) ] 
                                        )
                            )
        }
        
        return( corrs )
}
</code></pre><div><br></div><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5082" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5083" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=243267"><img src="corr%28%29%20-%20Share%20you%20code_files/rsz_thinking_cat4.jpg" alt="">timothy235</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5083" name="post-5083" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:53 am +03:00" datetime="1398311601">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div><br></div><div>&nbsp; &nbsp; # store the correlations in the vector result</div><div>&nbsp; &nbsp; result &lt;- c()</div><div><br></div><div>&nbsp; &nbsp; for (i in 1:332) {</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; # convert the file number to character and prepend zeroes if necessary</div><div>&nbsp; &nbsp; &nbsp; &nbsp; filename &lt;- if (i &lt; 10) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paste("00", as.character(i), sep = "")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; } else if (i &lt; 100) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paste("0", as.character(i), sep = "")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; } else {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; as.character(i)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; # assume specdata is a subdirectory of the present working directory</div><div>&nbsp; &nbsp; &nbsp; &nbsp; filepath &lt;- paste(c(directory, "/", filename, ".csv"), collapse = "")</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; # put new data in matrix</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dataframe &lt;- read.csv(filepath)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; cmpltcases &lt;- complete.cases(dataframe)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; numcases &lt;- sum(cmpltcases)</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (numcases &gt; threshold) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; df &lt;- subset(dataframe, cmpltcases)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; corr &lt;- cor(df$nitrate, df$sulfate)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result &lt;- c(result, corr)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; result</div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5083" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5086" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3213201">William B Piggot</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5086" name="post-5086" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:01 am +03:00" datetime="1398312079">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0){
  cases &lt;- complete("~/Desktop/R Files/specdata", 1:332)
  newDF &lt;- cases[cases[2] &gt; threshold, c(1,2)]
excid &lt;-newDF$id
corVect &lt;- c()
for (i in seq_along(excid)){
  filename &lt;- paste(directory, "/", sprintf("%03d", as.numeric(excid[i])), ".csv", sep = "")
  my_data &lt;- read.csv(filename)
  clean_data &lt;- my_data[complete.cases(my_data[,1:4]),]
  a &lt;- cor(clean_data[, "nitrate"], clean_data[, "sulfate"])
  corVect &lt;- append(corVect, a)}
  return(corVect)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5086" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5127" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=521654"><img src="corr%28%29%20-%20Share%20you%20code_files/ammar-pic.jpg" alt="">Ammar Raja</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5127" name="post-5127" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:17 pm +03:00" datetime="1398331057">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>It
 is as simple as this. I couldn't complete it before the deadline, but 
still feeling good that I atleast completed it. I have seen many other 
solutions which seem complex, if you are looking for the simplest 
solution to Assignment 1, part 3, this is the one. Give it a go, gives 
all the results you want in a whisker.<br><br><pre><code></code></pre><br>corr &lt;- function(directory, threshold=0) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;	 &nbsp; &nbsp;result &lt;- numeric(0) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>		</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for(i in 1:332) {</div><div>				&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; x &lt;- list.files()[i];</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; csvfiledata &lt;- read.csv(x)</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; csvfilecompdata &lt;- csvfiledata[complete.cases(csvfiledata),]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; count &lt;- nrow(csvfilecompdata)</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(count &gt; threshold) {</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result &lt;- append(result, 
cor((csvfilecompdata$nitrate), (csvfilecompdata$sulfate)))</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div><span style="color:rgb(51,51,51);">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br></div><div>result</div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5127" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5130" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7026658">TANIA CAMARA ALONSO</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5130" name="post-5130" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:51 pm +03:00" datetime="1398333090">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div>&nbsp; ## 'directory' is a character vector of length 1 indicating</div><div>&nbsp; ## the location of the CSV files</div><div>&nbsp;&nbsp;</div><div>&nbsp; ## 'threshold' is a numeric vector of length 1 indicating the</div><div>&nbsp; ## number of completely observed observations (on all</div><div>&nbsp; ## variables) required to compute the correlation between</div><div>&nbsp; ## nitrate and sulfate; the default is 0</div><div><br></div><div>&nbsp; res &lt;- numeric()</div><div>&nbsp; nobs &lt;- complete("specdata")</div><div><br></div><div>&nbsp; ## Return a numeric vector of correlations</div><div>&nbsp; #dataF &lt;- data.frame()</div><div>&nbsp; #i &lt;- 1</div><div>&nbsp; for (i in 1:length(nobs[,2])) {</div><div>&nbsp; &nbsp; &nbsp; if (nobs[i,2] &gt;= threshold[1]) {</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; aux &lt;- 
read.csv(paste(getwd(),"/",directory[1],"/",substr(paste(as.character(nobs[i,1]+1000),".csv",
 sep=""),2,8), sep=""))</div><div>&nbsp; &nbsp; &nbsp; &nbsp; inp &lt;- cbind(aux[,2],aux[,3])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; good &lt;- complete.cases(inp)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; corr &lt;- cor(inp[good,])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; res[i] &lt;- corr[1,2]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; #i&lt;- i+1</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; }</div><div>&nbsp; }</div><div>&nbsp; bad &lt;- is.na(res)</div><div>&nbsp; out &lt;- res[!bad]</div><div>&nbsp; return(out)</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5130" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5140" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3775876">Matthew Grant</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5140" name="post-5140" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 1:26 pm +03:00" datetime="1398335163">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {<br>        data &lt;- NULL<br>        corr.list &lt;- NULL<br>        for(i in 1:332) {<br>                data &lt;- read.csv(paste0(getwd(), "/", directory, "/", sprintf("%03d", i), ".csv")) <br>                cc &lt;- data[complete.cases(data),]<br>                if(nrow(cc) &gt; threshold) {<br>                        corr.list &lt;- append(corr.list, cor(cc$sulfate, cc$nitrate))<br>                }<br>        }                 <br>                return(corr.list)<br>}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5140" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5147" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1284442"><img src="corr%28%29%20-%20Share%20you%20code_files/a_53c5006b.jpg" alt="">Matvey Roshchin</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5147" name="post-5147" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:43 pm +03:00" datetime="1398339827">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {
    # create list of the data files
    data_ls &lt;- list.files(paste(getwd(), '/', directory, sep=''))
    # create an empty vector to store output
    corr_data &lt;- vector(mode = 'numeric', length = 0)
    # find the number of complete cases and add to output if &gt; threshold
    for (i in 1:length(data_ls)){
        #load CSV file
        csv &lt;- read.csv(paste(directory, '/', data_ls[i], sep = ''))
        #subset complete cases only
        csv_full &lt;- csv[!is.na(csv$sulfate) &amp; !is.na(csv$nitrate),]
        #measure number of complete cases and choose action
        if (dim(csv_full)[1] &gt; threshold){
            #correlation coefficient between sulfate and nitrate
            corr_data &lt;- append(corr_data, cor(csv_full$sulfate, csv_full$nitrate))
        }
    }
    return(corr_data)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5147" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5157" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5238644">Dinesh Kumar SRB</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5157" name="post-5157" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 3:32 pm +03:00" datetime="1398342729">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function (directory, threshold = 0) {        <br>        AF &lt;-  list.files(directory, pattern="*.csv")<br>        length &lt;- length(AF)<br>        total &lt;- as.numeric()         <br>        for (i in 1:length) {                <br>                readfile &lt;- paste(directory, AF[i], sep = "/")<br>                x &lt;- read.csv(readfile)<br>                no_nas &lt;- na.omit(x)<br>                total_obs &lt;- nrow(no_nas)<br>                if (total_obs &gt; threshold) {<br>                        sulfate &lt;- no_nas[, "sulfate"]<br>                        nitrate &lt;- no_nas[, "nitrate"]<br>                        correlation &lt;- cor (sulfate, nitrate)<br>                        finalcor &lt;- round (correlation, digits = 4)<br>                        total &lt;- c (total, finalcor)<br>                }              <br>        }<br>        total<br>} </code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5157" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5170" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7239984">Marcelo</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5170" name="post-5170" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 5:37 pm +03:00" datetime="1398350247">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">There are some good ones here. Mine is more pedantic and amateurish:<br><pre>corr &lt;- function(directory, threshold = 0) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mydir &lt;- paste(getwd(),directory,sep="/")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setwd(mydir)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; filelist &lt;- list.files()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mydata &lt;- complete(directory)         #outputs a data frame<br>&nbsp;&nbsp;&nbsp;&nbsp;    pass &lt;- mydata[,2] &gt;= threshold &amp; mydata[,2]!=0&nbsp; <br>                                #skip where there are no valid observations (e.g. "275.csv")<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>        passid &lt;- mydata[pass,1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       #this gives the list of IDs that pass the test<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; okfiles &lt;- filelist[passid]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #these are the filenames<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mycorrs &lt;- numeric()&nbsp;&nbsp;                #initialize the vector<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i in okfiles){<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; singlefile &lt;- read.csv(i)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c1 &lt;- singlefile[,2]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c2 &lt;- singlefile[,3]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; myres &lt;- cor(c1,c2,use="complete.obs")&nbsp; #ignores NA values<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mycorrs &lt;- c(mycorrs,myres)   #error in "275.csv" and others<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       #see complete.R output where =0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mycorrs&nbsp;&nbsp; #output<br>}<br><br></pre><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5170" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5193" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4123451">Edward Steven Seymour</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5193" name="post-5193" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 8:05 pm +03:00" datetime="1398359116">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Here's mine:<br><pre><code>corr &lt;- function(directory, threshold = 0) {
  correlations &lt;- vector()
  comp &lt;- complete(directory)
  
  for (i in subset(comp, nobs &gt;= threshold)[["id"]]) {
    sensor &lt;- read.csv(sprintf("%s/%03d.csv", directory, i))
    correlations &lt;- append(correlations,
                           cor(sensor$sulfate, sensor$nitrate, use = "na.or.complete"))
  }
  
  correlations
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5193" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5212" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6514356">Bruno Gonçalves</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5212" name="post-5212" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 9:41 pm +03:00" datetime="1398364886">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Hi.<br>Here is mine. Any comments and suggestions appreciated.<br><br><pre><code>corr &lt;- function(directory, threshold = 0) {<br>      ## 'directory' is a character vector of length 1 indicating<br>      ## the location of the CSV files<br><br>      ## 'threshold' is a numeric vector of length 1 indicating the<br>      ## number of completely observed observations (on all<br>      ## variables) required to compute the correlation between<br>      ## nitrate and sulfate; the default is 0<br><br>      ## Return a numeric vector of correlations<br><br>      #setup &amp; initialize<br>      path &lt;- paste("./",directory,sep="") #build the path to data files<br>      files &lt;- dir(path,full.names=TRUE) #store all available files<br><br>      #loop and compute complete sets<br>      output&lt;-NULL<br>      for (file in files){<br>            main_data &lt;- read.csv(file)<br>            has_data &lt;-complete.cases(main_data)<br>            clean_data &lt;- main_data[has_data,]<br>            if (sum(has_data)&gt;threshold){<br>                  x&lt;-clean_data[["sulfate"]]<br>                  y&lt;-clean_data[["nitrate"]]<br>                  d&lt;-cor(x,y)<br>                  output&lt;-c(output,d)<br>            }<br>      }<br>      if (is.null(output)){<br>            output &lt;-as.numeric(output)<br>      } else {<br>            output &lt;- output<br>      }<br>}</code></pre><br>Regards.<br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5212" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5257" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6700202">Patrick Bolbrinker</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5257" name="post-5257" style="vertical-align:middle"><time title="Friday, April 25th 2014, 1:07 am +03:00" datetime="1398377223">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>source("complete.R")<br>correlations &nbsp;&lt;- rep(0, times = length(id))<br><br>corr &lt;- function(directory, threshold = 0) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; count &lt;- 1:332<br></div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; complete &lt;- complete(directory, count)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; complete &lt;- subset(complete, nobs &gt; threshold, drop = TRUE)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; id &lt;- complete$id</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (length(id) &gt; 0) {</div><div>&nbsp;&nbsp;</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;filenames &lt;- ifelse(id &lt;= 9, 
paste("00", id, ".csv", sep = ""), ifelse(id &lt;= 99, paste("0", id, 
".csv", sep = ""),</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paste(id, ".csv", sep = "")))</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; filenames &lt;- paste(directory, "/", filenames, sep="")</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; selection &lt;- lapply(filenames, read.csv)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (i in 1:length(id)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; correlations[i] &lt;- 
cor(selection[[i]][2],selection[[i]][3], use = "pairwise.complete.obs")</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; correlations</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; } else {</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; correlations &lt;- as.numeric(NULL)</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5257" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5264" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=945613">James B Taylor</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5264" name="post-5264" style="vertical-align:middle"><time title="Friday, April 25th 2014, 3:17 am +03:00" datetime="1398385063">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div>&nbsp;&nbsp;</div><div>&nbsp; ##get all the files in the directory containing data</div><div>&nbsp; currentPath &lt;- getwd()</div><div>&nbsp; folderPath &lt;- paste(currentPath,"/",directory,sep='')</div><div>&nbsp; files &lt;- c(list.files(folderPath))</div><div>&nbsp;&nbsp;</div><div>&nbsp; ##create return vector preset to the "none pass the threshold" value.</div><div>&nbsp; thisCor &lt;- vector()</div><div>&nbsp; thisCor &lt;- numeric() &nbsp;</div><div>&nbsp; selectedData &lt;- data.frame()</div><div>&nbsp;&nbsp;</div><div>&nbsp; ##read in each file and check if it meets the threshold, if so add column with correlation</div><div>&nbsp; for (i in files){</div><div>&nbsp; &nbsp; selectedData &lt;- read.csv(paste(folderPath,"/",i,sep=''))</div><div>&nbsp; &nbsp; completeObs &lt;- selectedData[complete.cases(selectedData),]</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; ##add correlation between sulphate and nitrate if it meets the threshold</div><div>&nbsp; &nbsp; if (nrow(completeObs) &gt;= threshold){ &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; thisCor &lt;- c(thisCor,cor(completeObs$sulfate,completeObs$nitrate)) &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; }</div><div>&nbsp; }</div><div><br></div><div>&nbsp; return (thisCor)</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5264" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5341" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=467032">anhhh.11</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5341" name="post-5341" style="vertical-align:middle"><time title="Friday, April 25th 2014, 5:26 pm +03:00" datetime="1398435997">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">#My code<br>corr &lt;- function(directory, threshold = 0,id=1:332) {<br>&nbsp;completeData &lt;- complete(directory,id)<br>&nbsp; dataIdChoosed &lt;- subset(completeData,nobs&gt;threshold)[,"id"]<br>&nbsp; corrVector = c()<br>&nbsp; for (i in dataIdChoosed){<br>&nbsp;&nbsp;&nbsp; idPadded &lt;- str_pad(i,width=3,pad="0",side="left")<br>&nbsp;&nbsp;&nbsp; filename &lt;- paste(directory,paste(idPadded,".csv",sep=""),sep="/")<br>&nbsp;&nbsp;&nbsp; pollutantData &lt;- read.csv(filename,header=TRUE)<br>&nbsp;&nbsp;&nbsp; corrVector = c(corrVector,cor(pollutantData$nitrate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 ,pollutantData$sulfate<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 ,use="pairwise.complete.obs"))<br>&nbsp; }<br>&nbsp; corrVector<br>}<br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5341" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5493" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3142216">Biswajit Dutta Baruah</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5493" name="post-5493" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 7:04 pm +03:00" datetime="1398528250">10 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">This
 is my code. But some of the succint code submitted by others is 
wonderful. Week 3 videos also are very helpful in doing the same.<div><br></div><div><pre>corr &lt;- function(directory, threshold = 0) {
  list &lt;- dir(directory, full.names = TRUE)
  f.data &lt;- function(n) {
    for(file in n) {
      if(!exists("p.data")){
        p.data &lt;- read.csv(file, header = TRUE)
      }
      else if(exists("p.data")) {
        temp.data &lt;- read.csv(file, header = TRUE)
        p.data &lt;- rbind(p.data, temp.data)
        rm(temp.data)
      }
    }
    p.data
  }
  pollutant.data &lt;- f.data(list)
  good &lt;- function(i) {
    subset.i &lt;- subset(pollutant.data, ID == i)
    sum(complete.cases(subset.i))
  }
  id &lt;- 1:332
  corr &lt;- as.numeric()
  for(i in id) {
    if(good(i) &gt; threshold){
      subset.i &lt;- subset(pollutant.data, ID == i)
      corr.i &lt;- cor(subset.i$sulfate, subset.i$nitrate, use = "pairwise.complete.obs")
      corr &lt;- c(corr,corr.i)
      rm(corr.i)
    }
  }
  corr
}<code></code></pre><br><br><div><br></div><div><br></div></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5493" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5541" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6124789"><img src="corr%28%29%20-%20Share%20you%20code_files/meondecember19th2013.jpg" alt="">Patrick McGovern</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5541" name="post-5541" style="vertical-align:middle"><time title="Sunday, April 27th 2014, 1:39 am +03:00" datetime="1398551991">10 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div><span style="color:rgb(51,51,51);">&nbsp; &nbsp; myData &lt;- complete(directory); &nbsp; &nbsp;</span><br></div><div>&nbsp; &nbsp; myThresholdData &lt;- subset(myData, nobs &gt;= threshold)</div><div>&nbsp; &nbsp; result &lt;- numeric(0)</div><div>&nbsp; &nbsp; for (i in 1:nrow(myThresholdData))</div><div>&nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if (nrow(myThresholdData) == 0) {break}</div><div>&nbsp; &nbsp; &nbsp; &nbsp; fileName &lt;- paste(directory, "/", padid(myThresholdData$id[i]), ".csv", sep="")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; tempData &lt;- read.csv(fileName)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; tempData &lt;- na.exclude(tempData)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; result &lt;- append(result, cor(tempData$sulfate, tempData$nitrate))</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; ##round(result, digits=5)</div><div>&nbsp; &nbsp; result</div><div>}</div><div><br><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5541" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5545" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1512609"><img src="corr%28%29%20-%20Share%20you%20code_files/DSCF1216kmmm.jpg" alt="">Dipanjan Sarkar</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5545" name="post-5545" style="vertical-align:middle"><time title="Sunday, April 27th 2014, 2:32 am +03:00" datetime="1398555129">10 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {

  files &lt;- list.files(directory)
  cases &lt;- complete(directory)
  
  file_nums &lt;- subset(cases,nobs &gt; threshold,id)
  file_nums &lt;- as.vector(t(file_nums))
  
  corr_vector &lt;- numeric()
  
  for (i in file_nums){
    file_name &lt;- paste(getwd(),"/",directory,"/",files[i], sep="")
    f &lt;- read.csv(file_name)
    complete_data &lt;- complete.cases(f)
    f &lt;- f[complete_data,]
    
    x &lt;- f[['sulfate']]
    y &lt;- f[['nitrate']]
    corr_vector &lt;- c(corr_vector, cor(x,y))
  }
  corr_vector
}</code></pre><br>This makes use of the complete function which we implemented before this.<br><br><pre><code>complete &lt;- function(directory, id = 1:332) {
  
  ## Return a data frame of the form:
  ## id nobs
  ## 1  117
  ## 2  1041
  ## ...
  ## where 'id' is the monitor ID number and 'nobs' is the
  ## number of complete cases
  
  files &lt;- list.files(directory)
  df &lt;- data.frame(id=NA,nobs=NA)
  
  count &lt;- 1
  for (i in id){
    file_name &lt;- paste(getwd(),"/",directory,"/",files[i], sep="")
    f &lt;- read.csv(file_name)
    cases &lt;- complete.cases(f)
    df[count,] &lt;- rbind(c(i,sum(cases)))
    count &lt;- count + 1
  }
  df
}</code></pre><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5545" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5859" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5323114"><img src="corr%28%29%20-%20Share%20you%20code_files/Asheshwor_20120802_squareBw.jpg" alt="">Asheshwor Man Shrestha</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5859" name="post-5859" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 8:46 am +03:00" datetime="1398750396">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Here's mine,<br><pre><code>corr &lt;- function(directory, threshold = 0) {
  ## 'directory' is a character vector of length 1 indicating
  ## the location of the CSV files
  
  ## 'threshold' is a numeric vector of length 1 indicating the
  ## number of completely observed observations (on all
  ## variables) required to compute the correlation between
  ## nitrate and sulfate; the default is 0
  
  #count number of files in the directory
  filecount &lt;- length(list.files(directory, full.names=TRUE, pattern=".csv"))
  #extract complete cases using complete function from **Part 2** exercise
  pmcomplete &lt;- data.frame(complete("specdata", 1:filecount))
  #extract cases with observations greater than the threshold
  pmpass &lt;- pmcomplete[pmcomplete$nobs &gt; threshold,]
  #ged ids of monitors passing the threshold
  passid &lt;- pmpass$id
  #file format
  passfileformat &lt;- paste0(directory, "/%03d", ".csv")
  #make file name strings from supplid ids
  passfiles &lt;- c(sprintf(passfileformat, passid))
  #apply correlation function to the variables for each station
  passcor &lt;- sapply(passfiles, function(xfile) {
    #read the file for each station
    this.file &lt;- read.csv(xfile, na.strings=c("NA"), stringsAsFactors=FALSE)
    #extract complete cases
    completeonly &lt;- this.file[complete.cases(this.file),]
    cor &lt;- if(is.null(completeonly)) {
      0 #retun 0
    } else {
      round(cor(completeonly$sulfate, completeonly$nitrate), 10) #return rounded values
    }
  }, USE.NAMES = FALSE)
  if (length(passcor) == 0) return(numeric(length=0)) else
    return(passcor)
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5859" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5936" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3684443">Charles Skelton</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-5936" name="post-5936" style="vertical-align:middle"><time title="Wednesday, April 30th 2014, 1:31 am +03:00" datetime="1398810698">7 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; corrs&lt;-numeric(0)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; filenames = list.files(path = directory, pattern = "*.csv")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for(filename in filenames){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data &lt;- read.csv(file.path(directory, filename))</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data &lt;- na.omit(data)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(nrow(data)&gt;=threshold){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; corrs&lt;-c(corrs,cor(data[,"sulfate"],data[,"nitrate"])) &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; na.omit(corrs)</div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-5936" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6854" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7149494">Kenneth Crocken</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-6854" name="post-6854" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 8:47 am +03:00" datetime="1399355220">14 hours ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>corr &lt;- function(directory, threshold = 0) {
    magic &lt;- c()
    files &lt;- list.files(path=directory, full.names=T)
    
    for ( fileName in files){
        allData &lt;- read.csv(fileName, header=TRUE)
        completeCases &lt;- dim(allData[complete.cases(allData),])[1]
        if (completeCases &gt; threshold){       
            correlation &lt;- cor(allData$sulfate , allData$nitrate, use="complete.obs")
            magic&lt;- c(magic, correlation)
        }
    } 
    return(magic)   
}<br></code></pre></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-6854" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6855" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2763088">Ritu</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-6855" name="post-6855" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 8:56 am +03:00" datetime="1399355773">14 hours ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div><strong>Here is my corr.R&nbsp;</strong><br><br>corr &nbsp;&lt;- function ( directory, threshold=0 ) {</div><div>&nbsp;&nbsp;</div><div>&nbsp; if(directory != "specdata") {</div><div>&nbsp; &nbsp; stop("No such directory, try specdata")</div><div>&nbsp; }&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp; m &lt;- vector(mode="numeric", length=0)</div><div>&nbsp; z = 0&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp; for (i in 1:332){ &nbsp; #Start for loop</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; fname &lt;- sprintf("%s/%03d.csv", directory, i)</div><div>&nbsp; &nbsp; temp &lt;- read.csv(fname, header=TRUE)</div><div>&nbsp; &nbsp; neat &lt;- &nbsp;temp[complete.cases(temp),]</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; comp &lt;- nrow(neat) &nbsp; &nbsp;#number of complete cases.</div><div>&nbsp; &nbsp; if(comp&gt;threshold){&nbsp;</div><div>&nbsp; &nbsp; z = z+1</div><div>&nbsp; &nbsp; m[z] &lt;- round(cor(neat$sulfate, neat$nitrate),4)&nbsp;<br></div><div>&nbsp; &nbsp; }</div><div>&nbsp; } &nbsp; &nbsp; &nbsp; &nbsp; ##End of for loop.</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; return (m)&nbsp;</div><div>&nbsp;&nbsp;</div><div>} # End of function.</div><div><br></div><div>&nbsp;cr &lt;- corr("specdata" ) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# this is function being called.&nbsp;</div><div>&nbsp;summary(cr)</div><div>&nbsp;length(cr)</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-6855" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6890" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3138909"><img src="corr%28%29%20-%20Share%20you%20code_files/JB_AW008.jpg" alt="">Jammi N Rao</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-6890" name="post-6890" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 6:52 pm +03:00" datetime="1399391571">4 hours ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">This
 is the way I did it: I saved the corr.R file along with all the csv 
files inm the same specdata directory, so in effect the directory 
argument to corr() is redundant. it reads all the csv files in the 
default working directory.I could equally have had 1:332 in the for 
loop,&nbsp;<br><div></div><pre><code></code></pre><div><code>#corr.R</code></div><code></code><div><code>corr &lt;- function(directory, threshold=0) {</code></div><code></code><div><code>&nbsp; files &lt;- list.files(pattern="*.csv")</code></div><code></code><div><code>&nbsp; corvec &lt;- numeric()</code></div><code></code><div><code>&nbsp; for (i in 1:length(files)) {</code></div><code></code><div><code>&nbsp; &nbsp; thisfile &lt;- read.csv(files[i])</code></div><code></code><div><code>&nbsp; &nbsp; if (length(which(complete.cases(thisfile))) &gt; threshold){</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; corvec &lt;- c(corvec, cor(thisfile$sulfate,thisfile$nitrate,use="complete.obs"))</code></div><code></code><div><code>&nbsp; &nbsp; <span style="color:inherit;">} # endif</span></code></div><code></code><div><code>&nbsp; } # end of for loop</code></div><code></code><div><code>&nbsp; return(corvec)</code></div><code></code><div><code>} # end of function</code></div><code></code><br><div></div><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-6890" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-4584" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6124789"><img src="corr%28%29%20-%20Share%20you%20code_files/meondecember19th2013.jpg" alt="">Patrick McGovern</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#comment-4584" name="comment-4584" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 7:00 pm +03:00" datetime="1399392059">4 hours ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">-1 for not using variable names I like<br><br><span>[kidding :)]</span></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23comment-4584" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6906" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=238006">James Eibisch</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-6906" name="post-6906" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 10:10 pm +03:00" datetime="1399403403">an hour ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">This was mine, very similar to others posted so far:<br><pre><code>corr&lt;-function(directory,threshold=0) {
	id&lt;-list.files(directory,pattern='*.csv',full.names=T)
	v&lt;-vector('numeric')
	for (i in id) {
		d&lt;-read.csv(i)
		if(sum(complete.cases(d))&gt;threshold) {
			d&lt;-d[complete.cases(d),]
			v&lt;-c(v,cor(d$sulfate,d$nitrate))
		}
	}
	return(v)
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-6906" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div></div><div style="display: none;" class="course-forum-bottom-scroll-indicator">⬇ scroll down for more ⬇</div><div class="course-forum-thread-new-post"><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div style="display: none;" data-permalink="post-undefined" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1175#post-undefined" name="post-undefined" style="vertical-align:middle"><time title="Invalid date">a few seconds ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"></div><div aria-haspopup="true" aria-expanded="false" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count"></span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/forum/undefined?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1175%23post-undefined" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div><div><div class="course-forum-post-edit-container-loading hide">Posting ...</div><div class="course-forum-post-edit-container"><div class="course-forum-post-header"><span class="course-forum-post-new">New post </span><span style="font-style:italic;display:none;" class="course-forum-post-viewer-wants-unresolve">(thread will be unresolved upon posting)</span></div><form class="course-forum-post-edit-form"><p class="help-block">To ensure a positive and productive discussion,
please read our <a target="_blank" href="http://help.coursera.org/customer/portal/articles/1220499-forum-code-of-conduct?ref=entryedit">forum posting policies</a> before posting.</p><input name="text_type" value="html" type="hidden"><div class="control-group"><label class="hidden">Message</label><div style="position: relative;" role="toolbar" tabindex="0" title="HTML editing toolbar" class="coursera-wysihtml5-toolbar"><div style="overflow:auto;"><div style="float:left;" class="left coursera-wysihtml5-commands"><span data-wysihtml5-order="0" class="hide"></span><button unselectable="on" href="javascript:;" data-wysihtml5-order="1" data-wysihtml5-command="bold" aria-pressed="false" style="font-weight:bold; width: 30px;" type="button" title="Make text bold" class="coursera-wysihtml5-toolbar-item">B</button><button unselectable="on" href="javascript:;" data-wysihtml5-order="2" data-wysihtml5-command="italic" aria-pressed="false" style="font-style:italic; font-family: serif; width: 30px;" type="button" title="Make text italic" class="coursera-wysihtml5-toolbar-item">I</button><button unselectable="on" href="javascript:;" data-wysihtml5-order="3" data-wysihtml5-command="insertUnOrderedList" aria-pressed="false" type="button" title="Insert bullets" style="width:30px;" class="coursera-wysihtml5-toolbar-item"><span class="icon-list-ul"></span></button><button unselectable="on" href="javascript:;" data-wysihtml5-order="4" data-wysihtml5-command="insertOrderedList" aria-pressed="false" type="button" title="Insert numbered bullets" style="width:30px;" class="coursera-wysihtml5-toolbar-item"><span class="icon-list-ol"></span></button><button data-wysihtml5-order="5" data-wysihtml5-custom-command="link" type="button" unselectable="on" title="Insert link" class="coursera-wysihtml5-toolbar-item"><span class="icon-link"></span> Link</button><button unselectable="on" href="javascript:;" data-wysihtml5-command="code" data-wysihtml5-order="6" type="button" title="Format text as code" class="coursera-wysihtml5-toolbar-item">&lt;code&gt;</button><button data-wysihtml5-custom-command="image" data-wysihtml5-order="7" type="button" unselectable="on" title="Insert image" class="coursera-wysihtml5-toolbar-item"><span class="icon-picture"></span> Pic</button><button data-wysihtml5-order="100" data-wysihtml5-custom-command="latex" title="Equation Editor" type="button" class="coursera-wysihtml5-toolbar-item coursera-wysihtml5-toolbar-latex">Math</button></div><div style="float:right;" class="right coursera-wysihtml5-command-view"><span data-wysihtml5-order="0" class="hide"></span><button data-wysihtml5-order="100" title="Editor Preview" type="button" aria-pressed="false" class="coursera-wysihtml5-toolbar-item coursera-wysihtml5-toolbar-item-right coursera-wysihtml5-toolbar-mode-preview">Preview</button><button data-wysihtml5-order="100" style="display:none;" type="button" class="coursera-wysihtml5-toolbar-item coursera-wysihtml5-toolbar-item-right coursera-wysihtml5-toolbar-mode-preview-close">Edit</button><!-- we want to ensure that two editors are allowed if we are going to show a drop down...--><!-- the below uses XOR to determine the that one is true, and then we confirm the other is true in the ternary--><!-- this shortcut was used as the quickest way to determine at least two are true.--><!-- this comment proves that saving effort in code means expanding in comments...--><button data-wysihtml5-order="100" unselectable="on" title="Editor Type" data-popup="#coursera-wysihtml5-toolbar-mode-popup-214" aria-haspopup="true" aria-expanded="false" aria-owns="coursera-wysihtml5-toolbar-mode-popup" data-popup-close="data-popup-close" data-popup-direction="se" style="padding-right:30px;" type="button" class="coursera-wysihtml5-toolbar-item coursera-wysihtml5-toolbar-item-right coursera-wysihtml5-toolbar-mode-editor on"><span>Edit: </span><span class="coursera-wysihtml5-toolbar-mode-editor-label">Rich</span><span style="position:absolute;top:5px;padding-left:10px;padding-right:10px;" class="icon-sort-down"></span></button><div data-wysihtml5-order="100" id="coursera-wysihtml5-toolbar-mode-popup-214" style="display:none;" class="coursera-wysihtml5-toolbar-mode-popup"><a aria-pressed="false" data-wysihtml5-custom-command="change-editor" type="button" title="Change editing mode to HTML" data-popup-close="data-popup-close" class="coursera-wysihtml5-toolbar-mode-popup-item coursera-wysihtml5-toolbar-mode-html">&lt;HTML&gt;</a><a aria-pressed="false" data-wysihtml5-custom-command="change-editor" type="button" title="Change editing mode to Markdown" data-popup-close="data-popup-close" class="coursera-wysihtml5-toolbar-mode-popup-item coursera-wysihtml5-toolbar-mode-markdown">`MD`</a><a aria-pressed="true" data-wysihtml5-custom-command="change-editor" type="button" title="Change editing mode to rich editor" data-popup-close="data-popup-close" class="coursera-wysihtml5-toolbar-mode-popup-item coursera-wysihtml5-toolbar-mode-rich wysihtml5-command-active">Rich</a></div></div><div style="clear:both;"></div></div><div class="coursera-wysihtml5-toolbar-modals"><div data-wysihtml5-modal-link="data-wysihtml5-modal-link" data-modal-overlay-class="coursera-wysihtml5-overlay" role="dialog" aria-label="Create a link" class="modal hide"><form><div class="modal-body"><label style="display:inline-block;margin-right:15px;"><span>URL &nbsp;&nbsp;</span><input name="url" placeholder="http://" style="width:350px;" class="coursera-wysihtml5-modal-url"></label></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;" class="btn coursera-wysihtml5-modal-link-submit">Create</button><a data-modal-close="data-modal-close" href="javascript:;">Cancel</a></div></form></div><div style="position: fixed; left: 50%; margin-left: -281px; z-index: 10000; top: 50%; margin-top: -1px;" data-wysihtml5-modal-image="data-wysihtml5-modal-image" data-modal-overlay-class="coursera-wysihtml5-overlay" role="dialog" aria-label="Create Image" tabindex="-1" class="modal hide"><form><div class="modal-body"><div class="control-group bootstrap-wysihtml5-upload-image"><div style="text-align:center;" class="uploader-controls transloadit-uploader"><div style="display: none;" class="uploader-preview"><div><img src=""></div><div style="margin-top:10px;"><span>What size would you like to embed it at? </span><input style="width:50px;margin-left: 5px; margin-right:5px;" class="uploader-input-width" type="text"><span>x</span><input style="width:50px;margin-left:5px;" class="uploader-input-height" type="text"></div></div><div class="uploader-side"><button type="button" class="btn uploader-button">Pick File</button><div class="uploader-file-input"><input name="my_file" accept="image/png,image/jpeg,image/gif,image/jpg" type="file"></div><div style="display:none;" class="progress progress-striped active uploader-progress"><div style="width:0%" class="bar"></div></div><div class="uploader-input hide"><input name="result" class="uploader-input-url" type="text"></div></div></div></div></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;" class="btn hide coursera-wysihtml5-modal-image-submit">Insert</button><a data-modal-close="data-modal-close" href="javascript:;">Cancel</a></div></form></div><div data-wysihtml5-modal-latex="data-wysihtml5-modal-latex" data-modal-overlay-class="coursera-wysihtml5-overlay" class="modal hide"><form style="margin:0px;padding:0px;"><div style="overflow:auto;"><div style="float:left;width:20%;"><label style="padding:10px;font-weight:bold;text-align:right;">LaTeX:</label></div><div style="float:right;width:80%;"><textarea name="latex" placeholder="enter a latex equation" class="coursera-wysihtml5-modal-latex-textarea"></textarea></div></div><div class="coursera-wysihtml5-latex-preview-area"><div style="float:left;width:20%;"><label style="padding:10px;font-weight:bold;text-align:right;">Preview:</label></div><div style="float:right;width:80%;"><div class="coursera-wysihtml5-latex-preview"><span class="MathJax_Preview"></span><span style="font-size: 100%;" id="MathJax-Element-1-Frame" class="MathJax_MathML"><span style="position: relative; display: inline-block; white-space: nowrap;" class="MathJax_MathContainer"><span style="display: inline-block; width: 0px;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow></mrow></math></span></span></span><script id="MathJax-Element-1" type="math/tex"></script></div></div></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;" class="btn coursera-wysihtml5-modal-link-submit">Create</button><a data-modal-close="data-modal-close" href="javascript:;">Cancel</a></div></form></div></div></div><textarea class="coursera-wysihtml5-rich-editor" name="post_text" style="width: 100%; min-height: 100px; height: 100px; overflow-y: hidden; display: none;" dir="auto"></textarea><input value="1" name="_wysihtml5_mode" type="hidden"><iframe style="display: inline-block; background-color: rgb(255, 255, 255); border-collapse: separate; border-color: rgb(204, 204, 204); border-style: solid; border-width: 1px; clear: none; float: none; margin: 0px; outline: 0px none rgb(0, 0, 0); outline-offset: 0px; padding: 4px 6px; position: static; top: auto; left: auto; right: auto; bottom: auto; z-index: auto; vertical-align: middle; text-align: start; box-sizing: border-box; box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.075) inset; border-radius: 4px; width: 100%; min-width: 0px; min-height: 100px; max-width: none; max-height: none; height: 102px;" marginheight="0" marginwidth="0" allowtransparency="true" security="restricted" class="wysihtml5-sandbox" frameborder="0" height="0" width="0"></iframe><div class="coursera-wysihtml5-footer"><div class="coursera-wysihtml5-footer-rich"><div style="float:left;"></div><div style="float:right;"></div></div></div></div><div style="display:none;" class="controls course-forum-post-viewer-wants-resolve"><label class="checkbox"><input name="_viewer_wants_resolve" value="1" type="checkbox">Resolve thread</label><div class="alert">This
 thread is marked as unresolved. If the problem is fixed, please check 
the above box and make a post to let staff know that they no longer need
 to monitor this thread. </div></div><div style="display:none;" class="controls course-forum-post-viewer-cant-unresolve"><div class="alert">This
 thread is marked as resolved. Staff are no longer monitoring this 
thread. If the problem is not fixed, please start a new thread <a href="https://class.coursera.org/rprog-002/help/report">here</a> to let staff know that there is still a problem.</div></div><div class="controls"><label class="checkbox"><input name="anonymous" value="1" type="checkbox">Make this post anonymous to other students</label></div><div class="controls"><label class="checkbox"><input name="subscribe" value="1" checked="checked" type="checkbox">Subscribe to this thread at the same time</label></div><div class="control-group"><button type="submit" class="btn course-forum-post-edit-save">Add post</button><span>&nbsp; &nbsp;</span><a href="javascript:void(0)" role="Button" class="course-forum-post-edit-cancel">Cancel</a></div></form></div></div></div></div></div></div></div></div><div style="display:none; position: fixed; bottom: 10px; right: 40px; width: 240px;" class="alert alert-info course-forum-hangouts-popup"><button type="button" data-action="hide" class="close">×</button>This looks like a great topic! Maybe you'd like to...<a style="margin-bottom:6px;" data-action="start" class="btn btn-info">Start a Google+ Hangout on this topic</a><p style="margin-bottom:10px; display:none;">Go to <a href="https://class.coursera.org/behavioralecon-001/wiki/view?page=ScheduleGoogleHangouts&amp;from_popout" target="_blank">the scheduler page</a> to learn how, and post the URL to this thread after to let people know.</p><a data-action="join" class="btn btn-info">Join a Google+ Hangout on this topic</a><p style="margin-bottom:15px; display:none;">Hm, it looks like there's none yet on this topic, but you can <a href="https://class.coursera.org/behavioralecon-001/wiki/view?page=ScheduleGoogleHangouts&amp;from_popout" target="_blank">go here</a> to check out all the upcoming hangouts or schedule your own.</p><a href="javascript:void(0)" data-action="nothanks">No, thanks, I'm not interested in hangouts.</a></div></div>
</div></div></div></div></div><div class="coursera-footer"></div></div></div></div><!--[if gte IE 8]><script>document.getElementById("coursera-loading-js").style.display = 'block';</script><![endif]-->
<!--[if lte IE 7]><script>document.getElementById("coursera-loading-nojs").style.display = 'block';
window._204 = window._204 || [];
window._gaq = window._gaq || [];

window._gaq.push(
    ['_setAccount', 'UA-28377374-1'],
    ['_setDomainName', window.location.hostname],
    ['_setAllowLinker', true],
    ['_trackPageview', window.location.pathname]);
    
window._204.push(
  ['client', 'home'],
  {key:"pageview", value:window.location.pathname});
  </script><script src="https://eventing.coursera.org/204.min.js"></script><script src="https://ssl.google-analytics.com/ga.js"></script><![endif]-->
<!--[if !IE]> --><script>document.getElementById("coursera-loading-js").style.display = 'block';</script><!-- <![endif]-->
<script src="corr%28%29%20-%20Share%20you%20code_files/require.js"></script><script data-baseurl="https://d2wvvaown1ul17.cloudfront.net/site-static/e4a93c1141ee39688852f85f3b02554256c3894a/" data-version="e4a93c1141ee39688852f85f3b02554256c3894a" data-timestamp="1399404654037" data-debug="0" data-locale="en_US" id="_require">if(document.getElementById("coursera-loading-js").style.display == 'block') {
  (function(el) {
     require.config({
       //enforceDefine: true,
       waitSeconds: 75,
       baseUrl: el.getAttribute("data-baseurl"),
       urlArgs: el.getAttribute("data-debug") == "1" ? "v=" + el.getAttribute("data-timestamp") : "",
       shim: {
          'underscore': {
             exports: '_'
          },
          'backbone': {
             deps: ['underscore', 'jquery'],
             exports: 'Backbone',
             init: function(_, $) {
               Backbone.$ = $;
               return Backbone;
             }
          },
          'pages/hg/thirdparty/js/backbone.marionette': {
            deps: ["backbone"]
          },
          'pages/hg/thirdparty/js/webshims/polyfiller': {
            deps: ["jquery"]
          },
          'pages/hg/thirdparty/js/webshims/extras/mousepress': {
            deps: ["jquery", "pages/hg/thirdparty/js/webshims/polyfiller"]
          },
          'pages/hg/thirdparty/js/jquery.throttle': {
            deps: ["jquery"]
          },
          'js/lib/jquery.linkify': {
            deps: ["jquery"]
          },
          'pages/hg/thirdparty/js/js/bootstrap/alert': {
            deps: ["jquery", "pages/hg/thirdparty/js/bootstrap/transition"]
          },
          'spark/core/js/jquery_ui': {
            deps: ["jquery"]
          },
          'spark/core/js/jquery.history': {
            deps: ["jquery"]
          },
          'js/lib/bootstrap.tooltip': {
            deps: ["jquery"]
          },
          'pages/hg/thirdparty/js/bootstrap/transition': {
            deps: ["jquery"]
          },
          'pages/hg/thirdparty/js/bootstrap/tab': {
            deps: ["jquery"]
          },
          'bundles/videojs/lib/video.4.3.0': {
            exports: 'vjs'
          }
       },
       paths: {
          "jquery":                         "pages/spark/jquery",
          "underscore":                     "js/core/underscore.1.5.2",
          "backbone":                       "js/core/backbone.1.1.0",
          "backbone.relational":            "js/lib/backbone.relational.0.8.6",
          "i18n":                           "js/core/i18n._t",
          "pages/spark/models/user.json":   "empty:",
          "pages/spark/models/course.json": "empty:",
          "pages/spark/models/navbar.json": "empty:"
       },
       callback: function() {
                    require(["pages/spark/routes"]);
                },
       config: {
         i18n: {
           locale: (window.localStorage ? localStorage.getItem('locale') : '') || el.getAttribute('data-locale')
         }
       }
     });
  })(document.getElementById("_require"));
}
</script><script>define("pages/spark/models/user.json", [], function(){
      return JSON.parse("{\"id\":143432,\"email_address\":\"aa989190f363e46d@googlemail.com\",\"full_name\":\"Alex Rempel\",\"locale\":\"en_US\",\"timezone\":\"Europe\\\/Minsk\",\"access_group_id\":\"4\",\"registration_time\":\"1397244974\",\"last_access_time\":\"1399406740\",\"last_access_ip\":\"178.126.74.60\",\"signature_track_register_time\":\"0\",\"email_announcement\":\"1\",\"email_forum\":\"1\",\"in_signature_track\":\"0\",\"wishes_proctored_exam\":null,\"first_name\":\"Alex\",\"permissions\":[\"default\",\"allow_site_access\"],\"group\":\"Student\",\"anonymous\":false,\"forum_title\":\"Student\",\"signature_track_state\":1,\"verified_quizzes\":[],\"submitted_quizzes\":[\"97\",\"99\",\"101\",\"103\"],\"scheduled_proctored_exam\":null,\"last_chance_modal\":1}");
  });
define("pages/spark/models/course.json", [], function(){
      return JSON.parse("{\"id\":972078,\"isPrivate\":false,\"type\":\"public\",\"name\":\"R Programming\",\"instructor\":\"Roger D. Peng, PhD, Brian Caffo, PhD, Jeff Leek, PhD\",\"sessionName\":\"rprog-002\",\"externalBaseURL\":\"https:\\\/\\\/www.coursera.org\\\/\",\"shortname\":\"rprog\",\"host\":\"https:\\\/\\\/www.coursera.org\\\/\",\"assetUnversionedLink\":\"https:\\\/\\\/dt5zaw6a98blc.cloudfront.net\\\/site-static\\\/\",\"cheggID\":\"\",\"hasLTI\":true,\"badgevilleDomain\":\"\",\"linkable\":false,\"universityShortname\":\"jhu\",\"signatureTrackStatus\":{\"signature_track_enabled\":1},\"courseURLs\":{\"log_in_link\":\"https:\\\/\\\/accounts.coursera.org\\\/signin?post_redirect=https%3A%2F%2Faccounts.coursera.org%2Fsignin%3Fuser_action%3Dclass%26course_id%3D972078%26post_redirect%3Dhttps%253A%252F%252Fclass.coursera.org%252Frprog-002%252Fauth%252Fauth_redirector%253Ftype%253Dlogin%2526subtype%253Dnormal%2526visiting%253D\",\"sign_up_link\":\"https:\\\/\\\/accounts.coursera.org\\\/signup?enroll_cid=972078&enroll_sn=rprog&enroll_n=R Programming\",\"view_course_info_link\":\"https:\\\/\\\/www.coursera.org\\\/course\\\/rprog\",\"sign_up_link_cant_enroll\":\"https:\\\/\\\/accounts.coursera.org\\\/signup?post_redirect=https%3A%2F%2Fwww.coursera.org%2Fcourse%2Frprog\"},\"courseBase\":\"https:\\\/\\\/class.coursera.org\\\/rprog-002\\\/\",\"search\":true,\"hideWiki\":true,\"hideMeetup\":false,\"aceStartRegistrationDate\":\"Thu  1 Jan 1970  3:00 AM MSK\",\"aceEndRegistrationDate\":\"Thu  1 Jan 1970  3:00 AM MSK\",\"aceExamStartDate\":\"Thu  1 Jan 1970  3:00 AM MSK\",\"aceExamEndDate\":\"Thu  1 Jan 1970  3:00 AM MSK\",\"aceExamRules\":\"\",\"aceExamDuration\":\"\",\"aceBeforeExam\":false,\"aceAfterExam\":true,\"aceHours\":null,\"aceCreditType\":\"\",\"acePrice\":null,\"aceExamID\":null,\"aceEligible\":false,\"canRegisterForACE\":false,\"specialization\":{\"numCourse\":9,\"image\":\"https:\\\/\\\/s3.amazonaws.com\\\/coursera\\\/specializations\\\/jhudatascience\\\/logo_small.png\",\"id\":1,\"short_name\":\"jhudatascience\",\"name\":\"Data Science\"},\"supportForums\":true,\"textbooks\":\"\",\"inVideoQuizV2\":false,\"in_flexjoin\":null,\"honorCodeExtraText\":\"\",\"honorCodeCustomTitle\":null,\"honorCodeCustomButton\":null}");
  });
define("pages/spark/models/navbar.json", [], function(){
      return JSON.parse("{\"items\":[{\"name\":\"\",\"icon\":\"\",\"link_type\":\"circuit\",\"link_data\":\"\"},{\"name\":\"Course\",\"icon\":\"\",\"link_type\":\"heading\",\"link_data\":\"\"},{\"name\":\"Announcements\",\"icon\":\"home\",\"link_type\":\"circuit\",\"link_data\":\"class:index\"},{\"name\":\"Video Lectures\",\"icon\":\"lecture\",\"link_type\":\"circuit\",\"link_data\":\"lecture:index\"},{\"name\":\"Discussion Forums\",\"icon\":\"forum\",\"link_type\":\"circuit\",\"link_data\":\"forum:index\"},{\"name\":\"\",\"icon\":\"\",\"link_type\":\"circuit\",\"link_data\":\"\"},{\"name\":\"Exercises\",\"icon\":\"\",\"link_type\":\"heading\",\"link_data\":\"\"},{\"name\":\"Quizzes\",\"icon\":\"quiz\",\"link_type\":\"circuit\",\"link_data\":\"quiz:index\"},{\"name\":\"Peer Assessments\",\"icon\":\"assignment\",\"link_type\":\"circuit\",\"link_data\":\"human_grading:index\"},{\"name\":\"Programming Assignments\",\"icon\":\"assignment\",\"link_type\":\"circuit\",\"link_data\":\"assignment:index\"},{\"name\":\"\",\"icon\":\"\",\"link_type\":\"circuit\",\"link_data\":\"\"},{\"name\":\"About the course\",\"icon\":\"\",\"link_type\":\"heading\",\"link_data\":\"\"},{\"name\":\"Syllabus\",\"icon\":\"wiki\",\"link_type\":\"wiki\",\"link_data\":\"syllabus\"},{\"name\":\"About the Instructor\",\"icon\":\"\",\"link_type\":\"wiki\",\"link_data\":\"About_the_Instructor\"},{\"name\":\"Community\",\"icon\":\"\",\"link_type\":\"heading\",\"link_data\":\"\"}]}");
  });
</script><div class="hide confirm-navigation modal"><div class="modal-header"><h3>Confirm Navigation</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>Are you sure you want to leave this page?</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn confirm-navigation-stay">Stay on this Page</button><button data-modal-close="data-modal-close" class="btn btn-danger confirm-navigation-leave">Leave this Page</button></div></div><div style="display: none;" class="coursera-async-message"></div></body></html>