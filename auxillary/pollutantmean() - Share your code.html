<!DOCTYPE html>
<html class="supports-svg" xmlns:fb="http://ogp.me/ns/fb#" itemtype="http://schema.org"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/MathJax.js" async="" type="text/javascript"></script><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=IE7"><meta name="fragment" content="!"><meta name="robots" content="NOODP"><meta charset="utf-8"><meta property="og:title" content="pollutantmean() - Share your code"><meta property="og:type" content="website"><meta property="og:image" content="http://s3.amazonaws.com/coursera/media/Coursera_Computer_Narrow.png"><meta property="og:url" content="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173"><meta property="og:site_name" content="Coursera"><meta property="og:locale" content="en_US"><meta property="og:description" content="Take free online classes from 80+ top universities and organizations. Coursera is a social entrepreneurship company partnering with Stanford University, Yale University, Princeton University and others around the world to offer courses online for anyone to take, for free. We believe in connecting people to a great education so that anyone around the world can learn without limits."><meta property="fb:admins" content="727836538,4807654"><meta property="fb:app_id" content="274998519252278"><meta name="description" content="Take free online classes from 80+ top universities and organizations. Coursera is a social entrepreneurship company partnering with Stanford University, Yale University, Princeton University and others around the world to offer courses online for anyone to take, for free. We believe in connecting people to a great education so that anyone around the world can learn without limits."><meta name="image" content="http://s3.amazonaws.com/coursera/media/Coursera_Computer_Narrow.png"><meta name="apple-itunes-app" content="app-id=736535961"><title>pollutantmean() - Share your code</title>    <link href="pollutantmean%28%29%20-%20Share%20your%20code_files/spark_002.css" rel="stylesheet" type="text/css">
      <link href="pollutantmean%28%29%20-%20Share%20your%20code_files/course.css" rel="stylesheet" type="text/css">
      <link href="pollutantmean%28%29%20-%20Share%20your%20code_files/spark.css" rel="stylesheet" type="text/css">
    <link href="https://spark-public.s3.amazonaws.com/rprog/static/images/favicon.ico" rel="icon">
<script src="pollutantmean%28%29%20-%20Share%20your%20code_files/ga.js" async="" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/routes.js" data-requiremodule="pages/spark/routes" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/204.js" data-requiremodule="_204" data-requirecontext="204js" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/student-page_002.js" data-requiremodule="pages/spark/views/template/student-page" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/student-page.js" data-requiremodule="pages/spark/views/template/student-page.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/header.js" data-requiremodule="pages/spark/views/template/header" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/sidebar_002.js" data-requiremodule="pages/spark/views/template/sidebar" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/header_003.js" data-requiremodule="pages/spark/views/template/header.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/signature_track.js" data-requiremodule="spark/app/signature/js/signature_track" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/header_002.js" data-requiremodule="pages/spark/views/template/nls/header" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/sidebar.js" data-requiremodule="pages/spark/views/template/sidebar.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/sidebar_003.js" data-requiremodule="pages/spark/views/template/nls/sidebar" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/signatureTrackLastChanceModal.js" data-requiremodule="spark/app/signature/js/signatureTrackLastChanceModal.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/flexjoinLastChanceModal.js" data-requiremodule="spark/app/signature/js/flexjoinLastChanceModal.html" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/util.js" data-requiremodule="js/lib/util" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><script src="pollutantmean%28%29%20-%20Share%20your%20code_files/widgets.js" data-requiremodule="pages/forum/widgets" data-requirecontext="_" async="" charset="utf-8" type="text/javascript"></script><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1px; bottom: 2px; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuTitle {background-color: #CCCCCC; margin: -5px 0 0 0; text-align: center; font-style: italic; font-size: 80%; color: #444444; padding: 2px 0; overflow: hidden}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">DIV.MathJax_MathML {text-align: center; margin: .75em 0px}
.MathJax_MathML {font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; border: 0; padding: 0; margin: 0}
span.MathJax_MathML {display: inline}
div.MathJax_MathML {display: block}
.MathJax_mmlExBox {display: block; overflow: hidden; height: 1px; width: 60ex; padding: 0; border: 0; margin: 0}
[mathvariant="double-struck"] {font-family: MathJax_AMS, MathJax_AMS-WEB}
[mathvariant="script"] {font-family: MathJax_Script, MathJax_Script-WEB}
[mathvariant="fraktur"] {font-family: MathJax_Fraktur, MathJax_Fraktur-WEB}
[mathvariant="bold-script"] {font-family: MathJax_Script, MathJax_Caligraphic-WEB; font-weight: bold}
[mathvariant="bold-fraktur"] {font-family: MathJax_Fraktur, MathJax_Fraktur-WEB; font-weight: bold}
[mathvariant="monospace"] {font-family: monospace}
[mathvariant="sans-serif"] {font-family: sans-serif}
[mathvariant="bold-sans-serif"] {font-family: sans-serif; font-weight: bold}
[mathvariant="sans-serif-italic"] {font-family: sans-serif; font-style: italic}
[mathvariant="sans-serif-bold-italic"] {font-family: sans-serif; font-style: italic; font-weight: bold}
[class="MJX-tex-oldstyle"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB}
[class="MJX-tex-oldstyle-bold"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB; font-weight: bold}
[class="MJX-tex-caligraphic"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB}
[class="MJX-tex-caligraphic-bold"] {font-family: MathJax_Caligraphic, MathJax_Caligraphic-WEB; font-weight: bold}
@font-face /*1*/ {font-family: MathJax_AMS-WEB; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf')}
@font-face /*2*/ {font-family: MathJax_Script-WEB; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Script-Regular.otf')}
@font-face /*3*/ {font-family: MathJax_Fraktur-WEB; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Regular.otf')}
@font-face /*4*/ {font-family: MathJax_Caligraphic-WEB; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf')}
@font-face /*5*/ {font-family: MathJax_Fraktur-WEB; font-weight: bold; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Fraktur-Bold.otf')}
@font-face /*6*/ {font-family: MathJax_Caligraphic-WEB; font-weight: bold; src: url('https://d2265nx4vomwra.cloudfront.net/2.1/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Bold.otf')}
</style></head><body class="wysihtml5-supported"><div style="display: none;" id="MathJax_Message"></div><div id="fb-root"></div><div id="spark-help" class="hide"></div><a href="http://help.coursera.org/customer/widget/emails/new" target="_blank"><div style="z-index: 1" data-networkprioritysupportwidget="" role="button" class="helpwidget-tab hide">Premium Support</div></a><div id="origami"><div><div><div class="coursera-page"><div class="coursera-header" role="menubar"><div class="hidden">This page features MathJax technology to render mathematical formulae.
If you are using a screen reader, please visit <a href="http://www.dessci.com/en/products/mathplayer/">MathPlayer</a> to download the plugin for your browser. Please note that this is an Internet Explorer-only plugin at this time.</div><h1 class="hidden">R Programming</h1><div role="banner" class="course-topbar container-fluid"><div class="row-fluid"><div class="span3"><a href="https://www.coursera.org/" data-if-linkable="add-referrer" class="course-topbar-logo"></a></div><div style="float:right;" class="course-topbar-nav-container span9"><h2 class="hidden">Top Navigation Bar</h2><ul class="course-topbar-nav-list"><li class="course-topbar-nav-list-item"><a href="https://www.coursera.org/courses" data-if-linkable="add-referrer">Courses</a></li><li tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="course-topbar-my" data-popup="#course-topbar-my" data-popup-bind-open="mouseenter" data-popup-close="data-popup-close" style="cursor:pointer;" data-popup-direction="se" class="course-topbar-nav-list-item"><a data-user-id="143432">Alex Rempel<i class="icon-caret-down"></i></a></li></ul></div></div><div id="course-topbar-aboutus" class="course-topbar-sublist"><a href="https://www.coursera.org//about/" target="_new" data-if-linkable="add-referrer" class="internal-about course-topbar-sublist-item">About Us</a><a href="https://www.coursera.org//about/careers" target="_new" data-if-linkable="add-referrer" class="internal-about course-topbar-sublist-item">Careers</a><a href="https://www.coursera.org//about/people" target="_new" data-if-linkable="add-referrer" class="internal-about course-topbar-sublist-item">People</a><a href="https://www.coursera.org//about/contact" target="_new" data-if-linkable="add-referrer" class="internal-about course-topbar-sublist-item">Contact Us</a></div><div id="course-topbar-my" class="course-topbar-sublist"><a data-popup-close="data-popup-close" href="https://www.coursera.org/" target="_new" class="course-topbar-sublist-item">My Courses</a><a data-popup-close="data-popup-close" href="https://www.coursera.org/account/profile" target="_new" class="course-topbar-sublist-item">Profile</a><a data-popup-close="data-popup-close" href="https://www.coursera.org/account/records" target="_new" class="course-topbar-sublist-item">Course Records</a><a href="https://www.coursera.org/account/settings" target="_new" class="course-topbar-sublist-item">Settings</a><a href="https://class.coursera.org/rprog-002/class/preferences" class="course-topbar-sublist-item">Course Preferences</a><a href="https://class.coursera.org/rprog-002/auth/logout" class="course-topbar-sublist-item">Sign Out</a></div></div><div class="course-topbanner-wrapper"><div class="course-topbanner"><div class="course-topbanner-university-logo"><a href="https://www.coursera.org/jhu" target="_blank" data-if-linkable="add-referrer" title="https://www.coursera.org/jhu" class="coursera-university-color"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/university_logo.png" alt="jhu"></a></div><h1 class="course-topbanner-header"><a href="https://class.coursera.org/rprog-002/" data-if-linkable="modal-lock" class="course-topbanner-name coursera-university-color">R Programming</a><br><span style="" class="course-topbanner-instructor">by Roger D. Peng, PhD, Brian Caffo, PhD, Jeff Leek, PhD</span></h1></div></div></div><div style="position:relative;" class="container-fluid"><div class="row-fluid"><div id="course-page-sidebar" role="navigation"><div class="coursera-sidebar" role="menubar"><div id="course-page-sidebar" role="navigation"><div class="course-navbar-container"><a href="https://class.coursera.org/rprog-002" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_index"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/logo.jpeg" style="width: 205px;height: 116px;margin: -15px 0px 8px 1px; box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.05);" alt="Course Home Page"></a><div data-coursera-course-search-nav-widget="data-coursera-course-search-nav-widget" class="input-append course-search-nav-box"><form method="get" action="/rprog-002/class/search" data-js-search-form="data-js-search-form" class="form-inline minimized-search"><label for="course-search-nav-input" class="accessible-text-for-reader">Search this course</label><input id="course-search-nav-input" name="q" data-js-search-input="data-js-search-input" type="text">&nbsp;<button type="submit" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="search" class="btn icon-search"><span class="accessible-text-for-reader">Search</span></button></form></div><h2 class="hidden">Side Navigation Bar</h2><ul class="course-navbar-list"><li class="course-navbar-item"></li><li class="course-navbar-item"><h3>Course</h3></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/class/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Announcements" class="coursera-university-color"><span>Announcements </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/lecture/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Video_Lectures" class="coursera-university-color"><span>Video Lectures </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/forum/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Discussion_Forums" class="coursera-university-color"><span>Discussion Forums </span><span></span></a></li><li class="course-navbar-item"></li><li class="course-navbar-item"><h3>Exercises</h3></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/quiz/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Quizzes" class="coursera-university-color"><span>Quizzes </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/human_grading/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Peer_Assessments" class="coursera-university-color"><span>Peer Assessments </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/assignment/index" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Programming_Assignments" class="coursera-university-color"><span>Programming Assignments </span><span></span></a></li><li class="course-navbar-item"></li><li class="course-navbar-item"><h3>About the course</h3></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/wiki/syllabus" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_Syllabus" class="coursera-university-color"><span>Syllabus </span><span></span></a></li><li class="course-navbar-item"><a href="https://class.coursera.org/rprog-002/wiki/About_the_Instructor" data-if-linkable="modal-lock,gray,lock-icon" data-ab-user-convert-for="honorcode_to_welcome2" data-ab-user-convert="navclick_About_the_Instructor" class="coursera-university-color"><span>About the Instructor </span><span></span></a></li><li class="course-navbar-item"><h3>Community</h3></li><li class="course-navbar-item"><a href="http://www.meetup.com/Coursera/" target="_blank" class="coursera-university-color">Join a Meetup<span class="icon-share"></span><span class="accessible-text-for-reader">opens in new browser tab</span></a></li></ul><ul style="list-style-type:none;margin-left: 10px;"><li><a href="http://help.coursera.org/" target="_blank" title="Open help articles in new window" class="coursera-university-color"><i class="icon-question-sign"></i>Help Articles</a></li></ul><ul style="list-style-type:none;margin-left: 10px;"><li><a href="https://class.coursera.org/rprog-002/forum/list?forum_id=10000&amp;url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173" class="coursera-university-color"><i class="icon-comments"></i>Course Materials Errors</a></li><li><a href="https://class.coursera.org/rprog-002/forum/list?forum_id=10001&amp;url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173" class="coursera-university-color"><i class="icon-comments"></i>Technical Issues</a></li></ul></div></div></div></div><div id="course-page-content" role="main"><div style="display: block;" id="spark" class="hide"><a data-coursera-admin-helpwidget-link="" rel="help" href="https://class.coursera.org/mooc/help/forums" title="Forums" style="display:none;">Learn more</a>

<div data-coursera-forum-thread-widget="" data-thread-mode="page" data-thread-id="1173" data-course-id="972078" data-triage-enabled=""><a target="_blank" href="https://class.coursera.org/rprog-002/help/forums?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173" title="Help center for course issues. This will open in a new tab." class="coursera-reporter-link">Help</a><div class="course-forum-thread-crumbs"><ul class="course-forum-breadcrumb"><li><a href="https://class.coursera.org/rprog-002/forum/list">Forums</a><span class="divider"> / </span></li><li><a href="https://class.coursera.org/rprog-002/forum/list?forum_id=10011">Programming Assignment 1</a></li></ul></div><div class="course-forum-thread-header-wrapper"><div><div dir="auto" class="course-forum-thread-title"><h2>pollutantmean() - Share your code</h2></div><div class="course-forum-thread-header"><div class="course-forum-thread-controls"><span title="This thread was pinned." class="course-forum-thread-indicator course-forum-indicator-good"><i title="Pinned Post" class="icon-pushpin"></i> Pinned</span></div><div style="margin-right:10px; display:inline-block;"><a href="javascript:void(0);" class="course-forum-thread-subscribe-link">Subscribe for email updates.</a></div><div class="course-forum-thread-move hide"><span data-can-move="0" class="hide">You cannot move this thread until this issue is resolved.</span><div data-can-move="1" class="hide">Move this thread!&nbsp;<select class="course-forum-move-select"></select><span>&nbsp;</span><button type="button" class="btn course-forum-move-btn">Move!</button></div></div></div></div></div><div class="course-forum-thread-sort"><ul class="nav nav-pills pull-right"><li><span style="padding: 8px; display: inline-block;">Sort replies by:</span></li><li class="active" data-sort-name="oldest"><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173&amp;sort=oldest">Oldest first</a></li><li data-sort-name="newest"><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173&amp;sort=newest">Newest first</a></li><li data-sort-name="popular"><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173&amp;sort=popular">Most popular</a></li></ul></div><div class="course-forum-thread-tags"><div><link href="pollutantmean%28%29%20-%20Share%20your%20code_files/select2.css" rel="stylesheet" type="text/css"><h5 style="display:inline-block;"><span class="hidden">Tags </span><i class="icon-tags"></i>&nbsp;</h5><span>No tags yet.</span>&nbsp;<a href="javascript:void(0)" class="course-forum-thread-tags-link">+ Add Tag</a><form class="course-forum-thread-tags-form form-inline hide"><label>Please try to use existing tags.   &nbsp;</label><input name="tags" style="margin-left:10px" class="input-medium" type="text"><button type="button" style="margin-left:10px" disabled="disabled" class="btn">Save</button><a href="javascript:void(0)" role="button" style="margin-left:10px">Cancel</a></form></div></div><div class="course-forum-thread-area-container"><div style="display: none;" class="course-forum-top-scroll-indicator">⬆ scroll up for more ⬆</div><div style="clear: right;" class="course-forum-thread-posts-container"><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4883" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4635350"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/MtCook.jpg" alt="">Marina</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4883" name="post-4883" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:19 pm +03:00" datetime="1398259153">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Now when hard deadline is over, feel free to post and discuss your code. <br>Reading others code is part of learning experience. <br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-active"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">5</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4883" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4889" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4635350"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/MtCook.jpg" alt="">Marina</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4889" name="post-4889" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:25 pm +03:00" datetime="1398259543">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Just to get it started, mine is here, form early days:<br><br><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>&nbsp;&nbsp;&nbsp; dir &lt;- paste0(getwd(), "/", directory)<br>&nbsp;&nbsp;&nbsp; files &lt;- list.files(dir)<br>&nbsp;&nbsp;&nbsp; data &lt;- numeric()<br>&nbsp;&nbsp;&nbsp; for(i in id) {<br>&nbsp;&nbsp;&nbsp; currentMonitor &lt;- read.csv(paste0(dir,"/",files[as.numeric(i)]))<br>&nbsp;&nbsp;&nbsp; if (pollutant == "nitrate") K&lt;-3 else K&lt;-2<br>&nbsp;&nbsp;&nbsp; data &lt;- append(data,na.omit(currentMonitor[,K]))<br>&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp; return(mean(data,na.rm=TRUE))<br>}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">14</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4889" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3245" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3705213">Navtej Singh Khandpur</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3245" name="comment-3245" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 3:58 am +03:00" datetime="1398301101">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">No
 validation of the parameters passed to the function, poor indentation 
of the for loop, no inline comments. Tsk tsk. Bad code hygiene!</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-negative">-29</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-active"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3245" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3258" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5795600"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/IMG_20140304_162938_2.jpg" alt="">Arun Balan</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3258" name="comment-3258" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:15 am +03:00" datetime="1398309336">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Very nice of you to post this, Marina! :-)&nbsp;</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">3</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3258" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3422" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6661670"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/401686_2434188698709_619679410_n.jpg" alt="">RAE WOONG PARK</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3422" name="comment-3422" style="vertical-align:middle"><time title="Friday, April 25th 2014, 7:39 pm +03:00" datetime="1398443971">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Very nice code!<br>I modified your code slightly for my practice.<br>And, as 'data' is a global vector having numeric data, 'vdata' was used instead.<br><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        files &lt;- list.files(directory, full.names=T)         
        vdata &lt;- NULL
        for(i in id) {
                currentMonitor &lt;- read.csv(files[i])
                vdata &lt;- append(vdata,na.omit(currentMonitor[,pollutant]))               
        }
        return(round(mean(vdata),3))        
}
</code></pre><div>I found use of 'append' instead of 'rbind' made your code very fast!!</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3422" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3767" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6793237">Vinod</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3767" name="comment-3767" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 9:48 am +03:00" datetime="1398754111">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Hi Marina<br>Nice code. Why you need both rm.omit and rm.na in this code?<br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3767" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3770" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4635350"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/MtCook.jpg" alt="">Marina</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3770" name="comment-3770" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 10:01 am +03:00" datetime="1398754888">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Yeah, it's excessive. I would write it completely different now.<br>It was my first R code :)<br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3770" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4890" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1299214"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/JonPicture.jpg" alt="">Jonathan Fivelsdal</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4890" name="post-4890" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:27 pm +03:00" datetime="1398259629">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</div><div><br></div><div>&nbsp; require(stringr)</div><div>&nbsp;&nbsp;</div><div>&nbsp; #paddedIdList is a list of padded id values used to create</div><div>&nbsp; #the correct file names&nbsp;</div><div>&nbsp; #for each monitor data file</div><div>&nbsp;&nbsp;</div><div>&nbsp; paddedIdList &lt;- lapply(1: length(id),function(index) { str_pad(id[index], width=3, side="left", pad="0")})</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; paddedIdVec &lt;- unlist(paddedIdList) #stores a vector of padded ids</div><div>&nbsp;&nbsp;</div><div>&nbsp; #A list of names for each monitor data file<br><br></div><div>&nbsp;
 fileNameList &lt;- lapply(1:length(paddedIdList),function(index) { 
paste0(getwd(),"/",directory,"/",paddedIdVec[index],".csv") })</div><div>&nbsp;&nbsp;</div><div>&nbsp; fileNameVec &lt;- unlist(fileNameList)</div><div>&nbsp;&nbsp;</div><div>&nbsp; #polluntantFrameList creates a&nbsp;</div><div>&nbsp; #list of data frames that store&nbsp;</div><div>&nbsp; #sulfate and nitrate measurements&nbsp;</div><div>&nbsp; #for each monitor</div><div>&nbsp;&nbsp;</div><div>&nbsp; pollutantFrameList &lt;- lapply(1:length(fileNameList), &nbsp;function(index) { read.csv(fileNameVec[index])})</div><div>&nbsp;&nbsp;</div><div><br></div><div>&nbsp; if(pollutant == "sulfate")</div><div>&nbsp; {</div><div>&nbsp;
 &nbsp; sulfateDataList &lt;- 
lapply(1:length(pollutantFrameList),function(index){ 
pollutantFrameList[[index]]["sulfate"]})</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; sulfateVec &lt;- unlist(sulfateDataList)</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; sulfateMean &lt;- mean(sulfateVec,na.rm = TRUE)</div><div><br></div><div>&nbsp; &nbsp; return(sulfateMean)</div><div>&nbsp; }</div><div>&nbsp;&nbsp;</div><div>&nbsp; if(pollutant == "nitrate")</div><div>&nbsp; {</div><div>&nbsp;
 &nbsp; nitrateDataList &lt;- 
lapply(1:length(pollutantFrameList),function(index){ 
pollutantFrameList[[index]]["nitrate"]})</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; nitrateVec &lt;- unlist(nitrateDataList)</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; nitrateMean &lt;- mean(nitrateVec,na.rm = TRUE)</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; return(nitrateMean)</div><div>&nbsp; }</div><div>&nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4890" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4894" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5702772">Ron Stieger</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4894" name="post-4894" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:42 pm +03:00" datetime="1398260531">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>This
 is my refactored code after I learned about list.files() when trying to
 do corr(). My original code used for (i  in id) and paste() to build up
 the file name.</p>
<pre><code> x &lt;- data.frame()
for (fname in list.files(path = directory, full.names = TRUE)[id])
{
    x &lt;- rbind(x, read.csv(fname))
}
mean(x[,pollutant],na.rm=TRUE)</code></pre>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">18</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-active"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4894" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3226" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4555390">Lori Kandyba</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3226" name="comment-3226" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:46 am +03:00" datetime="1398289617">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">I am in awe of the elegance of your code!<br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">4</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3226" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3390" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6661670"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/401686_2434188698709_619679410_n.jpg" alt="">RAE WOONG PARK</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3390" name="comment-3390" style="vertical-align:middle"><time title="Friday, April 25th 2014, 11:29 am +03:00" datetime="1398414552">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Very nice code!!<br>I adopted your list.file code and made it more fast.<br><br><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        vLen &lt;- 0
        vSum &lt;- 0
        fileNames &lt;- list.files(path =directory, full.names = TRUE)[id]
        for (fileName in fileNames)  {                
                dataFile &lt;- read.csv(fileName)
                x &lt;- dataFile[pollutant][which(!is.na(dataFile[pollutant])),]
                vLen &lt;- vLen + length(x)
                vSum &lt;- vSum + sum(x)
        }
        return(sprintf("%05.3f", vSum/vLen))
}
</code></pre><div><br></div><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3390" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><small class="course-forum-delete-indicator"><span class="icon-trash"></span>A post was deleted</small></div><div><div data-permalink="comment-4300" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=53597">German J Hernandez P</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-4300" name="comment-4300" style="vertical-align:middle"><time title="Sunday, May 4th 2014, 6:43 am +03:00" datetime="1399175012">3 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div>Elegant code indeed. <br>To
 be able to get the Result: &nbsp;Correct! &nbsp;in the submit() for 
'pollutantmean' part 2 and 'pollutantmean' part 4 I have to include 
conditions to handle nonexistent files (ex. id=500, and only 332 files) ,
 empty files, resulting empty data.frames and &nbsp;variable(pollutant) 
not in data.frame.<br><br><pre>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
 x &lt;- data.frame()
 for (fname in list.files(path = directory, full.names = TRUE)[id])
 {
    if(file.exists(fname) &amp; file.info(fname)$size != 0){
       x &lt;- rbind(x, read.csv(fname))
    }
 }
      
 if (nrow(x) &gt; 0 &amp; pollutant %in% names(x)) mean(x[,pollutant],na.rm=TRUE)
 
}<code></code></pre>This second version is way more efficient in memory.
 Only requires a data frame of size the longest number of rows in any of
 the files and a vector of the longest number of non NA values for the 
pollutant in any of the files. The first&nbsp;requires a data frame with
 total number of rows including NA vales in all the files.<br><br><pre>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
 total &lt;- 0
 count &lt;- 0
 for (fname in list.files(path = directory, full.names = TRUE)[id]) {
    if(file.exists(fname) &amp; file.info(fname)$size != 0){
       data &lt;- read.csv(fname)
       if (pollutant %in% names(data)) {
           x &lt;- data[pollutant][!is.na(data[pollutant])]
           total &lt;- total + sum(x)
           count = count + length(x)        
       }
    }
 }
      
 if (length(x) &gt; 0) total/count
 
}</pre></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-4300" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4899" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4555390">Lori Kandyba</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4899" name="post-4899" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:07 pm +03:00" datetime="1398262073">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br>path &lt;- paste(getwd(), directory, sep="/")<br>files &lt;- list.files(path, pattern = ".csv", full.names = TRUE)<br>index &lt;- files[c(id)]<br><br>df &lt;- NULL<br><br>for (i in 1:length(index)) {<br>		data &lt;- read.csv(index[i])<br>		df &lt;- rbind.data.frame(df,data)<br>}<br><br>if (pollutant == "nitrate") {<br>		print(mean(df$nitrate, na.rm=TRUE))	<br>}<br><br>if (pollutant == "sulfate") {<br>		mean(df$sulfate, na.rm=TRUE)<br>}<br>}<br><br></code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4899" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3698" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6661670"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/401686_2434188698709_619679410_n.jpg" alt="">RAE WOONG PARK</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3698" name="comment-3698" style="vertical-align:middle"><time title="Monday, April 28th 2014, 6:49 pm +03:00" datetime="1398700175">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">I think you can shorten the codes by using the 'pollutant' variables:<br><br><pre><code>if (pollutant == "nitrate") {<br>		print(mean(df$nitrate, na.rm=TRUE))	<br>}<br><br>if (pollutant == "sulfate") {<br>		mean(df$sulfate, na.rm=TRUE)<br>}

--&gt;
return(mean(df[,<span>pollutant</span>], na.rm=TRUE))</code></pre></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3698" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3807" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4555390">Lori Kandyba</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3807" name="comment-3807" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 8:11 pm +03:00" datetime="1398791468">7 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Thanks! I realized that afterwards and was kicking myself for not thinking of it earlier.<br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3807" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4911" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7141077"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/Thatya-Ariyaratne_JOW-130808-6025-like-ok.jpg" alt="">Thathya Ariyaratne</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4911" name="post-4911" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:43 pm +03:00" datetime="1398264235">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id=1:332) {<br>  dir &lt;- c(paste(("C:/Users/tariyaratne/Documents/R/"), directory , sep=""))<br>  setwd(dir)<br>  x &lt;- list.files(pattern=".csv")<br>  y &lt;- lapply(x[id], read.table, header = TRUE, sep=",")<br>  z &lt;- do.call(rbind, y)<br>  meanpollut &lt;- mean(z[ ,paste(pollutant)], na.rm= TRUE) # important not to use complete.cases which will remove observations for the other pollutatnt<br>  return(meanpollut)<br>}<br><br><br></code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-active"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4911" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4927" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2186054"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/Head-Shot.jpg" alt="">Michael Shipman</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4927" name="post-4927" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:11 pm +03:00" datetime="1398265914">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">I
 know this looks a bit "VBA"ish, but that's what I use at work with 
MSOffice.&nbsp; Also, I annotate a lot out of habit to help guide me 
when I look back at this later.<br><pre>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Gets and stores the filenames in the specified directory.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FileNames &lt;- list.files(path=directory)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Creates the empty data frame with column label headers for mearging specified data file tables.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PolData &lt;- data.frame(Date=as.Date(character()), sulfate=numeric(), nitrate=numeric(), ID=integer())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Mearges the specified data tables in the for loop.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i in id){ <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PolData &lt;- rbind(PolData, read.csv(file=paste(directory, "/", FileNames[i], sep=""),header=TRUE))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #Returns the mean of the specified pollutant and removes any NA from the calculations.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mean(x = PolData[,pollutant], na.rm = TRUE)<br>}</pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">4</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4927" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4931" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1327050"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/Firefox_wallpaper.png" alt="">Gregory D. Horne</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4931" name="post-4931" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:22 pm +03:00" datetime="1398266566">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br>&nbsp;observations = c()<br><br>&nbsp;&nbsp;for (monitor in id) {<br>&nbsp;&nbsp; &nbsp;dataset &lt;- read.csv(paste("./", directory, "/", sprintf("%03d", monitor), ".csv", sep=""), TRUE)<br>&nbsp;&nbsp; &nbsp;observations &lt;- append(observations, dataset[,pollutant])<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;<br>&nbsp;&nbsp;mean(observations, na.rm=TRUE)<br><span>}</span></code></pre><br><span></span></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4931" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4935" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5062559">Joshua Joel Stephens</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4935" name="post-4935" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:39 pm +03:00" datetime="1398267585">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        
        ## File Paths to the Data
        filenames &lt;- paste("C:/Users/JSTEPHEN/Documents/Coursera/02 R Programming/rprog-data-specdata/" , 
                           directory , 
                           "/" , 
                           formatC( id , width = 3, flag = "0" ) , 
                           ".csv" , 
                           sep = "")
        
        ## Combine data
        full_data &lt;- do.call("rbind", lapply(filenames, 
                                      FUN=function(files){read.table(files, header = TRUE, sep = ",")}))
        
        ## Summarize the data
        bad &lt;- is.na(full_data[ , pollutant])
        sum_data &lt;- full_data[ , pollutant][!bad]
        
        ## Average
        mean(sum_data)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4935" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4936" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2444648">Ajay Bhargava</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4936" name="post-4936" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:40 pm +03:00" datetime="1398267642">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332){
	search &lt;- list.files(directory, pattern="*.csv",full.names=TRUE)
	relevant &lt;- search[id]
	#print(relevant)
	data &lt;- data.frame()
	for (i in 1:length(relevant)){
		#do.call performs rbind upon the lapply fuction consisting of relevant
                # (which is full path for CSV file)
		#and puts it into the read.csv file. 
		all.data &lt;- do.call(rbind, lapply(relevant,read.csv))
	}
	good.data &lt;- data.frame(all.data[complete.cases(all.data),])
	#print(good.data[1:10,])
	answer &lt;- mean(good.data[,pollutant],na.rm=TRUE)
	print(answer)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4936" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4950" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5795600"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/IMG_20140304_162938_2.jpg" alt="">Arun Balan</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4950" name="post-4950" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 8:29 pm +03:00" datetime="1398274149">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div></div><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  filePaths &lt;- file.path(directory, paste(sprintf("%03d", id), ".csv", sep=""))
  obs &lt;- numeric()
  for (filePath in filePaths){
    tmpData &lt;- read.csv(filePath)
    tmpData &lt;- subset(tmpData[[pollutant]], !is.na(tmpData[[pollutant]]))
    obs &lt;- c(obs, as.vector(tmpData))
  }
  mean(obs)
}
</code></pre><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4950" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4957" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7078253"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/bodensee2013-5.jpg" alt="">Mario Hofer</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4957" name="post-4957" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 8:53 pm +03:00" datetime="1398275595">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  files &lt;- paste(directory,"/",formatC(id,width=3,flag="0"),".csv",sep="")
  data &lt;- ldply(files, function(fn) read.csv(fn))
  mean(data[,pollutant],na.rm=TRUE)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-active"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">15</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4957" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3227" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4232444">Randy S. Blair</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3227" name="comment-3227" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:51 am +03:00" datetime="1398289875">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Three lines? Nice. So jealous...</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3227" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3257" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7160188">Jules Kahn</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3257" name="comment-3257" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:12 am +03:00" datetime="1398309176">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Quality!</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3257" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3472" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7236986">Jessica</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3472" name="comment-3472" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 5:34 am +03:00" datetime="1398479693">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Yeah, that's real nice work!</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3472" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3837" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3684443">Charles Skelton</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3837" name="comment-3837" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 11:44 pm +03:00" datetime="1398804283">7 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">very nice!</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3837" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4961" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2093532">Henry George Bottomley</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4961" name="post-4961" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 9:13 pm +03:00" datetime="1398276789">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>    pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        csvfile &lt;- function(id){ 
            paste(ifelse(nchar(id) == 1, "00", ifelse(nchar(id) == 2, "0", "")), id, ".csv", sep="")  
           }
        values &lt;- numeric()  
        for (i in id){  
            datafile &lt;- read.csv( paste(directory,"/", csvfile(i), sep=""))
            values &lt;- c(values,datafile[,pollutant])                            
           }              
        mean(values, na.rm=TRUE)    
      }  </code></pre>
<p>Looking at other people's versions, my use of <code>ifelse</code> (slightly different to <code>if</code>, <code>else</code> and <code>elseif</code>) looks unique so far</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4961" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4975" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"><a title="Controls" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="course-forum-post-controls-4975" data-popup="#course-forum-post-controls-4975" data-popup-direction="se" class="course-forum-post-controls-toggle"><i class="icon-cog"><span class="hidden">Controls</span></i></a><div id="course-forum-post-controls-4975" class="course-forum-post-controls-popup hide"><!-- If you have editing rights, you can edit or delete--><a href="javascript:void(0)" class="course-forum-post-edit-link">Edit</a><a href="javascript:void(0)" data-property="deleted" data-value="1" class="course-forum-post-action-link">Delete</a><!-- Only forum moderators --></div></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=143432"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/Stained_glass_Tower_of_Ivory.jpg" alt="">Alex Rempel</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4975" name="post-4975" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:20 pm +03:00" datetime="1398280822">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code># PART 1
pollutantmean &lt;- function(directory, pollutant, id = 1:332) {

 file.summs &lt;- apply(sapply(X = paste('specdata'
                                      ,sprintf('%03i.csv',id)
                                      ,sep='/')
                           ,FUN = function(x) {tbl &lt;- na.omit(read.table(x                                                                                               ,header=T
                                                                ,sep=','
                                                                ,na.strings='NA'
                                                                ,stringsAsFactors=FALSE)[[pollutant]])
                                               c(length(tbl),sum(tbl))})
                    ,1
                    ,sum)

 file.summs[2]/file.summs[1]
}</code></pre></div><div aria-haspopup="true" aria-expanded="false" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4975" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4978" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6276077">Stephen A. Wright</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4978" name="post-4978" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:28 pm +03:00" datetime="1398281335">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">My terrible first solution, why I used append I still don't remember.<br><pre>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br>        df &lt;- data.frame()<br><br>        for (i in id){<br>                file &lt;- paste(".//",directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep = "")<br>                temp &lt;- read.csv(file, header = TRUE)<br>                df &lt;- append(df, temp[pollutant])<br>        }<br>        df &lt;- unlist(df)<br>        mean(df, na.rm = TRUE)<br><br>}</pre>And my redo after I learned about list.files()<br><br><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br>        df &lt;- data.frame()<br><br>        names &lt;- list.files(directory, pattern = "*.csv", full.names = TRUE)<br>        for(i in id){<br>                df &lt;- rbind(df, read.csv(names[i], header = TRUE))                <br>        } <br>        df &lt;- df[,pollutant]<br>        mean(df, na.rm = TRUE)<br><br>}</code></pre><br><br><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4978" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-4982" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4326104"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/me.jpg" alt="">Sean Mantey</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4982" name="post-4982" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:36 pm +03:00" datetime="1398281806">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</p>
<p><span style="color:rgb(51,51,51);">&nbsp;&nbsp;</span><span style="color:rgb(51,51,51);">for (file_id in id) {</span><br></p>
<p>&nbsp; &nbsp; filename&lt;-paste(directory,"/",formatC(file_id, width=3, flag="0"),".CSV",sep="")</p>
<p>&nbsp; &nbsp; if(!exists("outData")) {</p>
<p>&nbsp; &nbsp; &nbsp; outData &lt;- read.csv(filename)</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp; &nbsp; else {</p>
<p>&nbsp; &nbsp; &nbsp; tempData &lt;-read.csv(filename)</p>
<p>&nbsp; &nbsp; &nbsp; outData &lt;- rbind(outData,tempData)</p>
<p>&nbsp; &nbsp; }</p>
<p>&nbsp; }&nbsp;</p>
<p>&nbsp; mean(outData[[pollutant]],na.rm=TRUE)</p>
<p>}</p></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-4982" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><small class="course-forum-delete-indicator"><span class="icon-trash"></span>A post was deleted</small></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5012" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=582830">Anselm Kotchap</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5012" name="post-5012" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:33 am +03:00" datetime="1398288787">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  
  data &lt;- data.frame()
  
  for(i in seq_along(id)){
  #adding leading zeros on the file name  
  if(id[i] &lt; 10 ){
    fileName &lt;- paste("00",id[i],".csv",sep = "")
  
  }else if(id[i] &lt; 100){
    fileName &lt;- paste("0",id[i],".csv",sep = "")
    
  }else{
    fileName &lt;- paste(id[i],".csv",sep = "")
  }
  #creating the directory path given the correct file name
  fileDir &lt;- paste(directory,"/",fileName,sep = "")
  
  #reading the file and appending
  filedf &lt;- read.csv(fileDir)
  data &lt;- rbind(data,read.csv(fileDir))
  }
  #caltute the corresponding mean
  mean(data[,pollutant],na.rm = TRUE)
  
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5012" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5036" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3156"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/head.jpg" alt="">Jan Zegan</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5036" name="post-5036" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 1:51 am +03:00" datetime="1398293462">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  require(data.table)
  
  .dt &lt;- rbindlist(
    lapply(
      list.files(directory)[id], 
      function(file) 
        fread(file.path(directory, file))
      )
    )
  mean(.dt[[pollutant]], na.rm=T)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5036" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5045" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6660831">Jonathan Gabriel</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5045" name="post-5045" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:14 am +03:00" datetime="1398294851">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>corr &lt;- function(directory, threshold = 0) {</div><div>&nbsp; id &lt;- list.files(directory)</div><div>&nbsp; cv &lt;- c()&nbsp;</div><div>&nbsp; for (i in id) {</div><div>&nbsp; &nbsp; data &lt;- read.csv(paste(directory, '/', i, sep=""))</div><div>&nbsp; &nbsp; comp &lt;- complete.cases(data)</div><div>&nbsp; &nbsp; sub &lt;- subset(data,comp)</div><div>&nbsp; &nbsp; if (nrow(sub) &gt; threshold) {</div><div>&nbsp; &nbsp; &nbsp; cv &lt;- c(cv, cor(sub$sulfate, sub$nitrate))</div><div>&nbsp; &nbsp; }</div><div>&nbsp; }</div><div>&nbsp; cv</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5045" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5047" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=396288">Lu Lu</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5047" name="post-5047" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:22 am +03:00" datetime="1398295363">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code></code></pre><p><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
&nbsp; </code></p><code></code><p><code>## load the files according to the id<br>&nbsp; library(plyr)<br>&nbsp; id &lt;- formatC( id, width=3, flag="0")<br>&nbsp; filenames &lt;- paste(id, ".csv", sep="")<br>&nbsp; fullnames &lt;- file.path (directory, filenames)<br>&nbsp; ldf &lt;- ldply(fullnames, read.csv)<br>&nbsp; <br>&nbsp; m &lt;- mean(ldf[[pollutant]], na.rm = T)<br>&nbsp; <br>&nbsp; m<br>&nbsp; <br>}</code></p><code></code><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5047" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5071" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7060816"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/50238555-85201-0869s.jpg" alt="">Vivek Subedi</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5071" name="post-5071" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 5:31 am +03:00" datetime="1398306689">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div></div><pre><code></code></pre><div><code><br></code></div><code></code><div><code># function to calculate mean of csv files&nbsp;</code></div><code></code><div><code>pollutantmean &lt;- function(directory, pollutant,id=1:332){</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;# looping using the id that is provided by the user</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;for(i in id){</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; csvfile &lt;- sprintf("%03d.csv", i)</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; filepath &lt;- file.path(directory, csvfile)</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</code></div><code></code><div><code>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; #checking for the master frame. If master 
frame exists, it concat to that otherwise creates new one</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(!exists("masterfoo")){</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;masterfoo &lt;- read.csv(filepath, header=TRUE, sep=",")&nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# reading file using read.csv</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;foo &lt;- read.csv(filepath, header=TRUE, sep=",")</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#concatinating each file's data into master data frame</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;masterfoo &lt;- rbind(masterfoo,foo)</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# removing foo after binding to the master foo</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rm(foo)</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;}</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;## holding only a column that is provided as a parameter by the user</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;pollutantfoo &lt;- masterfoo[,pollutant]</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;## removing all NA values from the column</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;cleanedpollutantfoo &lt;- pollutantfoo[!(is.na(pollutantfoo))]</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;# calculating mean using mean function</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;meanvalue &lt;- round(mean(cleanedpollutantfoo), digits=3)</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;# returning mean</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;meanvalue&nbsp;</code></div><code></code><div><code>&nbsp; &nbsp; &nbsp;</code></div><code></code><div><code>}</code></div><code></code><div><code></code><pre><code><code></code></code></pre><code><br></code></div><code></code><br><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5071" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5073" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=243267"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/rsz_thinking_cat4.jpg" alt="">timothy235</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5073" name="post-5073" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 5:39 am +03:00" datetime="1398307182">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>pollutantmean &lt;- function (directory, pollutant, id = 1:332) {</div><div><br></div><div>&nbsp; &nbsp; # get all numbers to be averaged</div><div>&nbsp; &nbsp; nums &lt;- c()</div><div>&nbsp; &nbsp; for (i in id) {</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; # convert the file number to character and prepend zeroes if necessary</div><div>&nbsp; &nbsp; &nbsp; &nbsp; filename &lt;- if (i &lt; 10) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paste("00", as.character(i), sep = "")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; } else if (i &lt; 100) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; paste("0", as.character(i), sep = "")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; } else {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; as.character(i)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; # assume specdata is a subdirectory of the present working directory</div><div>&nbsp; &nbsp; &nbsp; &nbsp; filepath &lt;- paste(c(directory, "/", filename, ".csv"), collapse = "")</div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; # append new data to nums</div><div>&nbsp; &nbsp; &nbsp; &nbsp; dataframe &lt;- read.csv(filepath)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; newnums &lt;- na.omit(dataframe[, pollutant])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; nums &lt;- c(nums, newnums)</div><div>&nbsp; &nbsp; }</div><div><br></div><div>&nbsp; &nbsp; # get the mean</div><div>&nbsp; &nbsp; mn &lt;- mean(nums)</div><div><br></div><div>&nbsp; &nbsp; # round the mean to three digits</div><div>&nbsp; &nbsp; round(mn, digits = 3)</div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5073" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5076" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2430969"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/220px-Tycho_crater_on_the_Moon.jpg" alt="">Cameron Roy Taljard</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5076" name="post-5076" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:11 am +03:00" datetime="1398309092">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div><pre>pollutantmean &lt;- function(directory, pollutant, id) {
  
  ## find current working directory and the required follder to loop
  datafile &lt;- paste0(getwd(),'/',directory,'/')
  
  ## list all the files
  datasource &lt;- list.files(datafile)
  
  ## create a full directory of all the files in the folder
  dataloc &lt;- paste0(datafile,datasource)
  
  ## initiate / cheat for the rbind function
  full &lt;- read.csv(paste0(datafile,'999.csv'))
  
  
  ##loop through files and read files
  for(i in dataloc[id])
  {
  data &lt;- read.csv(i)
  ## create a copy of the data required
  full &lt;- rbind(full, data)
  }
  
  ## write the data used into a temporary file
  write.csv(full, file='temp.csv')
  
  ## print out mean and removed the NA values
  print(mean(full[[pollutant]], na.rm=T )) 
  
  ##return mean
  return(mean(full[[pollutant]], na.rm=T )) 
  }


## execute function with values
pollutantmean("specdata", "nitrate", 70:72)
<code></code></pre><div><br></div><br><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5076" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5085" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3213201">William B Piggot</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5085" name="post-5085" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:59 am +03:00" datetime="1398311979">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id=1:332){
  total &lt;- vector()
  for (i in id){
    filename &lt;- paste(directory, "/", sprintf("%03d", i), ".csv", sep = "")
    my_data &lt;- read.csv(filename)
    x &lt;- my_data[ , pollutant]
    y &lt;- x[!is.na(x)]
    total &lt;- append(total, y)}
    return(mean(total))
}

</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5085" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5088" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2370337"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/profile.jpg" alt="">Andrew S. Taylor</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5088" name="post-5088" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:09 am +03:00" datetime="1398312541">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><p></p><pre>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        polreadings &lt;- vector("numeric")
        filelist &lt;- dir(directory)
        for(n in id) {
                fileloc &lt;- paste(directory, "/", filelist[n], sep = "")
                aqreadings &lt;- read.csv(fileloc)
                polreadings &lt;- c(polreadings, aqreadings[[pollutant]])
        }
        mean(polreadings, na.rm = TRUE)
}<code></code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5088" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5092" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4177604">Logambal Sonachalam</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5092" name="post-5092" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:18 am +03:00" datetime="1398313093">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">pollutantmean &lt;- function(directory,pollutant,id =1:332)<br>{<br>&nbsp;&nbsp; # get the list of all files<br>&nbsp; filelist &lt;-list.files(directory,full.names=TRUE)<br><br>&nbsp; # get the list of required files &nbsp;<br>&nbsp; filestoread &lt;- filelist[c(id)]<br>&nbsp; <br>&nbsp;&nbsp;&nbsp; dataset &lt;- NULL<br>&nbsp; <br>&nbsp; # loop through the filelist and assign the data to the data frame<br>&nbsp; for (i in 1:length(filestoread)) {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; myData &lt;- read.csv(filestoread[i])<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dataset &lt;-rbind.data.frame(dataset,myData)<br>&nbsp; }<br>&nbsp; # assign the colnames<br>&nbsp; colnames(dataset) &lt;- c("Date","sulfate","nitrate","ID")<br>&nbsp; #compute the mean <br>&nbsp; polmean &lt;- mean(dataset[,pollutant], na.rm = TRUE)<br>&nbsp; <br>&nbsp;polmean<br>&nbsp; <br>}<br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5092" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5093" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><span>Anonymous</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5093" name="post-5093" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:24 am +03:00" datetime="1398313482">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>&nbsp; setwd( paste("/tmp", directory, sep = "/") )&nbsp;&nbsp; <br>&nbsp; temp &lt;- paste(formatC(id, width=3, flag="0"), ".csv", sep="")&nbsp; # Get the list of files to be read<br>&nbsp; sourceframe &lt;- do.call("rbind", lapply(temp, read.csv, header = TRUE)) # Create the data frame<br>&nbsp; ifelse(pollutant == "sulfate", round(mean(sourceframe[,2], na.rm=TRUE),3), round(mean(sourceframe[,3], na.rm=TRUE),3))<br>}<br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5093" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5105" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4725529">Demetri Sampas</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5105" name="post-5105" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 9:42 am +03:00" datetime="1398321748">13 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><p>pollutantmean &lt;- function (directory,pollutant, id=1:332){</p>
<p>	list &lt;- lapply (paste(directory,"/",sprintf("%03d", id),".csv",sep=""),read.csv)</p>
<p>	df&lt;-data.frame(Reduce(rbind,list))</p>
<p><span>	mean(</span>df[,pollutant],na.rm=TRUE)</p>
<p>}</p><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5105" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5131" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7026658">TANIA CAMARA ALONSO</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5131" name="post-5131" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:54 pm +03:00" datetime="1398333250">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; idaux &lt;- id +1000</div><div>&nbsp; &nbsp; idaux2 &lt;- substr(paste(as.character(idaux),".csv", sep=""),2,8)</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; # ahora los leo</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp; &nbsp; dataF &lt;- read.csv(paste(getwd(),"/",directory[1],"/",idaux2[1], sep=""))</div><div>&nbsp; &nbsp; if (length(id)&gt;1) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for (i in 2:length(id)) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; df.aux &lt;- read.csv(paste(getwd(),"/",directory[1],"/",idaux2[i], sep=""))</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dataF &lt;- rbind(dataF,df.aux)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp;</div><div>&nbsp; &nbsp;#calculo la media de la variable que paso por parámetro</div><div>&nbsp; &nbsp;m &lt;- mean(dataF[[pollutant]], na.rm=TRUE)</div><div>&nbsp; &nbsp;print(m)</div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5131" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5148" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1284442"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/a_53c5006b.jpg" alt="">Matvey Roshchin</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5148" name="post-5148" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:45 pm +03:00" datetime="1398339913">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
    #here we will store our raw values
    raw_data &lt;- vector(mode = 'numeric', length = 0)
    # reading data and adding it to the raw data vector
    #  may use sprintf('%03d.csv', id[i]) instead of formatC
    for (i in 1:length(id)){
        csv_data &lt;- read.csv(paste(directory, '/', 
                        formatC(as.integer(id[i]),2,flag=0),
                        '.csv', sep=''))
        raw_data &lt;- append(raw_data, csv_data[[pollutant]])
    }
    # mean
    poll_mean &lt;- mean (raw_data, na.rm = TRUE)
    return(poll_mean)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5148" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5155" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5238644">Dinesh Kumar SRB</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5155" name="post-5155" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 3:29 pm +03:00" datetime="1398342554">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function (directory, pollutant, id = 1:332) {        <br>        AF &lt;- list.files(directory, pattern="*.csv")<br>        total &lt;- NULL        <br>        for (i in id) {                <br>                readfile &lt;- paste(directory, AF[i], sep = "/")<br>                x &lt;- read.csv(readfile)<br>                total &lt;-  rbind.data.frame(total, x)<br>        }<br>        if (pollutant == "sulfate") {<br>                means &lt;- mean (total[,"sulfate"], na.rm = TRUE )                <br>        }        <br>        else {<br>                means &lt;- mean (total[,"nitrate"], na.rm = TRUE )                <br>        }<br>        means_roundoff &lt;- round(means, digits = 3)<br>        print (means_roundoff)       <br>}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5155" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5175" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7239984">Marcelo</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5175" name="post-5175" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 5:51 pm +03:00" datetime="1398351081">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>  mydir &lt;- paste(getwd(),directory,sep="/")<br>  setwd(mydir)        <br>  filelist &lt;- list.files()<br>  filenames &lt;- filelist[id]<br>  mybig &lt;- do.call("rbind", lapply(filenames, read.csv, header = TRUE)) <br>         #append all files into a single data frame<br>  if(pollutant=="sulfate"){       <br>        myMeans &lt;- mean(mybig[,2],na.rm=TRUE) #2nd column for sulfate<br>  } else if(pollutant=="nitrate"){<br>        myMeans &lt;- mean(mybig[,3],na.rm=TRUE) #3rd column for nitrate<br>  } else {<br>        print("error")<br>  }<br>  myMeans<br>}<br></code></pre><br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5175" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5176" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=782797"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/Androidify-Me.jpg" alt="">Charlotte DeKoning</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5176" name="post-5176" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:15 pm +03:00" datetime="1398352555">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id=1:332) {
      m &lt;- matrix(NA,1,1)
      colnames(m) &lt;- pollutant
      for (i in id) {     
            x &lt;- read.csv(paste(getwd(),"/",directory,"/",sprintf("%03d",i),".csv",sep=""))            
            if(pollutant=="nitrate") {                 
                  m &lt;- c(m,x$nitrate)
            } 
            else if(pollutant=="sulfate") {
                  m &lt;- c(m,x$sulfate)
            }
      }
      mean(m,na.rm=T)
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5176" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5183" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6577823"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/tjzkjahgvubxnnfbdjpo.jpg" alt="">Sharon Metzler</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5183" name="post-5183" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:23 pm +03:00" datetime="1398353011">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id=1:332) {
        
        # should we verify incoming arguments before starting?        
        # directory where sample data can be found
        setwd("C:/_rdev")
        the_path &lt;- paste(getwd(),directory,"",sep="/")
                
        # create empty object for rbind() merge
        all_data &lt;- ""        
        # iterate the id list
        for(i in id){                
                # use function to create the filename with 00 prefix &amp; csv suffix
                the_file_name &lt;- paste(the_path,the_file_id(i),".csv",sep="")                
                # put this iterations file into a data object
                some_data &lt;- read.csv(the_file_name,header=TRUE)                
                # begin merging the data by observation (vertical, add rows)
                if(length(all_data) &gt; 1){
                        
                        all_data &lt;- rbind(some_data,all_data,deparse.level=1)                        
                }else{
                        all_data &lt;- some_data
                }
                some_data &lt;- ""
        }
        # get column number to calculate
        num &lt;- grep(pollutant, colnames(all_data))        
        # collect pollutant mean excluding NAN NA
        print(mean(all_data[[num]],trim=0,na.rm=TRUE))
}

        
the_file_id &lt;- function(the_num){        
        if(the_num&lt;10){                
                # 1 digit numbers need "00"
                the_rtn = paste("00",the_num,sep="")                
        }else if(the_num&lt;=99){
                # 2 digit numbers need "0"
                the_rtn = paste("0",the_num,sep="")                
        }else {
                the_rtn = the_num
        }        
}       
</code></pre><div><br></div><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5183" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5194" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4123451">Edward Steven Seymour</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5194" name="post-5194" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 8:06 pm +03:00" datetime="1398359198">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Here's mine:<br><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  pollutants &lt;- vector();
  
  for(i in id) {
    sensor &lt;- read.csv(sprintf("%s/%03d.csv", directory, i))
    pollutants &lt;- append(pollutants, sensor[[pollutant]])
  }
  
  mean(pollutants, na.rm = TRUE)
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5194" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5214" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6514356">Bruno Gonçalves</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5214" name="post-5214" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 9:46 pm +03:00" datetime="1398365170">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Hi... <br><br><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>      ## 'directory' is a character vector of length 1 indicating<br>      ## the location of the CSV files<br><br>      ## 'pollutant' is a character vector of length 1 indicating<br>      ## the name of the pollutant for which we will calculate the<br>      ## mean; either "sulfate" or "nitrate".<br><br>      ## 'id' is an integer vector indicating the monitor ID numbers<br>      ## to be used<br><br>      ## Return the mean of the pollutant across all monitors list<br>      ## in the 'id' vector (ignoring NA values)<br><br>      #setup &amp; initialize<br>      path &lt;- paste("./",directory,sep="") #build the path to data files<br>      files &lt;- dir(path,full.names=TRUE) #store all available files<br>      #print(files)<br><br>      #select relevant files and read them<br>      files_to_open &lt;- files[id] #get a subset of the files<br>      #print(files_to_open)<br>      main_data&lt;-NA<br>      for (i in 1:length(id)){<br>            #print(i) <br>            #print(files_to_open[i])<br>            main_data &lt;- rbind(read.csv(files_to_open[i]),main_data)<br>      }<br>      #main_data  #for debug<br>      mean(main_data[[pollutant]],na.rm=TRUE)<br>}</code></pre><br>Regards.<br><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5214" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5266" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=945613">James B Taylor</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5266" name="post-5266" style="vertical-align:middle"><time title="Friday, April 25th 2014, 3:27 am +03:00" datetime="1398385632">12 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</div><div>&nbsp;&nbsp;</div><div>&nbsp; ## set working directory to passed directory - hold current wd to set back at end</div><div>&nbsp; currentPath &lt;- getwd()</div><div>&nbsp; folderPath &lt;- paste(currentPath,"/",directory,sep='')</div><div>&nbsp;&nbsp;</div><div>&nbsp; #create empty dataframe for our data</div><div>&nbsp; selectedData &lt;- data.frame()</div><div>&nbsp;&nbsp;</div><div>&nbsp; ##get all filenames within this directory</div><div>&nbsp; files &lt;- c(list.files(folderPath))</div><div>&nbsp;&nbsp;</div><div>&nbsp; #read in the data</div><div>&nbsp; for (i in files[id]){</div><div>&nbsp; &nbsp; fileContents &lt;- read.csv(paste(folderPath,"/",i,sep=''))</div><div>&nbsp; &nbsp; selectedData &lt;- rbind(selectedData,fileContents)</div><div>&nbsp; }</div><div>&nbsp;&nbsp;</div><div>&nbsp; #calculate the mean of the selected pollutant ignoring NA values</div><div>&nbsp; myMean &lt;- mean(selectedData[,pollutant], na.rm=TRUE)</div><div>&nbsp;&nbsp;</div><div>&nbsp; return(myMean)</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5266" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5314" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4118423"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/ImageSmall.jpg" alt="">Peter Kent</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5314" name="post-5314" style="vertical-align:middle"><time title="Friday, April 25th 2014, 12:24 pm +03:00" datetime="1398417847">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</div><div>&nbsp; &nbsp; filenames &lt;- file.path (directory, paste(formatC(id, width=3, flag="0"),".csv",sep=""))</div><div>&nbsp; &nbsp; totals &lt;- 0</div><div>&nbsp; &nbsp; counts &lt;- 0</div><div>&nbsp;</div><div>&nbsp; &nbsp; for(i in 1:length(id)) {&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; fromfile &lt;- read.csv(filenames[i]) #data.frame with one csv</div><div>&nbsp; &nbsp; &nbsp; &nbsp; all &lt;- (fromfile[,pollutant])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; bad &lt;- is.na(all)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; myData &lt;- all[!bad]</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; totals &lt;- totals + sum(myData)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; counts &lt;- counts + length(myData)</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; x = round(totals / counts, digits = 3)</div><div>&nbsp; &nbsp; x</div><div>}<br><br>It
 worked (I was very pleased at the time) and thats all that mattered to 
me given I was new to using R. Perhaps if the spec said "Develop an 
elegant solution..." I would have come up with something more 
sophisticated, and knowing what I know now I would take a different 
approach</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5314" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3856" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2074153">Glenn Sosa</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3856" name="comment-3856" style="vertical-align:middle"><time title="Wednesday, April 30th 2014, 2:36 am +03:00" datetime="1398814592">7 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Until
 I found yours I thought I was the only one who summed and counted 
rather than rbinded. However, I used a logical vector to count so that 
NAs would not be a problem. &nbsp;If I had known about formatC or 
sprintf I would not have needed to use If statement to build the 
filename/prepend 0's to format the file name. I did not even use nested 
If's b/c of the instructor's suggestion to avoid more than 2 levels of 
Ifs.<br><br>I'd welcome any comments from experienced R programmers on the pros/cons of rbinding versus keeping counts.<br><br>I
 really liked how some folks used list.files though I'd be concerned 
that "extra" files might accidentally appear in the future and cause bad
 results.<br><br><div></div><pre><code>....
for (i in id){
##convert numeric id into 3 digit character, handles less than 1000 files
if(i&lt;100){
        filename&lt;-paste("0",i,".csv",sep="")
        }
if(i&lt;10){
        filename&lt;-paste("00",i,".csv",sep="")
        }
if(i&gt;99){
        filename&lt;-paste(i,".csv",sep="")
        }

##set pollutantfile to the path and filename
pollutantfile&lt;-file.path(directory,filename)
currenttable&lt;-read.csv(pollutantfile)

##sum the readings for the specified pollutant for each file
pollsum&lt;-sum(currenttable[[pollutant]], na.rm=TRUE)
pollcount&lt;-sum(!is.na(currenttable[[pollutant]]))

##accumulate the sum for all files
totalsum&lt;-totalsum+pollsum
totalcount&lt;-totalcount+pollcount
} 

mean&lt;-totalsum/totalcount</code></pre></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3856" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5321" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6719882"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/ae462cdab3a20ea95db31dc45ff990ae.jpg" alt="">Davide Rivola</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5321" name="post-5321" style="vertical-align:middle"><time title="Friday, April 25th 2014, 2:07 pm +03:00" datetime="1398424030">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">My solution.<br><br><pre><code>  filenames &lt;- paste0(directory, "/",formatC(id, width=3, flag="0"), ".csv")
  
  a &lt;- numeric()
  
  for( i in 1:length( filenames) ){
    x &lt;- read.csv(filenames[[i]])
    a &lt;- c(a, x[[pollutant]])
  }
  
  round(mean(a, na.rm=TRUE), digits = 3)</code></pre><div><br></div><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5321" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5328" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6870341">Patrick Pollazzon</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5328" name="post-5328" style="vertical-align:middle"><time title="Friday, April 25th 2014, 3:09 pm +03:00" datetime="1398427778">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><p>pollutantmean &lt;- function(directory,pollutant,id=1:332)   {
  setwd("D:/Users/Patrick/Desktop/Coursera")
  x&lt;-(paste(directory, "/",id, ".csv", sep = ""))
  d0&lt;-c(NA,NA,NA,NA)
  d0&lt;-as.numeric(d0)
  for (i in 1:length(x))    {
    d&lt;-read.csv(x[i],)
    a&lt;-nrow(d)
    b&lt;-ncol(d)<br>    d1&lt;-as.matrix(d,a,b)
    d0&lt;-rbind(d0,d1)
    d2&lt;-as.numeric(d0[,pollutant])<br>  }<br>  mean&lt;-mean(d2,na.rm=TRUE)
  print(mean)
} </p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5328" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5329" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2556710"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/74073_449087947751_2868951_n.jpg" alt="">Apostolos Fasianos</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5329" name="post-5329" style="vertical-align:middle"><time title="Friday, April 25th 2014, 3:38 pm +03:00" datetime="1398429518">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; #First, create an empty matrix with 0 columns and 4 rows</div><div>&nbsp; &nbsp; &nbsp; &nbsp; myMatrix&lt;- matrix(nrow = 0, ncol = 4)<br><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; #Create the files' names in a string form by looping through the id of the cvs.&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for (i in id){</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; toRead 
&lt;-paste("/Users/apo/Desktop/Coursera/R/",directory,"/",toString(sprintf(
 "%03d", i &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp;)),".csv", sep = "")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br></div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #For each file you 
encounter, name it myData, and add it to the empty matrix myMatrix<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span>myData &lt;-read.csv(toRead)</span></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; myMatrix&lt;-rbind(myMatrix, myData) &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br></div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; #Return the mean of the pollutant you have in the 
argument place, by putting the pollutant in &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp; &nbsp; #the columns position of the Mean function</div><div>&nbsp; &nbsp; &nbsp; &nbsp; mean(myMatrix[,pollutant], na.rm=T) &nbsp; &nbsp; &nbsp; &nbsp;</div><div>}</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5329" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3467" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5754799">Athanasios Atsalis</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3467" name="comment-3467" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 5:11 am +03:00" datetime="1398478318">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">nice job apostolos!</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3467" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5441" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7236986">Jessica</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5441" name="post-5441" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 5:32 am +03:00" datetime="1398479530">11 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Mine is definitely on the longer side...<br><br><pre><code>pollutantmean&lt;- function(directory, pollutant, ID=1:332) {
  
    directory&lt;- 'specdata'
    specdata_files&lt;- paste("specdata/", list.files(directory), sep="")
    specdata_all&lt;- do.call(rbind, lapply(specdata_files, read.csv))
    
    if(pollutant=="sulfate") {
          specdata_sub&lt;- subset(specdata_all, select=c(ID, sulfate))  
    } else {    
          specdata_sub&lt;- subset(specdata_all, select=c(ID, nitrate))
    }
    
    good&lt;- complete.cases(specdata_sub)
    specdata_good&lt;- specdata_sub[good,]
    
    specdata_sum&lt;- c()
    specdata_len&lt;- c()
    temp_sum&lt;- numeric()
    temp_len&lt;- numeric()
    
    for(i in ID) {
        temp&lt;- subset(specdata_good, ID==i)
        temp_sum[i]&lt;- sum(temp[,2])
        temp_len[i]&lt;- nrow(temp)
        specdata_sum[i]&lt;- temp_sum[i]
        specdata_len[i]&lt;- temp_len[i]      
    }    
    
    bad_sum&lt;- is.na(specdata_sum)
    bad_len&lt;- is.na(specdata_len)
    
    sum(specdata_sum[!bad_sum])/sum(specdata_len[!bad_len])
    
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5441" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5491" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3142216">Biswajit Dutta Baruah</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5491" name="post-5491" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 6:36 pm +03:00" datetime="1398526583">10 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
    list &lt;- list.files(directory, full.names = TRUE)
    f.data &lt;- function(n) {
      for(file in n) {
        if(!exists("p.data")){
          p.data &lt;- read.csv(file, header = TRUE)
        }
        else if(exists("p.data")) {
          temp.data &lt;- read.csv(file, header = TRUE)
          p.data &lt;- rbind(p.data, temp.data)
          rm(temp.data)
        }
     }
     p.data
    }
    pollutant.data &lt;- f.data(list)
    f.subset &lt;- function(m, p, x) {
      if(length(x) &gt; 1) {
        for(i in x) {
          if(!exists("p.subset")) {
            p.subset &lt;- subset(m, select = c(p), ID == i)
          }
          else if(exists("p.subset")) {
            temp.subset &lt;- subset(m, select = c(p), ID == i)
            p.subset &lt;- rbind(p.subset, temp.subset)
            rm(temp.subset)
          }
        }
      }
      if(length(x) == 1) {
        p.subset &lt;- subset(m, select = c(p), ID == id)
      }
      p.subset
    }
    pollutant.subset &lt;- f.subset(pollutant.data, pollutant, id)
    mean(pollutant.subset[,1], na.rm = TRUE)
  }</code></pre>I used loops because the lapply functions were taught in
 the 3rd week. I guess some of the above contributors already knew about
 the functions. After going through the videos on the apply functions, I
 suppose all the loops can be cleaned out to produce succinct code!!</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5491" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5629" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4458052"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/15096-Nipun.jpg" alt="">Nipun Puri</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5629" name="post-5629" style="vertical-align:middle"><time title="Sunday, April 27th 2014, 7:35 pm +03:00" datetime="1398616531">9 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory , pollutant , id = 1:332){
    
    final &lt;- NULL
    for(i in 1:length(id)){
        
        
        temp &lt;- paste(directory , "/" , sep = "")   ##specdata/
        temp1 &lt;- sprintf("%03d" , id[i])               ##changes 1 to 001
        filename &lt;- paste(temp , temp1 , ".csv" , sep = "")      ##specdata/001.csv
        file &lt;- read.csv(filename)    ##this is the file, read this file
        
        mn &lt;- file[,pollutant]
        final &lt;- append(final , mn)     ##joins the values vector of all the files
    }   ##for loop ending
    final1 &lt;- mean(final ,na.rm = T)
    return(final1)
}    ##function ending</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5629" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><small class="course-forum-delete-indicator"><span class="icon-trash"></span>A post was deleted</small></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5765" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1457848">Babatunde Awosanya</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5765" name="post-5765" style="vertical-align:middle"><time title="Monday, April 28th 2014, 5:30 pm +03:00" datetime="1398695426">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">I
 avoided loop and read the files using the ldply function for action on 
multiple files and fread from data.table package. These ensure speed<br><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
fileNames &lt;- list.files(directory, pattern = "csv")
my.data &lt;- plyr::ldply(paste(directory,"/",fileNames[id],sep=""),data.table::fread,header=TRUE)
mean(my.data[,pollutant],na.rm=TRUE)
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">7</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5765" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"><div><div data-permalink="comment-3690" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2320881">Ilir Maci</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3690" name="comment-3690" style="vertical-align:middle"><time title="Monday, April 28th 2014, 6:24 pm +03:00" datetime="1398698683">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>You should probably add the line to import <code>plyr</code> at the top.</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3690" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3693" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6661670"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/401686_2434188698709_619679410_n.jpg" alt="">RAE WOONG PARK</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3693" name="comment-3693" style="vertical-align:middle"><time title="Monday, April 28th 2014, 6:42 pm +03:00" datetime="1398699753">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><span>Great! fastest!!</span></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3693" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3695" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6661670"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/401686_2434188698709_619679410_n.jpg" alt="">RAE WOONG PARK</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3695" name="comment-3695" style="vertical-align:middle"><time title="Monday, April 28th 2014, 6:44 pm +03:00" datetime="1398699898">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Ilir Maci, <br>It works.<br>:: implies library import<br><pre><code>plyr::ldply</code></pre></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count course-forum-votes-positive">3</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3695" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3714" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2320881">Ilir Maci</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3714" name="comment-3714" style="vertical-align:middle"><time title="Monday, April 28th 2014, 10:05 pm +03:00" datetime="1398711951">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><p>Yes, my bad. You are right.</p>
</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3714" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div><div><div data-permalink="comment-3808" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2534481">John B. Williams</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3808" name="comment-3808" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 8:12 pm +03:00" datetime="1398791533">7 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text">Nice use of plyr and data.table. Thanks for sharing!<br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23comment-3808" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5860" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5323114"><img src="pollutantmean%28%29%20-%20Share%20your%20code_files/Asheshwor_20120802_squareBw.jpg" alt="">Asheshwor Man Shrestha</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5860" name="post-5860" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 8:49 am +03:00" datetime="1398750593">8 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Mine,<br><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  fileformat &lt;- paste0(directory, "/%03d", ".csv")
  #make file name strings from supplid ids
  files &lt;- c(sprintf(fileformat, id))
  #combine records from specified files using rbind applied to the list of files
  pmrec &lt;- do.call("rbind", lapply(files, function(xfile) {
    read.csv(xfile, na.strings=c("NA"), stringsAsFactors=FALSE)
  }))
  pmean &lt;- mean(pmrec[,pollutant], na.rm=TRUE) #compute mean
  return(round(pmean, 3)) #return rounded value
}</code></pre><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5860" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5914" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5545437">Ignacio Gonzalez Castañeda</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5914" name="post-5914" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 10:07 pm +03:00" datetime="1398798437">7 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">My Code<br><br><pre><code></code></pre><div><code>pollutantmean &lt;- function(directory, pollutant, id =1:332)</code></div><code></code><div><code>{</code></div><code></code><div><code>&nbsp; ##Setting zero for csv names and path</code></div><code></code><div><code>&nbsp; csvFiles &lt;- sprintf("/%s/%03d.csv",directory,id) &nbsp;</code></div><code></code><div><code>&nbsp; ##Create the data.frame for load data</code></div><code></code><div><code>&nbsp; pollutData &lt;-data.frame()</code></div><code></code><div><code>&nbsp; ##Read Files and load data&nbsp;</code></div><code></code><div><code>&nbsp; for (i in 1:length(csvFiles))</code></div><code></code><div><code>&nbsp; &nbsp; pollutData &lt;- rbind(pollutData,read.csv(paste(getwd(),csvFiles[i],sep=""),header=TRUE,",")) &nbsp;&nbsp;</code></div><code></code><div><code>&nbsp; ##getting mean from a pollutant</code></div><code></code><div><code>&nbsp; polluMean &lt;- mean((pollutData[pollutant])[[1]], na.rm=TRUE)</code></div><code></code><div><code>&nbsp; ##round and returning mean</code></div><code></code><div><code>&nbsp; return (round(polluMean, 3))</code></div><code></code><div><code>}</code></div><code></code><br><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5914" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5918" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5894811">Mattia Spinelli</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5918" name="post-5918" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 10:20 pm +03:00" datetime="1398799250">7 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div><br></div><div><br></div><div>pollutantmean &lt;- function(directory= "specdata", pollutant, id = 1:332) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; a &lt;- directory</div><div>&nbsp; &nbsp; &nbsp; &nbsp; b &lt;-pollutant</div><div>&nbsp; &nbsp; &nbsp; &nbsp; c&lt;-id</div><div>&nbsp; &nbsp; &nbsp; &nbsp; poll_tot&lt;-0</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; #adjust filename format</div><div>&nbsp; &nbsp; &nbsp; &nbsp; length&lt;- length(c)</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; i&lt;-1</div><div>&nbsp; &nbsp; &nbsp; &nbsp; while (i&lt;=length){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(c[i]&lt;10){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; d&lt;-paste(0,0,c[i],sep="")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if(c[i]&gt;=10 &amp;&amp; c[i]&lt;100){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; d&lt;-paste(0,c[i],sep="")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }else if(c[i]&gt;=100){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; d&lt;-c[i]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #form query string</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; query&lt;-paste(a,d, sep="/")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; query1&lt;-paste(query,".csv",sep="")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ## read data</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data&lt;- read.csv(query1)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #print(data)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ## select pollutant</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pollutant&lt;-data[b]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #print(pollutant)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #store data</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; y&lt;-c(poll_tot,pollutant)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; poll_tot&lt;-y</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; i&lt;-i+1 &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; ##clear data</div><div>&nbsp; &nbsp; &nbsp; &nbsp; cdata&lt;-as.numeric(unlist(poll_tot))</div><div>&nbsp; &nbsp; &nbsp; &nbsp; logic&lt;-is.na(cdata)</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp; class(cdata)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; gdata&lt;-cdata[!logic]</div><div>&nbsp; &nbsp; &nbsp; &nbsp; #print (gdata)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; ## mean</div><div>&nbsp; &nbsp; &nbsp; &nbsp; mean&lt;- mean(gdata)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; print(mean)</div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5918" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-5925" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3684443">Charles Skelton</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5925" name="post-5925" style="vertical-align:middle"><time title="Tuesday, April 29th 2014, 11:42 pm +03:00" datetime="1398804174">7 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"><div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; v&lt;-numeric()</div><div>&nbsp; &nbsp; &nbsp; &nbsp; for(i in id){</div><div>&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
filename&lt;-paste(directory,"/",formatC(i, width = 3,flag = 
"0"),".csv",sep="")</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; data&lt;-read.csv(filename)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; v&lt;-c(v,data[,pollutant])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; &nbsp; &nbsp; mean(v,na.rm=TRUE)</div><div>}</div><div><br></div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-5925" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6505" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5233188">Parker LAU</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-6505" name="post-6505" style="vertical-align:middle"><time title="Sunday, May 4th 2014, 7:44 am +03:00" datetime="1399178676">3 days ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  ## read the files
  data1 &lt;- NULL
  data3 &lt;- NULL
  csvfile &lt;- paste(directory, "/", sprintf("%03d", as.numeric(id)), ".csv", sep = "")
  for (i in 1:length(csvfile)){
    data1 &lt;- read.csv(csvfile[i])
    data2 &lt;- is.na(data1[pollutant])
    data3 &lt;- c(data3, data1[!data2,pollutant])

  }
<br>   
  return(mean(data3))
}</code></pre><br>my version. feel free for comment.</div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-6505" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6853" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7149494">Kenneth Crocken</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-6853" name="post-6853" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 8:46 am +03:00" datetime="1399355171">15 hours ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
    allData &lt;- data.frame()
    for (i in id){
        myData &lt;- read.csv(paste(directory,sprintf("%03d.csv", i), sep ="/"), header = TRUE)
        allData &lt;- rbind(allData,myData)
    }
    x &lt;- allData[,pollutant]
    return(mean(x, na.rm = TRUE))
}<br></code></pre></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-6853" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6857" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2763088">Ritu</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&amp;utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-6857" name="post-6857" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 9:00 am +03:00" datetime="1399356014">14 hours ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><div><br></div><div><strong>pollutantmean</strong> &nbsp;&lt;-<strong> function</strong> ( directory, pollutant , id=1:332 ) {</div><div>&nbsp;&nbsp;</div><div>&nbsp; for (i in id){ <strong>##Start for loop</strong></div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; fname &lt;- sprintf("specdata/%03d.csv", i)</div><div>&nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; if(!exists("dataP")) {</div><div>&nbsp; &nbsp; &nbsp; dataP &lt;- read.csv(fname, header=TRUE)</div><div>&nbsp; &nbsp; &nbsp; #str(dataP)</div><div>&nbsp; &nbsp; }</div><div>&nbsp; &nbsp; else &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</div><div>&nbsp; &nbsp; &nbsp; temp &lt;- read.csv(fname, header=TRUE)</div><div>&nbsp; &nbsp; &nbsp; #str(temp)</div><div>&nbsp; &nbsp; &nbsp; dataP&lt;-rbind(dataP, temp)</div><div>&nbsp; &nbsp; &nbsp; rm(temp)</div><div>&nbsp; &nbsp; }</div><div>&nbsp; } <strong>##End of for loop.</strong></div><div>&nbsp;&nbsp;</div><div>&nbsp; dataP &nbsp;&lt;- &nbsp; dataP[dataP$ID %in% id,]</div><div>&nbsp; na.omit(dataP)</div><div>&nbsp;&nbsp;</div><div>&nbsp; if(pollutant != "sulfate" &amp;&amp; pollutant != "nitrate") {</div><div>&nbsp; stop("No such pollutant in data")</div><div>&nbsp; return [1]</div><div>&nbsp; }&nbsp;</div><div>&nbsp;&nbsp;</div><div>&nbsp; if( pollutant == "sulfate")</div><div>&nbsp; m &lt;- sprintf("%03.5f.", mean(dataP$sulfate, na.rm=TRUE) )</div><div>&nbsp; if( pollutant == "nitrate")</div><div>&nbsp; m &lt;- sprintf("%03.5f.", mean(dataP$nitrate, na.rm=TRUE) )<br><br></div><div>&nbsp; print (m)</div><div>&nbsp;&nbsp;</div><div>} <strong># End of function.</strong></div><div><br></div><div>pollutantmean("specdata", "sulfate") &nbsp; &nbsp; &nbsp; # function call to test.&nbsp;</div></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-6857" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div data-permalink="post-6909" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=238006">James Eibisch</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-6909" name="post-6909" style="vertical-align:middle"><time title="Tuesday, May 6th 2014, 10:19 pm +03:00" datetime="1399403974">an hour ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div style="margin-left: 0px;" dir="auto" class="course-forum-post-text"><pre><code>pollutantmean&lt;-function(directory,pollutant,id=1:332) {
	for (i in id) {
		d&lt;-read.csv(paste(directory,'\\',formatC(i,width=3,format='d',flag='0'),'.csv',sep=''))
		p&lt;-d[pollutant]
		p&lt;-p[!is.na(p)]
		v&lt;-c(v,p)
	}
	return(mean(v))
}</code></pre><br></div><div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/help/flag?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-6909" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div></div></div><div class="course-forum-comments-container"></div><div class="course-forum-new-comment-container"></div><div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div></div></div></div><div style="display: none;" class="course-forum-bottom-scroll-indicator">⬇ scroll down for more ⬇</div><div class="course-forum-thread-new-post"><div><div class="course-forum-post-container"><div class="course-forum-post-top-container"><div><div style="display: none;" data-permalink="post-undefined" class="course-forum-post-view-container"><div class="course-forum-post-header"><div class="course-forum-post-controls"></div><h5 class="course-forum-post-byline"><a></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-undefined" name="post-undefined" style="vertical-align:middle"><time title="Invalid date">a few seconds ago</time>&nbsp;<span class="icon-link"></span></a></h5></div><div dir="auto" class="course-forum-post-text"></div><div aria-haspopup="true" aria-expanded="false" class="course-forum-post-vote-controls"><div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-up"></i></div><span class="course-forum-post-vote-count"></span><span class="accessible-text-for-reader">votes received.</span><div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-down"></i></div></div><a href="https://class.coursera.org/rprog-002/forum/undefined?url=https%3A%2F%2Fclass.coursera.org%2Frprog-002%2Fforum%2Fthread%3Fthread_id%3D1173%23post-undefined" target="_blank" class="course-forum-post-controls-report">·
flag</a><div style="clear: both; height: 3px;"></div></div><div><div class="course-forum-post-edit-container-loading hide">Posting ...</div><div class="course-forum-post-edit-container"><div class="course-forum-post-header"><span class="course-forum-post-new">New post </span><span style="font-style:italic;display:none;" class="course-forum-post-viewer-wants-unresolve">(thread will be unresolved upon posting)</span></div><form class="course-forum-post-edit-form"><p class="help-block">To ensure a positive and productive discussion,
please read our <a target="_blank" href="http://help.coursera.org/customer/portal/articles/1220499-forum-code-of-conduct?ref=entryedit">forum posting policies</a> before posting.</p><input name="text_type" value="html" type="hidden"><div class="control-group"><label class="hidden">Message</label><div style="position: relative;" role="toolbar" tabindex="0" title="HTML editing toolbar" class="coursera-wysihtml5-toolbar"><div style="overflow:auto;"><div style="float:left;" class="left coursera-wysihtml5-commands"><span data-wysihtml5-order="0" class="hide"></span><button unselectable="on" href="javascript:;" data-wysihtml5-order="1" data-wysihtml5-command="bold" aria-pressed="false" style="font-weight:bold; width: 30px;" type="button" title="Make text bold" class="coursera-wysihtml5-toolbar-item">B</button><button unselectable="on" href="javascript:;" data-wysihtml5-order="2" data-wysihtml5-command="italic" aria-pressed="false" style="font-style:italic; font-family: serif; width: 30px;" type="button" title="Make text italic" class="coursera-wysihtml5-toolbar-item">I</button><button unselectable="on" href="javascript:;" data-wysihtml5-order="3" data-wysihtml5-command="insertUnOrderedList" aria-pressed="false" type="button" title="Insert bullets" style="width:30px;" class="coursera-wysihtml5-toolbar-item"><span class="icon-list-ul"></span></button><button unselectable="on" href="javascript:;" data-wysihtml5-order="4" data-wysihtml5-command="insertOrderedList" aria-pressed="false" type="button" title="Insert numbered bullets" style="width:30px;" class="coursera-wysihtml5-toolbar-item"><span class="icon-list-ol"></span></button><button data-wysihtml5-order="5" data-wysihtml5-custom-command="link" type="button" unselectable="on" title="Insert link" class="coursera-wysihtml5-toolbar-item"><span class="icon-link"></span> Link</button><button unselectable="on" href="javascript:;" data-wysihtml5-command="code" data-wysihtml5-order="6" type="button" title="Format text as code" class="coursera-wysihtml5-toolbar-item">&lt;code&gt;</button><button data-wysihtml5-custom-command="image" data-wysihtml5-order="7" type="button" unselectable="on" title="Insert image" class="coursera-wysihtml5-toolbar-item"><span class="icon-picture"></span> Pic</button><button data-wysihtml5-order="100" data-wysihtml5-custom-command="latex" title="Equation Editor" type="button" class="coursera-wysihtml5-toolbar-item coursera-wysihtml5-toolbar-latex">Math</button></div><div style="float:right;" class="right coursera-wysihtml5-command-view"><span data-wysihtml5-order="0" class="hide"></span><button data-wysihtml5-order="100" title="Editor Preview" type="button" aria-pressed="false" class="coursera-wysihtml5-toolbar-item coursera-wysihtml5-toolbar-item-right coursera-wysihtml5-toolbar-mode-preview">Preview</button><button data-wysihtml5-order="100" style="display:none;" type="button" class="coursera-wysihtml5-toolbar-item coursera-wysihtml5-toolbar-item-right coursera-wysihtml5-toolbar-mode-preview-close">Edit</button><!-- we want to ensure that two editors are allowed if we are going to show a drop down...--><!-- the below uses XOR to determine the that one is true, and then we confirm the other is true in the ternary--><!-- this shortcut was used as the quickest way to determine at least two are true.--><!-- this comment proves that saving effort in code means expanding in comments...--><button data-wysihtml5-order="100" unselectable="on" title="Editor Type" data-popup="#coursera-wysihtml5-toolbar-mode-popup-329" aria-haspopup="true" aria-expanded="false" aria-owns="coursera-wysihtml5-toolbar-mode-popup" data-popup-close="data-popup-close" data-popup-direction="se" style="padding-right:30px;" type="button" class="coursera-wysihtml5-toolbar-item coursera-wysihtml5-toolbar-item-right coursera-wysihtml5-toolbar-mode-editor on"><span>Edit: </span><span class="coursera-wysihtml5-toolbar-mode-editor-label">Rich</span><span style="position:absolute;top:5px;padding-left:10px;padding-right:10px;" class="icon-sort-down"></span></button><div data-wysihtml5-order="100" id="coursera-wysihtml5-toolbar-mode-popup-329" style="display:none;" class="coursera-wysihtml5-toolbar-mode-popup"><a aria-pressed="false" data-wysihtml5-custom-command="change-editor" type="button" title="Change editing mode to HTML" data-popup-close="data-popup-close" class="coursera-wysihtml5-toolbar-mode-popup-item coursera-wysihtml5-toolbar-mode-html">&lt;HTML&gt;</a><a aria-pressed="false" data-wysihtml5-custom-command="change-editor" type="button" title="Change editing mode to Markdown" data-popup-close="data-popup-close" class="coursera-wysihtml5-toolbar-mode-popup-item coursera-wysihtml5-toolbar-mode-markdown">`MD`</a><a aria-pressed="true" data-wysihtml5-custom-command="change-editor" type="button" title="Change editing mode to rich editor" data-popup-close="data-popup-close" class="coursera-wysihtml5-toolbar-mode-popup-item coursera-wysihtml5-toolbar-mode-rich wysihtml5-command-active">Rich</a></div></div><div style="clear:both;"></div></div><div class="coursera-wysihtml5-toolbar-modals"><div data-wysihtml5-modal-link="data-wysihtml5-modal-link" data-modal-overlay-class="coursera-wysihtml5-overlay" role="dialog" aria-label="Create a link" class="modal hide"><form><div class="modal-body"><label style="display:inline-block;margin-right:15px;"><span>URL &nbsp;&nbsp;</span><input name="url" placeholder="http://" style="width:350px;" class="coursera-wysihtml5-modal-url"></label></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;" class="btn coursera-wysihtml5-modal-link-submit">Create</button><a data-modal-close="data-modal-close" href="javascript:;">Cancel</a></div></form></div><div style="position: fixed; left: 50%; margin-left: -281px; z-index: 10000; top: 50%; margin-top: -1px;" data-wysihtml5-modal-image="data-wysihtml5-modal-image" data-modal-overlay-class="coursera-wysihtml5-overlay" role="dialog" aria-label="Create Image" tabindex="-1" class="modal hide"><form><div class="modal-body"><div class="control-group bootstrap-wysihtml5-upload-image"><div style="text-align:center;" class="uploader-controls transloadit-uploader"><div style="display: none;" class="uploader-preview"><div><img src=""></div><div style="margin-top:10px;"><span>What size would you like to embed it at? </span><input style="width:50px;margin-left: 5px; margin-right:5px;" class="uploader-input-width" type="text"><span>x</span><input style="width:50px;margin-left:5px;" class="uploader-input-height" type="text"></div></div><div class="uploader-side"><button type="button" class="btn uploader-button">Pick File</button><div class="uploader-file-input"><input name="my_file" accept="image/png,image/jpeg,image/gif,image/jpg" type="file"></div><div style="display:none;" class="progress progress-striped active uploader-progress"><div style="width:0%" class="bar"></div></div><div class="uploader-input hide"><input name="result" class="uploader-input-url" type="text"></div></div></div></div></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;" class="btn hide coursera-wysihtml5-modal-image-submit">Insert</button><a data-modal-close="data-modal-close" href="javascript:;">Cancel</a></div></form></div><div data-wysihtml5-modal-latex="data-wysihtml5-modal-latex" data-modal-overlay-class="coursera-wysihtml5-overlay" class="modal hide"><form style="margin:0px;padding:0px;"><div style="overflow:auto;"><div style="float:left;width:20%;"><label style="padding:10px;font-weight:bold;text-align:right;">LaTeX:</label></div><div style="float:right;width:80%;"><textarea name="latex" placeholder="enter a latex equation" class="coursera-wysihtml5-modal-latex-textarea"></textarea></div></div><div class="coursera-wysihtml5-latex-preview-area"><div style="float:left;width:20%;"><label style="padding:10px;font-weight:bold;text-align:right;">Preview:</label></div><div style="float:right;width:80%;"><div class="coursera-wysihtml5-latex-preview"><span class="MathJax_Preview"></span><span style="font-size: 100%;" id="MathJax-Element-1-Frame" class="MathJax_MathML"><span style="position: relative; display: inline-block; white-space: nowrap;" class="MathJax_MathContainer"><span style="display: inline-block; width: 0px;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow></mrow></math></span></span></span><script id="MathJax-Element-1" type="math/tex"></script></div></div></div><div class="modal-footer"><button type="submit" data-modal-close="data-modal-close" style="margin-right:10px;" class="btn coursera-wysihtml5-modal-link-submit">Create</button><a data-modal-close="data-modal-close" href="javascript:;">Cancel</a></div></form></div></div></div><textarea class="coursera-wysihtml5-rich-editor" name="post_text" style="width: 100%; min-height: 100px; height: 100px; overflow-y: hidden; display: none;" dir="auto"></textarea><input value="1" name="_wysihtml5_mode" type="hidden"><iframe style="display: inline-block; background-color: rgb(255, 255, 255); border-collapse: separate; border-color: rgb(204, 204, 204); border-style: solid; border-width: 1px; clear: none; float: none; margin: 0px; outline: 0px none rgb(0, 0, 0); outline-offset: 0px; padding: 4px 6px; position: static; top: auto; left: auto; right: auto; bottom: auto; z-index: auto; vertical-align: middle; text-align: start; box-sizing: border-box; box-shadow: 0px 1px 1px 0px rgba(0, 0, 0, 0.075) inset; border-radius: 4px; width: 100%; min-width: 0px; min-height: 100px; max-width: none; max-height: none; height: 102px;" marginheight="0" marginwidth="0" allowtransparency="true" security="restricted" class="wysihtml5-sandbox" frameborder="0" height="0" width="0"></iframe><div class="coursera-wysihtml5-footer"><div class="coursera-wysihtml5-footer-rich"><div style="float:left;"></div><div style="float:right;"></div></div></div></div><div style="display:none;" class="controls course-forum-post-viewer-wants-resolve"><label class="checkbox"><input name="_viewer_wants_resolve" value="1" type="checkbox">Resolve thread</label><div class="alert">This
 thread is marked as unresolved. If the problem is fixed, please check 
the above box and make a post to let staff know that they no longer need
 to monitor this thread. </div></div><div style="display:none;" class="controls course-forum-post-viewer-cant-unresolve"><div class="alert">This
 thread is marked as resolved. Staff are no longer monitoring this 
thread. If the problem is not fixed, please start a new thread <a href="https://class.coursera.org/rprog-002/help/report">here</a> to let staff know that there is still a problem.</div></div><div class="controls"><label class="checkbox"><input name="anonymous" value="1" type="checkbox">Make this post anonymous to other students</label></div><div class="controls"><label class="checkbox"><input name="subscribe" value="1" checked="checked" type="checkbox">Subscribe to this thread at the same time</label></div><div class="control-group"><button type="submit" class="btn course-forum-post-edit-save">Add post</button><span>&nbsp; &nbsp;</span><a href="javascript:void(0)" role="Button" class="course-forum-post-edit-cancel">Cancel</a></div></form></div></div></div></div></div></div></div></div><div style="display:none; position: fixed; bottom: 10px; right: 40px; width: 240px;" class="alert alert-info course-forum-hangouts-popup"><button type="button" data-action="hide" class="close">×</button>This looks like a great topic! Maybe you'd like to...<a style="margin-bottom:6px;" data-action="start" class="btn btn-info">Start a Google+ Hangout on this topic</a><p style="margin-bottom:10px; display:none;">Go to <a href="https://class.coursera.org/behavioralecon-001/wiki/view?page=ScheduleGoogleHangouts&amp;from_popout" target="_blank">the scheduler page</a> to learn how, and post the URL to this thread after to let people know.</p><a data-action="join" class="btn btn-info">Join a Google+ Hangout on this topic</a><p style="margin-bottom:15px; display:none;">Hm, it looks like there's none yet on this topic, but you can <a href="https://class.coursera.org/behavioralecon-001/wiki/view?page=ScheduleGoogleHangouts&amp;from_popout" target="_blank">go here</a> to check out all the upcoming hangouts or schedule your own.</p><a href="javascript:void(0)" data-action="nothanks">No, thanks, I'm not interested in hangouts.</a></div></div>
</div></div></div></div></div><div class="coursera-footer"></div></div></div></div><!--[if gte IE 8]><script>document.getElementById("coursera-loading-js").style.display = 'block';</script><![endif]-->
<!--[if lte IE 7]><script>document.getElementById("coursera-loading-nojs").style.display = 'block';
window._204 = window._204 || [];
window._gaq = window._gaq || [];

window._gaq.push(
    ['_setAccount', 'UA-28377374-1'],
    ['_setDomainName', window.location.hostname],
    ['_setAllowLinker', true],
    ['_trackPageview', window.location.pathname]);
    
window._204.push(
  ['client', 'home'],
  {key:"pageview", value:window.location.pathname});
  </script><script src="https://eventing.coursera.org/204.min.js"></script><script src="https://ssl.google-analytics.com/ga.js"></script><![endif]-->
<!--[if !IE]> --><script>document.getElementById("coursera-loading-js").style.display = 'block';</script><!-- <![endif]-->
<script src="pollutantmean%28%29%20-%20Share%20your%20code_files/require.js"></script><script data-baseurl="https://d2wvvaown1ul17.cloudfront.net/site-static/e4a93c1141ee39688852f85f3b02554256c3894a/" data-version="e4a93c1141ee39688852f85f3b02554256c3894a" data-timestamp="1399404654037" data-debug="0" data-locale="en_US" id="_require">if(document.getElementById("coursera-loading-js").style.display == 'block') {
  (function(el) {
     require.config({
       //enforceDefine: true,
       waitSeconds: 75,
       baseUrl: el.getAttribute("data-baseurl"),
       urlArgs: el.getAttribute("data-debug") == "1" ? "v=" + el.getAttribute("data-timestamp") : "",
       shim: {
          'underscore': {
             exports: '_'
          },
          'backbone': {
             deps: ['underscore', 'jquery'],
             exports: 'Backbone',
             init: function(_, $) {
               Backbone.$ = $;
               return Backbone;
             }
          },
          'pages/hg/thirdparty/js/backbone.marionette': {
            deps: ["backbone"]
          },
          'pages/hg/thirdparty/js/webshims/polyfiller': {
            deps: ["jquery"]
          },
          'pages/hg/thirdparty/js/webshims/extras/mousepress': {
            deps: ["jquery", "pages/hg/thirdparty/js/webshims/polyfiller"]
          },
          'pages/hg/thirdparty/js/jquery.throttle': {
            deps: ["jquery"]
          },
          'js/lib/jquery.linkify': {
            deps: ["jquery"]
          },
          'pages/hg/thirdparty/js/js/bootstrap/alert': {
            deps: ["jquery", "pages/hg/thirdparty/js/bootstrap/transition"]
          },
          'spark/core/js/jquery_ui': {
            deps: ["jquery"]
          },
          'spark/core/js/jquery.history': {
            deps: ["jquery"]
          },
          'js/lib/bootstrap.tooltip': {
            deps: ["jquery"]
          },
          'pages/hg/thirdparty/js/bootstrap/transition': {
            deps: ["jquery"]
          },
          'pages/hg/thirdparty/js/bootstrap/tab': {
            deps: ["jquery"]
          },
          'bundles/videojs/lib/video.4.3.0': {
            exports: 'vjs'
          }
       },
       paths: {
          "jquery":                         "pages/spark/jquery",
          "underscore":                     "js/core/underscore.1.5.2",
          "backbone":                       "js/core/backbone.1.1.0",
          "backbone.relational":            "js/lib/backbone.relational.0.8.6",
          "i18n":                           "js/core/i18n._t",
          "pages/spark/models/user.json":   "empty:",
          "pages/spark/models/course.json": "empty:",
          "pages/spark/models/navbar.json": "empty:"
       },
       callback: function() {
                    require(["pages/spark/routes"]);
                },
       config: {
         i18n: {
           locale: (window.localStorage ? localStorage.getItem('locale') : '') || el.getAttribute('data-locale')
         }
       }
     });
  })(document.getElementById("_require"));
}
</script><script>define("pages/spark/models/user.json", [], function(){
      return JSON.parse("{\"id\":143432,\"email_address\":\"aa989190f363e46d@googlemail.com\",\"full_name\":\"Alex Rempel\",\"locale\":\"en_US\",\"timezone\":\"Europe\\\/Minsk\",\"access_group_id\":\"4\",\"registration_time\":\"1397244974\",\"last_access_time\":\"1399406740\",\"last_access_ip\":\"178.126.74.60\",\"signature_track_register_time\":\"0\",\"email_announcement\":\"1\",\"email_forum\":\"1\",\"in_signature_track\":\"0\",\"wishes_proctored_exam\":null,\"first_name\":\"Alex\",\"permissions\":[\"default\",\"allow_site_access\"],\"group\":\"Student\",\"anonymous\":false,\"forum_title\":\"Student\",\"signature_track_state\":1,\"verified_quizzes\":[],\"submitted_quizzes\":[\"97\",\"99\",\"101\",\"103\"],\"scheduled_proctored_exam\":null,\"last_chance_modal\":1}");
  });
define("pages/spark/models/course.json", [], function(){
      return JSON.parse("{\"id\":972078,\"isPrivate\":false,\"type\":\"public\",\"name\":\"R Programming\",\"instructor\":\"Roger D. Peng, PhD, Brian Caffo, PhD, Jeff Leek, PhD\",\"sessionName\":\"rprog-002\",\"externalBaseURL\":\"https:\\\/\\\/www.coursera.org\\\/\",\"shortname\":\"rprog\",\"host\":\"https:\\\/\\\/www.coursera.org\\\/\",\"assetUnversionedLink\":\"https:\\\/\\\/dt5zaw6a98blc.cloudfront.net\\\/site-static\\\/\",\"cheggID\":\"\",\"hasLTI\":true,\"badgevilleDomain\":\"\",\"linkable\":false,\"universityShortname\":\"jhu\",\"signatureTrackStatus\":{\"signature_track_enabled\":1},\"courseURLs\":{\"log_in_link\":\"https:\\\/\\\/accounts.coursera.org\\\/signin?post_redirect=https%3A%2F%2Faccounts.coursera.org%2Fsignin%3Fuser_action%3Dclass%26course_id%3D972078%26post_redirect%3Dhttps%253A%252F%252Fclass.coursera.org%252Frprog-002%252Fauth%252Fauth_redirector%253Ftype%253Dlogin%2526subtype%253Dnormal%2526visiting%253D\",\"sign_up_link\":\"https:\\\/\\\/accounts.coursera.org\\\/signup?enroll_cid=972078&enroll_sn=rprog&enroll_n=R Programming\",\"view_course_info_link\":\"https:\\\/\\\/www.coursera.org\\\/course\\\/rprog\",\"sign_up_link_cant_enroll\":\"https:\\\/\\\/accounts.coursera.org\\\/signup?post_redirect=https%3A%2F%2Fwww.coursera.org%2Fcourse%2Frprog\"},\"courseBase\":\"https:\\\/\\\/class.coursera.org\\\/rprog-002\\\/\",\"search\":true,\"hideWiki\":true,\"hideMeetup\":false,\"aceStartRegistrationDate\":\"Thu  1 Jan 1970  3:00 AM MSK\",\"aceEndRegistrationDate\":\"Thu  1 Jan 1970  3:00 AM MSK\",\"aceExamStartDate\":\"Thu  1 Jan 1970  3:00 AM MSK\",\"aceExamEndDate\":\"Thu  1 Jan 1970  3:00 AM MSK\",\"aceExamRules\":\"\",\"aceExamDuration\":\"\",\"aceBeforeExam\":false,\"aceAfterExam\":true,\"aceHours\":null,\"aceCreditType\":\"\",\"acePrice\":null,\"aceExamID\":null,\"aceEligible\":false,\"canRegisterForACE\":false,\"specialization\":{\"numCourse\":9,\"image\":\"https:\\\/\\\/s3.amazonaws.com\\\/coursera\\\/specializations\\\/jhudatascience\\\/logo_small.png\",\"id\":1,\"short_name\":\"jhudatascience\",\"name\":\"Data Science\"},\"supportForums\":true,\"textbooks\":\"\",\"inVideoQuizV2\":false,\"in_flexjoin\":null,\"honorCodeExtraText\":\"\",\"honorCodeCustomTitle\":null,\"honorCodeCustomButton\":null}");
  });
define("pages/spark/models/navbar.json", [], function(){
      return JSON.parse("{\"items\":[{\"name\":\"\",\"icon\":\"\",\"link_type\":\"circuit\",\"link_data\":\"\"},{\"name\":\"Course\",\"icon\":\"\",\"link_type\":\"heading\",\"link_data\":\"\"},{\"name\":\"Announcements\",\"icon\":\"home\",\"link_type\":\"circuit\",\"link_data\":\"class:index\"},{\"name\":\"Video Lectures\",\"icon\":\"lecture\",\"link_type\":\"circuit\",\"link_data\":\"lecture:index\"},{\"name\":\"Discussion Forums\",\"icon\":\"forum\",\"link_type\":\"circuit\",\"link_data\":\"forum:index\"},{\"name\":\"\",\"icon\":\"\",\"link_type\":\"circuit\",\"link_data\":\"\"},{\"name\":\"Exercises\",\"icon\":\"\",\"link_type\":\"heading\",\"link_data\":\"\"},{\"name\":\"Quizzes\",\"icon\":\"quiz\",\"link_type\":\"circuit\",\"link_data\":\"quiz:index\"},{\"name\":\"Peer Assessments\",\"icon\":\"assignment\",\"link_type\":\"circuit\",\"link_data\":\"human_grading:index\"},{\"name\":\"Programming Assignments\",\"icon\":\"assignment\",\"link_type\":\"circuit\",\"link_data\":\"assignment:index\"},{\"name\":\"\",\"icon\":\"\",\"link_type\":\"circuit\",\"link_data\":\"\"},{\"name\":\"About the course\",\"icon\":\"\",\"link_type\":\"heading\",\"link_data\":\"\"},{\"name\":\"Syllabus\",\"icon\":\"wiki\",\"link_type\":\"wiki\",\"link_data\":\"syllabus\"},{\"name\":\"About the Instructor\",\"icon\":\"\",\"link_type\":\"wiki\",\"link_data\":\"About_the_Instructor\"},{\"name\":\"Community\",\"icon\":\"\",\"link_type\":\"heading\",\"link_data\":\"\"}]}");
  });
</script><div class="hide confirm-navigation modal"><div class="modal-header"><h3>Confirm Navigation</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>Are you sure you want to leave this page?</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn confirm-navigation-stay">Stay on this Page</button><button data-modal-close="data-modal-close" class="btn btn-danger confirm-navigation-leave">Leave this Page</button></div></div><div style="display: none;" class="coursera-async-message"></div></body></html>