<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4883" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4635350"><img src="https://coursera-profile-photos.s3.amazonaws.com/b3/fce64849e0038fd5d5cf371290ce19/MtCook.jpg" alt="">Marina</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4883" name="post-4883" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:19 pm +03:00" datetime="1398259153">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">Now when hard deadline is over, feel free to post and discuss your code. <br>Reading others code is part of learning experience. <br><br></div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-active"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">5</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4883" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4889" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4635350"><img src="https://coursera-profile-photos.s3.amazonaws.com/b3/fce64849e0038fd5d5cf371290ce19/MtCook.jpg" alt="">Marina</a><span class="course-forum-profile-badge">Community TA</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4889" name="post-4889" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:25 pm +03:00" datetime="1398259543">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            Just to get it started, mine is here, form early days:<br><br>
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>    dir &lt;- paste0(getwd(), "/", directory)<br>    files &lt;- list.files(dir)<br>    data &lt;- numeric()<br>    for(i in id) {<br>    currentMonitor &lt;- read.csv(paste0(dir,"/",files[as.numeric(i)]))<br>    if (pollutant == "nitrate") K&lt;-3 else K&lt;-2<br>    data &lt;- append(data,na.omit(currentMonitor[,K]))<br>    }<br>    return(mean(data,na.rm=TRUE))<br>}</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">10</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4889" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container">
      <div>
        <div data-permalink="comment-3245" class="course-forum-post-view-container course-forum-permalink">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3705213">Navtej Singh Khandpur</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3245" name="comment-3245" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 3:58 am +03:00" datetime="1398301101">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">No validation of the parameters passed to the function, poor indentation of the for loop, no inline comments. Tsk tsk. Bad code hygiene!</div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-negative">-14</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-active"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3245" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
      <div>
        <div data-permalink="comment-3258" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5795600"><img src="https://coursera-profile-photos.s3.amazonaws.com/5e/d05bc0c48311e3aaed8f67c0749273/IMG_20140304_162938_2.jpg" alt="">Arun Balan</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3258" name="comment-3258" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:15 am +03:00" datetime="1398309336">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">Very nice of you to post this, Marina! :-) </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3258" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
      <div>
        <div data-permalink="comment-3422" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6661670"><img src="https://coursera-profile-photos.s3.amazonaws.com/f1/6cd240a55911e3ab3d5391e8f6bb33/401686_2434188698709_619679410_n.jpg" alt="">RAE WOONG PARK</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3422" name="comment-3422" style="vertical-align:middle"><time title="Friday, April 25th 2014, 7:39 pm +03:00" datetime="1398443971">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            Very nice code!<br>I modified your code slightly for my practice.<br>And, as 'data' is a global vector having numeric data, 'vdata' was used instead.<br>
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        files &lt;- list.files(directory, full.names=T)         
        vdata &lt;- NULL
        for(i in id) {
                currentMonitor &lt;- read.csv(files[i])
                vdata &lt;- append(vdata,na.omit(currentMonitor[,pollutant]))               
        }
        return(round(mean(vdata),3))        
}
</code></pre>
            <div>I found use of 'append' instead of 'rbind' made your code very fast!!</div>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3422" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4890" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1299214"><img src="https://coursera-profile-photos.s3.amazonaws.com/22/3e4a76ba1d5a8445d622614b678b12/JonPicture.jpg" alt="">Jonathan Fivelsdal</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4890" name="post-4890" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:27 pm +03:00" datetime="1398259629">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
          <code>
            <div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</div>
            <div><br></div>
            <div>  require(stringr)</div>
            <div>  </div>
            <div>  #paddedIdList is a list of padded id values used to create</div>
            <div>  #the correct file names </div>
            <div>  #for each monitor data file</div>
            <div>  </div>
            <div>  paddedIdList &lt;- lapply(1: length(id),function(index) { str_pad(id[index], width=3, side="left", pad="0")})</div>
            <div>    </div>
            <div>  paddedIdVec &lt;- unlist(paddedIdList) #stores a vector of padded ids</div>
            <div>  </div>
            <div>  #A list of names for each monitor data file<br><br></div>
            <div>  fileNameList &lt;- lapply(1:length(paddedIdList),function(index) { paste0(getwd(),"/",directory,"/",paddedIdVec[index],".csv") })</div>
            <div>  </div>
            <div>  fileNameVec &lt;- unlist(fileNameList)</div>
            <div>  </div>
            <div>  #polluntantFrameList creates a </div>
            <div>  #list of data frames that store </div>
            <div>  #sulfate and nitrate measurements </div>
            <div>  #for each monitor</div>
            <div>  </div>
            <div>  pollutantFrameList &lt;- lapply(1:length(fileNameList),  function(index) { read.csv(fileNameVec[index])})</div>
            <div>  </div>
            <div><br></div>
            <div>  if(pollutant == "sulfate")</div>
            <div>  {</div>
            <div>    sulfateDataList &lt;- lapply(1:length(pollutantFrameList),function(index){ pollutantFrameList[[index]]["sulfate"]})</div>
            <div>    </div>
            <div>    sulfateVec &lt;- unlist(sulfateDataList)</div>
            <div>    </div>
            <div>    sulfateMean &lt;- mean(sulfateVec,na.rm = TRUE)</div>
            <div><br></div>
            <div>    return(sulfateMean)</div>
            <div>  }</div>
            <div>  </div>
            <div>  if(pollutant == "nitrate")</div>
            <div>  {</div>
            <div>    nitrateDataList &lt;- lapply(1:length(pollutantFrameList),function(index){ pollutantFrameList[[index]]["nitrate"]})</div>
            <div>  </div>
            <div>    nitrateVec &lt;- unlist(nitrateDataList)</div>
            <div>  </div>
            <div>    nitrateMean &lt;- mean(nitrateVec,na.rm = TRUE)</div>
            <div>  </div>
            <div>    return(nitrateMean)</div>
            <div>  }</div>
            <div>  </div>
            <div>  </div>
            <div>}</div>
            </code>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4890" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4894" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5702772">Ron Stieger</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4894" name="post-4894" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 4:42 pm +03:00" datetime="1398260531">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <p>This is my refactored code after I learned about list.files() when trying to do corr(). My original code used for (i  in id) and paste() to build up the file name.</p>
            <pre><code> x &lt;- data.frame()
for (fname in list.files(path = directory, full.names = TRUE)[id])
{
    x &lt;- rbind(x, read.csv(fname))
}
mean(x[,pollutant],na.rm=TRUE)</code></pre>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">12</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-active"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4894" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container">
      <div>
        <div data-permalink="comment-3226" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4555390">Lori Kandyba</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3226" name="comment-3226" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:46 am +03:00" datetime="1398289617">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">I am in awe of the elegance of your code!<br></div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3226" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
      <div>
        <div data-permalink="comment-3390" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6661670">RAE WOONG PARK</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3390" name="comment-3390" style="vertical-align:middle"><time title="Friday, April 25th 2014, 11:29 am +03:00" datetime="1398414552">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            Very nice code!!<br>I adopted your list.file code and made it more fast.<br><br>
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        vLen &lt;- 0
        vSum &lt;- 0
        fileNames &lt;- list.files(path =directory, full.names = TRUE)[id]
        for (fileName in fileNames)  {                
                dataFile &lt;- read.csv(fileName)
                x &lt;- dataFile[pollutant][which(!is.na(dataFile[pollutant])),]
                vLen &lt;- vLen + length(x)
                vSum &lt;- vSum + sum(x)
        }
        return(sprintf("%05.3f", vSum/vLen))
}
</code></pre>
            <div><br></div>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3390" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4899" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4555390">Lori Kandyba</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4899" name="post-4899" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:07 pm +03:00" datetime="1398262073">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br>path &lt;- paste(getwd(), directory, sep="/")<br>files &lt;- list.files(path, pattern = ".csv", full.names = TRUE)<br>index &lt;- files[c(id)]<br><br>df &lt;- NULL<br><br>for (i in 1:length(index)) {<br>   data &lt;- read.csv(index[i])<br>   df &lt;- rbind.data.frame(df,data)<br>}<br><br>if (pollutant == "nitrate") {<br>    print(mean(df$nitrate, na.rm=TRUE)) <br>}<br><br>if (pollutant == "sulfate") {<br>    mean(df$sulfate, na.rm=TRUE)<br>}<br>}<br><br></code></pre>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4899" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4911" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7141077"><img src="https://coursera-profile-photos.s3.amazonaws.com/77/6d2130bfc511e3890231829bcb8483/Thatya-Ariyaratne_JOW-130808-6025-like-ok.jpg" alt="">Thathya Ariyaratne</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4911" name="post-4911" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 5:43 pm +03:00" datetime="1398264235">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id=1:332) {<br>  dir &lt;- c(paste(("C:/Users/tariyaratne/Documents/R/"), directory , sep=""))<br>  setwd(dir)<br>  x &lt;- list.files(pattern=".csv")<br>  y &lt;- lapply(x[id], read.table, header = TRUE, sep=",")<br>  z &lt;- do.call(rbind, y)<br>  meanpollut &lt;- mean(z[ ,paste(pollutant)], na.rm= TRUE) # important not to use complete.cases which will remove observations for the other pollutatnt<br>  return(meanpollut)<br>}<br><br><br></code></pre>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-active"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4911" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4922" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6891093">Real Numbers</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4922" name="post-4922" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:04 pm +03:00" datetime="1398265441">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
 
  mydir &lt;- paste("./",directory,"/",sep="")
  
  makeFileNames &lt;- function(id){
    idvec2char &lt;- substring(paste("00",id,sep=""),-3)
    filename &lt;- paste(mydir,substr(idvec2char,nchar(idvec2char)-2,nchar(idvec2char)),".csv",sep="")
    return(filename)
  }
  
  filenames &lt;- makeFileNames(id)
  ## I found do.call here:  http://www.stat.berkeley.edu/~s133/Docall.html
  mydataframe&lt;- do.call("rbind", lapply(filenames, read.csv, header = TRUE))
  
  ## I found which() here:  
  ## http://stackoverflow.com/questions/4427234/get-column-index-from-label-in-a-data-frame
  mycol &lt;- which(colnames(mydataframe)==pollutant)
  myvar &lt;- mydataframe[,mycol]
  myNonMissingData &lt;- myvar[!is.na(myvar)]
  
  myMean &lt;- mean(myNonMissingData)
  return(myMean)
}<br></code></pre>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4922" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4927" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2186054"><img src="https://coursera-profile-photos.s3.amazonaws.com/6e/20ca0543928e21724a93591de5e803/Head-Shot.jpg" alt="">Michael Shipman</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4927" name="post-4927" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:11 pm +03:00" datetime="1398265914">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            I know this looks a bit "VBA"ish, but that's what I use at work with MSOffice.  Also, I annotate a lot out of habit to help guide me when I look back at this later.<br>
            <pre>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>                <br>        #Gets and stores the filenames in the specified directory.<br>        FileNames &lt;- list.files(path=directory)<br>        <br>        # Creates the empty data frame with column label headers for mearging specified data file tables.<br>        PolData &lt;- data.frame(Date=as.Date(character()), sulfate=numeric(), nitrate=numeric(), ID=integer())<br>        <br>        # Mearges the specified data tables in the for loop.<br>        for(i in id){ <br>                PolData &lt;- rbind(PolData, read.csv(file=paste(directory, "/", FileNames[i], sep=""),header=TRUE))<br>        }<br>        #Returns the mean of the specified pollutant and removes any NA from the calculations.<br>        mean(x = PolData[,pollutant], na.rm = TRUE)<br>}</pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4927" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4931" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1327050"><img src="https://coursera-profile-photos.s3.amazonaws.com/3f/ef411c9d7af4905e60a9cdb8696921/Firefox_wallpaper.png" alt="">Gregory D. Horne</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4931" name="post-4931" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:22 pm +03:00" datetime="1398266566">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br> observations = c()<br><br>  for (monitor in id) {<br>    dataset &lt;- read.csv(paste("./", directory, "/", sprintf("%03d", monitor), ".csv", sep=""), TRUE)<br>    observations &lt;- append(observations, dataset[,pollutant])<br>  }<br>  <br>  mean(observations, na.rm=TRUE)<br><span>}</span></code></pre>
            <br><span></span>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4931" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4935" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5062559">Joshua Joel Stephens</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4935" name="post-4935" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:39 pm +03:00" datetime="1398267585">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        
        ## File Paths to the Data
        filenames &lt;- paste("C:/Users/JSTEPHEN/Documents/Coursera/02 R Programming/rprog-data-specdata/" , 
                           directory , 
                           "/" , 
                           formatC( id , width = 3, flag = "0" ) , 
                           ".csv" , 
                           sep = "")
        
        ## Combine data
        full_data &lt;- do.call("rbind", lapply(filenames, 
                                      FUN=function(files){read.table(files, header = TRUE, sep = ",")}))
        
        ## Summarize the data
        bad &lt;- is.na(full_data[ , pollutant])
        sum_data &lt;- full_data[ , pollutant][!bad]
        
        ## Average
        mean(sum_data)
}</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4935" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4936" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2444648">Ajay Bhargava</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4936" name="post-4936" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 6:40 pm +03:00" datetime="1398267642">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332){
  search &lt;- list.files(directory, pattern="*.csv",full.names=TRUE)
  relevant &lt;- search[id]
  #print(relevant)
  data &lt;- data.frame()
  for (i in 1:length(relevant)){
    #do.call performs rbind upon the lapply fuction consisting of relevant
                # (which is full path for CSV file)
    #and puts it into the read.csv file. 
    all.data &lt;- do.call(rbind, lapply(relevant,read.csv))
  }
  good.data &lt;- data.frame(all.data[complete.cases(all.data),])
  #print(good.data[1:10,])
  answer &lt;- mean(good.data[,pollutant],na.rm=TRUE)
  print(answer)
}</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4936" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4950" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5795600"><img src="https://coursera-profile-photos.s3.amazonaws.com/5e/d05bc0c48311e3aaed8f67c0749273/IMG_20140304_162938_2.jpg" alt="">Arun Balan</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4950" name="post-4950" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 8:29 pm +03:00" datetime="1398274149">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <div></div>
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  filePaths &lt;- file.path(directory, paste(sprintf("%03d", id), ".csv", sep=""))
  obs &lt;- numeric()
  for (filePath in filePaths){
    tmpData &lt;- read.csv(filePath)
    tmpData &lt;- subset(tmpData[[pollutant]], !is.na(tmpData[[pollutant]]))
    obs &lt;- c(obs, as.vector(tmpData))
  }
  mean(obs)
}
</code></pre>
            <div><br></div>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4950" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4957" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7078253"><img src="https://coursera-profile-photos.s3.amazonaws.com/6d/743070c7c611e3a48a4d624e45e556/bodensee2013-5.jpg" alt="">Mario Hofer</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4957" name="post-4957" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 8:53 pm +03:00" datetime="1398275595">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  files &lt;- paste(directory,"/",formatC(id,width=3,flag="0"),".csv",sep="")
  data &lt;- ldply(files, function(fn) read.csv(fn))
  mean(data[,pollutant],na.rm=TRUE)
}</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-active"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">10</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4957" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container">
      <div>
        <div data-permalink="comment-3227" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4232444">Randy S. Blair</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3227" name="comment-3227" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:51 am +03:00" datetime="1398289875">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">Three lines? Nice. So jealous...</div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3227" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
      <div>
        <div data-permalink="comment-3257" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7160188">Jules Kahn</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3257" name="comment-3257" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:12 am +03:00" datetime="1398309176">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">Quality!</div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3257" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
      <div>
        <div data-permalink="comment-3472" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7236986">Jessica</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3472" name="comment-3472" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 5:34 am +03:00" datetime="1398479693">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">Yeah, that's real nice work!</div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3472" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4961" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2093532">Henry George Bottomley</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4961" name="post-4961" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 9:13 pm +03:00" datetime="1398276789">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>    pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        csvfile &lt;- function(id){ 
            paste(ifelse(nchar(id) == 1, "00", ifelse(nchar(id) == 2, "0", "")), id, ".csv", sep="")  
           }
        values &lt;- numeric()  
        for (i in id){  
            datafile &lt;- read.csv( paste(directory,"/", csvfile(i), sep=""))
            values &lt;- c(values,datafile[,pollutant])                            
           }              
        mean(values, na.rm=TRUE)    
      }  </code></pre>
            <p>Looking at other people's versions, my use of <code>ifelse</code> (slightly different to <code>if</code>, <code>else</code> and <code>elseif</code>) looks unique so far</p>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4961" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4975" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls">
              <a title="Controls" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="course-forum-post-controls-4975" data-popup="#course-forum-post-controls-4975" data-popup-direction="se" class="course-forum-post-controls-toggle"><i class="icon-cog"><span class="hidden">Controls</span></i></a>
              <div id="course-forum-post-controls-4975" class="course-forum-post-controls-popup hide">
                <!-- If you have editing rights, you can edit or delete--><a href="javascript:void(0)" class="course-forum-post-edit-link">Edit</a><a href="javascript:void(0)" data-property="deleted" data-value="1" class="course-forum-post-action-link">Delete</a><!-- Only forum moderators -->
              </div>
            </div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=143432"><img src="https://coursera-profile-photos.s3.amazonaws.com/89/2f675d5c5db0b0c82ba8500326cbe1/Stained_glass_Tower_of_Ivory.jpg" alt="">Alex Rempel</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4975" name="post-4975" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:20 pm +03:00" datetime="1398280822">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code># PART 1
pollutantmean &lt;- function(directory, pollutant, id = 1:332) {

 file.summs &lt;- apply(sapply(X = paste('specdata'
                                      ,sprintf('%03i.csv',id)
                                      ,sep='/')
                           ,FUN = function(x) {tbl &lt;- na.omit(read.table(x                                                                                               ,header=T
                                                                ,sep=','
                                                                ,na.strings='NA'
                                                                ,stringsAsFactors=FALSE)[[pollutant]])
                                               c(length(tbl),sum(tbl))})
                    ,1
                    ,sum)

 file.summs[2]/file.summs[1]
}</code></pre>
          </div>
          <div aria-haspopup="true" aria-expanded="false" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive course-forum-post-vote-disabled"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4975" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4978" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6276077">Stephen A. Wright</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4978" name="post-4978" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:28 pm +03:00" datetime="1398281335">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            My terrible first solution, why I used append I still don't remember.<br>
            <pre>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br>        df &lt;- data.frame()<br><br>        for (i in id){<br>                file &lt;- paste(".//",directory, "/", sprintf("%03d", as.numeric(i)), ".csv", sep = "")<br>                temp &lt;- read.csv(file, header = TRUE)<br>                df &lt;- append(df, temp[pollutant])<br>        }<br>        df &lt;- unlist(df)<br>        mean(df, na.rm = TRUE)<br><br>}</pre>
            And my redo after I learned about list.files()<br><br>
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br>        df &lt;- data.frame()<br><br>        names &lt;- list.files(directory, pattern = "*.csv", full.names = TRUE)<br>        for(i in id){<br>                df &lt;- rbind(df, read.csv(names[i], header = TRUE))                <br>        } <br>        df &lt;- df[,pollutant]<br>        mean(df, na.rm = TRUE)<br><br>}</code></pre>
            <br><br><br><br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">2</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4978" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-4982" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4326104"><img src="https://coursera-profile-photos.s3.amazonaws.com/63/8fac0e2b89351d1b639eb30a0f7954/me.jpg" alt="">Sean Mantey</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4982" name="post-4982" style="vertical-align:middle"><time title="Wednesday, April 23rd 2014, 10:36 pm +03:00" datetime="1398281806">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
          <code>
            <p>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</p>
            <p><span style="color:rgb(51,51,51);">  </span><span style="color:rgb(51,51,51);">for (file_id in id) {</span><br></p>
            <p>    filename&lt;-paste(directory,"/",formatC(file_id, width=3, flag="0"),".CSV",sep="")</p>
            <p>    if(!exists("outData")) {</p>
            <p>      outData &lt;- read.csv(filename)</p>
            <p>    }</p>
            <p>    else {</p>
            <p>      tempData &lt;-read.csv(filename)</p>
            <p>      outData &lt;- rbind(outData,tempData)</p>
            <p>    }</p>
            <p>  } </p>
            <p>  mean(outData[[pollutant]],na.rm=TRUE)</p>
            <p>}</p>
            </code>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-4982" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container">
      <div><small class="course-forum-delete-indicator"><span class="icon-trash"></span>A post was deleted</small></div>
    </div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5012" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=582830">Anselm Kotchap</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5012" name="post-5012" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:33 am +03:00" datetime="1398288787">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  
  data &lt;- data.frame()
  
  for(i in seq_along(id)){
  #adding leading zeros on the file name  
  if(id[i] &lt; 10 ){
    fileName &lt;- paste("00",id[i],".csv",sep = "")
  
  }else if(id[i] &lt; 100){
    fileName &lt;- paste("0",id[i],".csv",sep = "")
    
  }else{
    fileName &lt;- paste(id[i],".csv",sep = "")
  }
  #creating the directory path given the correct file name
  fileDir &lt;- paste(directory,"/",fileName,sep = "")
  
  #reading the file and appending
  filedf &lt;- read.csv(fileDir)
  data &lt;- rbind(data,read.csv(fileDir))
  }
  #caltute the corresponding mean
  mean(data[,pollutant],na.rm = TRUE)
  
}</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5012" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5036" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3156"><img src="https://coursera-profile-photos.s3.amazonaws.com/9d/be8fdf97ee15b06856e6bcadba08c5/head.jpg" alt="">Jan Zegan</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5036" name="post-5036" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 1:51 am +03:00" datetime="1398293462">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  require(data.table)
  
  .dt &lt;- rbindlist(
    lapply(
      list.files(directory)[id], 
      function(file) 
        fread(file.path(directory, file))
      )
    )
  mean(.dt[[pollutant]], na.rm=T)
}</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5036" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5045" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6660831">Jonathan Gabriel</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5045" name="post-5045" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:14 am +03:00" datetime="1398294851">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
          <code>
            <div>corr &lt;- function(directory, threshold = 0) {</div>
            <div>  id &lt;- list.files(directory)</div>
            <div>  cv &lt;- c() </div>
            <div>  for (i in id) {</div>
            <div>    data &lt;- read.csv(paste(directory, '/', i, sep=""))</div>
            <div>    comp &lt;- complete.cases(data)</div>
            <div>    sub &lt;- subset(data,comp)</div>
            <div>    if (nrow(sub) &gt; threshold) {</div>
            <div>      cv &lt;- c(cv, cor(sub$sulfate, sub$nitrate))</div>
            <div>    }</div>
            <div>  }</div>
            <div>  cv</div>
            <div>}</div>
            </code>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5045" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5047" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=396288">Lu Lu</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5047" name="post-5047" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:22 am +03:00" datetime="1398295363">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            <pre><code></code></pre>
            <p><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
              </code>
            </p>
            <code></code>
            <p><code>## load the files according to the id<br>  library(plyr)<br>  id &lt;- formatC( id, width=3, flag="0")<br>  filenames &lt;- paste(id, ".csv", sep="")<br>  fullnames &lt;- file.path (directory, filenames)<br>  ldf &lt;- ldply(fullnames, read.csv)<br>  <br>  m &lt;- mean(ldf[[pollutant]], na.rm = T)<br>  <br>  m<br>  <br>}</code></p>
            <code></code><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5047" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5071" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7060816"><img src="https://coursera-profile-photos.s3.amazonaws.com/02/f011f0b87c11e3bdf36fba6d6c355e/50238555-85201-0869s.jpg" alt="">Vivek Subedi</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5071" name="post-5071" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 5:31 am +03:00" datetime="1398306689">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <div></div>
            <pre><code></code></pre>
            <div><code><br></code></div>
            <code></code>
            <div><code># function to calculate mean of csv files </code></div>
            <code></code>
            <div><code>pollutantmean &lt;- function(directory, pollutant,id=1:332){</code></div>
            <code></code>
            <div><code>     </code></div>
            <code></code>
            <div><code>     # looping using the id that is provided by the user</code></div>
            <code></code>
            <div><code>     for(i in id){</code></div>
            <code></code>
            <div><code>          csvfile &lt;- sprintf("%03d.csv", i)</code></div>
            <code></code>
            <div><code>          </code></div>
            <code></code>
            <div><code>          filepath &lt;- file.path(directory, csvfile)</code></div>
            <code></code>
            <div><code>          </code></div>
            <code></code>
            <div><code>          #checking for the master frame. If master frame exists, it concat to that otherwise creates new one</code></div>
            <code></code>
            <div><code>          if(!exists("masterfoo")){</code></div>
            <code></code>
            <div><code>               masterfoo &lt;- read.csv(filepath, header=TRUE, sep=",") </code></div>
            <code></code>
            <div><code>          } else {</code></div>
            <code></code>
            <div><code>               # reading file using read.csv</code></div>
            <code></code>
            <div><code>               foo &lt;- read.csv(filepath, header=TRUE, sep=",")</code></div>
            <code></code>
            <div><code>               </code></div>
            <code></code>
            <div><code>               #concatinating each file's data into master data frame</code></div>
            <code></code>
            <div><code>               masterfoo &lt;- rbind(masterfoo,foo)</code></div>
            <code></code>
            <div><code>               </code></div>
            <code></code>
            <div><code>               # removing foo after binding to the master foo</code></div>
            <code></code>
            <div><code>               rm(foo)</code></div>
            <code></code>
            <div><code>          }</code></div>
            <code></code>
            <div><code>     }</code></div>
            <code></code>
            <div><code>     </code></div>
            <code></code>
            <div><code>     ## holding only a column that is provided as a parameter by the user</code></div>
            <code></code>
            <div><code>     pollutantfoo &lt;- masterfoo[,pollutant]</code></div>
            <code></code>
            <div><code>     </code></div>
            <code></code>
            <div><code>     ## removing all NA values from the column</code></div>
            <code></code>
            <div><code>     cleanedpollutantfoo &lt;- pollutantfoo[!(is.na(pollutantfoo))]</code></div>
            <code></code>
            <div><code>     </code></div>
            <code></code>
            <div><code>     # calculating mean using mean function</code></div>
            <code></code>
            <div><code>     meanvalue &lt;- round(mean(cleanedpollutantfoo), digits=3)</code></div>
            <code></code>
            <div><code>     </code></div>
            <code></code>
            <div><code>     # returning mean</code></div>
            <code></code>
            <div><code>     meanvalue </code></div>
            <code></code>
            <div><code>     </code></div>
            <code></code>
            <div><code>}</code></div>
            <code></code>
            <div>
              <code></code>
              <pre><code><code></code></code></pre>
              <code><br></code>
            </div>
            <code></code><br>
            <div><br></div>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5071" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5073" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=243267"><img src="https://coursera-profile-photos.s3.amazonaws.com/6d/b1e900cce511e38b8ca92876b84a69/rsz_lin_shaye.png" alt="">timothy235</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5073" name="post-5073" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 5:39 am +03:00" datetime="1398307182">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
          <code>
            <div>pollutantmean &lt;- function (directory, pollutant, id = 1:332) {</div>
            <div><br></div>
            <div>    # get all numbers to be averaged</div>
            <div>    nums &lt;- c()</div>
            <div>    for (i in id) {</div>
            <div><br></div>
            <div>        # convert the file number to character and prepend zeroes if necessary</div>
            <div>        filename &lt;- if (i &lt; 10) {</div>
            <div>            paste("00", as.character(i), sep = "")</div>
            <div>        } else if (i &lt; 100) {</div>
            <div>            paste("0", as.character(i), sep = "")</div>
            <div>        } else {</div>
            <div>            as.character(i)</div>
            <div>        }</div>
            <div><br></div>
            <div>        # assume specdata is a subdirectory of the present working directory</div>
            <div>        filepath &lt;- paste(c(directory, "/", filename, ".csv"), collapse = "")</div>
            <div><br></div>
            <div>        # append new data to nums</div>
            <div>        dataframe &lt;- read.csv(filepath)</div>
            <div>        newnums &lt;- na.omit(dataframe[, pollutant])</div>
            <div>        nums &lt;- c(nums, newnums)</div>
            <div>    }</div>
            <div><br></div>
            <div>    # get the mean</div>
            <div>    mn &lt;- mean(nums)</div>
            <div><br></div>
            <div>    # round the mean to three digits</div>
            <div>    round(mn, digits = 3)</div>
            <div>}</div>
            </code>
            <div><br></div>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5073" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5076" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2430969"><img src="https://coursera-profile-photos.s3.amazonaws.com/2a/c3a0791f363494ff2fc0174e0e5228/220px-Tycho_crater_on_the_Moon.jpg" alt="">Cameron Roy Taljard</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5076" name="post-5076" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:11 am +03:00" datetime="1398309092">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <div>
              <pre>pollutantmean &lt;- function(directory, pollutant, id) {
  
  ## find current working directory and the required follder to loop
  datafile &lt;- paste0(getwd(),'/',directory,'/')
  
  ## list all the files
  datasource &lt;- list.files(datafile)
  
  ## create a full directory of all the files in the folder
  dataloc &lt;- paste0(datafile,datasource)
  
  ## initiate / cheat for the rbind function
  full &lt;- read.csv(paste0(datafile,'999.csv'))
  
  
  ##loop through files and read files
  for(i in dataloc[id])
  {
  data &lt;- read.csv(i)
  ## create a copy of the data required
  full &lt;- rbind(full, data)
  }
  
  ## write the data used into a temporary file
  write.csv(full, file='temp.csv')
  
  ## print out mean and removed the NA values
  print(mean(full[[pollutant]], na.rm=T )) 
  
  ##return mean
  return(mean(full[[pollutant]], na.rm=T )) 
  }


## execute function with values
pollutantmean("specdata", "nitrate", 70:72)
<code></code></pre>
              <div><br></div>
              <br><br>
            </div>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5076" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5085" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3213201">William B Piggot</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5085" name="post-5085" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:59 am +03:00" datetime="1398311979">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id=1:332){
  total &lt;- vector()
  for (i in id){
    filename &lt;- paste(directory, "/", sprintf("%03d", i), ".csv", sep = "")
    my_data &lt;- read.csv(filename)
    x &lt;- my_data[ , pollutant]
    y &lt;- x[!is.na(x)]
    total &lt;- append(total, y)}
    return(mean(total))
}

</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5085" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5088" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2370337"><img src="https://coursera-profile-photos.s3.amazonaws.com/20/f9871a1a33c95b636b12b8f8e9fa7d/profile.jpg" alt="">Andrew S. Taylor</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5088" name="post-5088" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:09 am +03:00" datetime="1398312541">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <p></p>
            <pre>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
        polreadings &lt;- vector("numeric")
        filelist &lt;- dir(directory)
        for(n in id) {
                fileloc &lt;- paste(directory, "/", filelist[n], sep = "")
                aqreadings &lt;- read.csv(fileloc)
                polreadings &lt;- c(polreadings, aqreadings[[pollutant]])
        }
        mean(polreadings, na.rm = TRUE)
}<code></code></pre>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5088" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5092" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4177604">Logambal Sonachalam</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5092" name="post-5092" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:18 am +03:00" datetime="1398313093">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">pollutantmean &lt;- function(directory,pollutant,id =1:332)<br>{<br>   # get the list of all files<br>  filelist &lt;-list.files(directory,full.names=TRUE)<br><br>  # get the list of required files  <br>  filestoread &lt;- filelist[c(id)]<br>  <br>    dataset &lt;- NULL<br>  <br>  # loop through the filelist and assign the data to the data frame<br>  for (i in 1:length(filestoread)) {<br>      myData &lt;- read.csv(filestoread[i])<br>      dataset &lt;-rbind.data.frame(dataset,myData)<br>  }<br>  # assign the colnames<br>  colnames(dataset) &lt;- c("Date","sulfate","nitrate","ID")<br>  #compute the mean <br>  polmean &lt;- mean(dataset[,pollutant], na.rm = TRUE)<br>  <br> polmean<br>  <br>}<br><br><br></div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5092" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5093" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><span>Anonymous</span><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5093" name="post-5093" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 7:24 am +03:00" datetime="1398313482">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
          <code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>  setwd( paste("/tmp", directory, sep = "/") )   <br>  temp &lt;- paste(formatC(id, width=3, flag="0"), ".csv", sep="")  # Get the list of files to be read<br>  sourceframe &lt;- do.call("rbind", lapply(temp, read.csv, header = TRUE)) # Create the data frame<br>  ifelse(pollutant == "sulfate", round(mean(sourceframe[,2], na.rm=TRUE),3), round(mean(sourceframe[,3], na.rm=TRUE),3))<br>}<br></code></div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5093" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5105" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4725529">Demetri Sampas</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5105" name="post-5105" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 9:42 am +03:00" datetime="1398321748">4 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <code><p>pollutantmean &lt;- function (directory,pollutant, id=1:332){</p>
            <p> list &lt;- lapply (paste(directory,"/",sprintf("%03d", id),".csv",sep=""),read.csv)</p>
            <p> df&lt;-data.frame(Reduce(rbind,list))</p>
            <p><span> mean(</span>df[,pollutant],na.rm=TRUE)</p>
            <p>}</p>
            <div><br></div>
            </code>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5105" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5131" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7026658">TANIA CAMARA ALONSO</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5131" name="post-5131" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 12:54 pm +03:00" datetime="1398333250">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
          <code>
            pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>
            <div>    </div>
            <div>    idaux &lt;- id +1000</div>
            <div>    idaux2 &lt;- substr(paste(as.character(idaux),".csv", sep=""),2,8)</div>
            <div>    </div>
            <div>    # ahora los leo</div>
            <div>    </div>
            <div>  </div>
            <div>    dataF &lt;- read.csv(paste(getwd(),"/",directory[1],"/",idaux2[1], sep=""))</div>
            <div>    if (length(id)&gt;1) {</div>
            <div>        for (i in 2:length(id)) {</div>
            <div>            df.aux &lt;- read.csv(paste(getwd(),"/",directory[1],"/",idaux2[i], sep=""))</div>
            <div>            dataF &lt;- rbind(dataF,df.aux)</div>
            <div>        }</div>
            <div>    }</div>
            <div>   </div>
            <div>   #calculo la media de la variable que paso por parámetro</div>
            <div>   m &lt;- mean(dataF[[pollutant]], na.rm=TRUE)</div>
            <div>   print(m)</div>
            <div>}</div>
            <div><br></div>
            </code>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5131" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5148" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=1284442"><img src="https://coursera-profile-photos.s3.amazonaws.com/7f/a25f4342d1380a3bc680d287b77735/a_53c5006b.jpg" alt="">Matvey Roshchin</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5148" name="post-5148" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 2:45 pm +03:00" datetime="1398339913">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
    #here we will store our raw values
    raw_data &lt;- vector(mode = 'numeric', length = 0)
    # reading data and adding it to the raw data vector
    #  may use sprintf('%03d.csv', id[i]) instead of formatC
    for (i in 1:length(id)){
        csv_data &lt;- read.csv(paste(directory, '/', 
                        formatC(as.integer(id[i]),2,flag=0),
                        '.csv', sep=''))
        raw_data &lt;- append(raw_data, csv_data[[pollutant]])
    }
    # mean
    poll_mean &lt;- mean (raw_data, na.rm = TRUE)
    return(poll_mean)
}</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5148" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5155" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5238644">Dinesh Kumar SRB</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5155" name="post-5155" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 3:29 pm +03:00" datetime="1398342554">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function (directory, pollutant, id = 1:332) {        <br>        AF &lt;- list.files(directory, pattern="*.csv")<br>        total &lt;- NULL        <br>        for (i in id) {                <br>                readfile &lt;- paste(directory, AF[i], sep = "/")<br>                x &lt;- read.csv(readfile)<br>                total &lt;-  rbind.data.frame(total, x)<br>        }<br>        if (pollutant == "sulfate") {<br>                means &lt;- mean (total[,"sulfate"], na.rm = TRUE )                <br>        }        <br>        else {<br>                means &lt;- mean (total[,"nitrate"], na.rm = TRUE )                <br>        }<br>        means_roundoff &lt;- round(means, digits = 3)<br>        print (means_roundoff)       <br>}</code></pre>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5155" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5175" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7239984">Marcelo</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5175" name="post-5175" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 5:51 pm +03:00" datetime="1398351081">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>  mydir &lt;- paste(getwd(),directory,sep="/")<br>  setwd(mydir)        <br>  filelist &lt;- list.files()<br>  filenames &lt;- filelist[id]<br>  mybig &lt;- do.call("rbind", lapply(filenames, read.csv, header = TRUE)) <br>         #append all files into a single data frame<br>  if(pollutant=="sulfate"){       <br>        myMeans &lt;- mean(mybig[,2],na.rm=TRUE) #2nd column for sulfate<br>  } else if(pollutant=="nitrate"){<br>        myMeans &lt;- mean(mybig[,3],na.rm=TRUE) #3rd column for nitrate<br>  } else {<br>        print("error")<br>  }<br>  myMeans<br>}<br></code></pre>
            <br><br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5175" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5176" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=782797"><img src="https://coursera-profile-photos.s3.amazonaws.com/98/b26ac0c8cc11e3af6f5b81b3a3cc52/Androidify-Me.jpg" alt="">Charlotte DeKoning</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5176" name="post-5176" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:15 pm +03:00" datetime="1398352555">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id=1:332) {
      m &lt;- matrix(NA,1,1)
      colnames(m) &lt;- pollutant
      for (i in id) {     
            x &lt;- read.csv(paste(getwd(),"/",directory,"/",sprintf("%03d",i),".csv",sep=""))            
            if(pollutant=="nitrate") {                 
                  m &lt;- c(m,x$nitrate)
            } 
            else if(pollutant=="sulfate") {
                  m &lt;- c(m,x$sulfate)
            }
      }
      mean(m,na.rm=T)
}</code></pre>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5176" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5183" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6577823"><img src="https://coursera-profile-photos.s3.amazonaws.com/db/c0a590c5cd11e391ef1f760c901437/tjzkjahgvubxnnfbdjpo.jpg" alt="">Sharon Metzler</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5183" name="post-5183" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 6:23 pm +03:00" datetime="1398353011">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id=1:332) {
        
        # should we verify incoming arguments before starting?        
        # directory where sample data can be found
        setwd("C:/_rdev")
        the_path &lt;- paste(getwd(),directory,"",sep="/")
                
        # create empty object for rbind() merge
        all_data &lt;- ""        
        # iterate the id list
        for(i in id){                
                # use function to create the filename with 00 prefix & csv suffix
                the_file_name &lt;- paste(the_path,the_file_id(i),".csv",sep="")                
                # put this iterations file into a data object
                some_data &lt;- read.csv(the_file_name,header=TRUE)                
                # begin merging the data by observation (vertical, add rows)
                if(length(all_data) &gt; 1){
                        
                        all_data &lt;- rbind(some_data,all_data,deparse.level=1)                        
                }else{
                        all_data &lt;- some_data
                }
                some_data &lt;- ""
        }
        # get column number to calculate
        num &lt;- grep(pollutant, colnames(all_data))        
        # collect pollutant mean excluding NAN NA
        print(mean(all_data[[num]],trim=0,na.rm=TRUE))
}

        
the_file_id &lt;- function(the_num){        
        if(the_num&lt;10){                
                # 1 digit numbers need "00"
                the_rtn = paste("00",the_num,sep="")                
        }else if(the_num&lt;=99){
                # 2 digit numbers need "0"
                the_rtn = paste("0",the_num,sep="")                
        }else {
                the_rtn = the_num
        }        
}       
</code></pre>
            <div><br></div>
            <br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5183" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5194" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4123451">Edward Steven Seymour</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5194" name="post-5194" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 8:06 pm +03:00" datetime="1398359198">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            Here's mine:<br>
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
  pollutants &lt;- vector();
  
  for(i in id) {
    sensor &lt;- read.csv(sprintf("%s/%03d.csv", directory, i))
    pollutants &lt;- append(pollutants, sensor[[pollutant]])
  }
  
  mean(pollutants, na.rm = TRUE)
}</code></pre>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5194" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5214" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6514356">Bruno Gonçalves</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5214" name="post-5214" style="vertical-align:middle"><time title="Thursday, April 24th 2014, 9:46 pm +03:00" datetime="1398365170">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            Hi... <br><br>
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br>      ## 'directory' is a character vector of length 1 indicating<br>      ## the location of the CSV files<br><br>      ## 'pollutant' is a character vector of length 1 indicating<br>      ## the name of the pollutant for which we will calculate the<br>      ## mean; either "sulfate" or "nitrate".<br><br>      ## 'id' is an integer vector indicating the monitor ID numbers<br>      ## to be used<br><br>      ## Return the mean of the pollutant across all monitors list<br>      ## in the 'id' vector (ignoring NA values)<br><br>      #setup & initialize<br>      path &lt;- paste("./",directory,sep="") #build the path to data files<br>      files &lt;- dir(path,full.names=TRUE) #store all available files<br>      #print(files)<br><br>      #select relevant files and read them<br>      files_to_open &lt;- files[id] #get a subset of the files<br>      #print(files_to_open)<br>      main_data&lt;-NA<br>      for (i in 1:length(id)){<br>            #print(i) <br>            #print(files_to_open[i])<br>            main_data &lt;- rbind(read.csv(files_to_open[i]),main_data)<br>      }<br>      #main_data  #for debug<br>      mean(main_data[[pollutant]],na.rm=TRUE)<br>}</code></pre>
            <br>Regards.<br><br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5214" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5266" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=945613">James B Taylor</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5266" name="post-5266" style="vertical-align:middle"><time title="Friday, April 25th 2014, 3:27 am +03:00" datetime="1398385632">3 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
          <code>
            <div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</div>
            <div>  </div>
            <div>  ## set working directory to passed directory - hold current wd to set back at end</div>
            <div>  currentPath &lt;- getwd()</div>
            <div>  folderPath &lt;- paste(currentPath,"/",directory,sep='')</div>
            <div>  </div>
            <div>  #create empty dataframe for our data</div>
            <div>  selectedData &lt;- data.frame()</div>
            <div>  </div>
            <div>  ##get all filenames within this directory</div>
            <div>  files &lt;- c(list.files(folderPath))</div>
            <div>  </div>
            <div>  #read in the data</div>
            <div>  for (i in files[id]){</div>
            <div>    fileContents &lt;- read.csv(paste(folderPath,"/",i,sep=''))</div>
            <div>    selectedData &lt;- rbind(selectedData,fileContents)</div>
            <div>  }</div>
            <div>  </div>
            <div>  #calculate the mean of the selected pollutant ignoring NA values</div>
            <div>  myMean &lt;- mean(selectedData[,pollutant], na.rm=TRUE)</div>
            <div>  </div>
            <div>  return(myMean)</div>
            <div>}</div>
            </code>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5266" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5314" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4118423"><img src="https://coursera-profile-photos.s3.amazonaws.com/2b/293aa0b06311e39fcb97a9a02eea6a/ImageSmall.jpg" alt="">Peter Kent</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5314" name="post-5314" style="vertical-align:middle"><time title="Friday, April 25th 2014, 12:24 pm +03:00" datetime="1398417847">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
          <code>
            <div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {</div>
            <div>    filenames &lt;- file.path (directory, paste(formatC(id, width=3, flag="0"),".csv",sep=""))</div>
            <div>    totals &lt;- 0</div>
            <div>    counts &lt;- 0</div>
            <div> </div>
            <div>    for(i in 1:length(id)) { </div>
            <div>        fromfile &lt;- read.csv(filenames[i]) #data.frame with one csv</div>
            <div>        all &lt;- (fromfile[,pollutant])</div>
            <div>        bad &lt;- is.na(all)</div>
            <div>        myData &lt;- all[!bad]</div>
            <div>        </div>
            <div>        totals &lt;- totals + sum(myData)</div>
            <div>        counts &lt;- counts + length(myData)</div>
            <div>    }</div>
            <div>    </div>
            <div>    x = round(totals / counts, digits = 3)</div>
            <div>    x</div>
            <div>}<br><br>
            </div></code>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5314" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5321" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6719882"><img src="https://coursera-profile-photos.s3.amazonaws.com/05/227860ba9711e3a5dc7d6594b9451a/ae462cdab3a20ea95db31dc45ff990ae.jpg" alt="">Davide Rivola</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5321" name="post-5321" style="vertical-align:middle"><time title="Friday, April 25th 2014, 2:07 pm +03:00" datetime="1398424030">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            My solution.<br><br>
            <pre><code>  filenames &lt;- paste0(directory, "/",formatC(id, width=3, flag="0"), ".csv")
  
  a &lt;- numeric()
  
  for( i in 1:length( filenames) ){
    x &lt;- read.csv(filenames[[i]])
    a &lt;- c(a, x[[pollutant]])
  }
  
  round(mean(a, na.rm=TRUE), digits = 3)</code></pre>
            <div><br></div>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5321" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5328" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=6870341">Patrick Pollazzon</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5328" name="post-5328" style="vertical-align:middle"><time title="Friday, April 25th 2014, 3:09 pm +03:00" datetime="1398427778">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <p><code>pollutantmean &lt;- function(directory,pollutant,id=1:332)   {
              setwd("D:/Users/Patrick/Desktop/Coursera")
              x&lt;-(paste(directory, "/",id, ".csv", sep = ""))
              d0&lt;-c(NA,NA,NA,NA)
              d0&lt;-as.numeric(d0)
              for (i in 1:length(x))    {
              d&lt;-read.csv(x[i],)
              a&lt;-nrow(d)
              b&lt;-ncol(d)<br>    d1&lt;-as.matrix(d,a,b)
              d0&lt;-rbind(d0,d1)
              d2&lt;-as.numeric(d0[,pollutant])<br>  }<br>  mean&lt;-mean(d2,na.rm=TRUE)
              print(mean)
              } </code>
            </p>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5328" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5329" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=2556710"><img src="https://coursera-profile-photos.s3.amazonaws.com/28/69383fd904eeb69e6c9ed39f35f653/74073_449087947751_2868951_n.jpg" alt="">Apostolos Fasianos</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5329" name="post-5329" style="vertical-align:middle"><time title="Friday, April 25th 2014, 3:38 pm +03:00" datetime="1398429518">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
          <code>
            <div>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {<br><br></div>
            <div>        #First, create an empty matrix with 0 columns and 4 rows</div>
            <div>        myMatrix&lt;- matrix(nrow = 0, ncol = 4)<br><br></div>
            <div>        #Create the files' names in a string form by looping through the id of the cvs. </div>
            <div>        for (i in id){</div>
            <div>                toRead &lt;-paste("/Users/apo/Desktop/Coursera/R/",directory,"/",toString(sprintf( "%03d", i                  )),".csv", sep = "")</div>
            <div>                <br></div>
            <div>                #For each file you encounter, name it myData, and add it to the empty matrix myMatrix<br>                <span>myData &lt;-read.csv(toRead)</span></div>
            <div>                myMatrix&lt;-rbind(myMatrix, myData)    </div>
            <div>        }<br><br></div>
            <div>        #Return the mean of the pollutant you have in the argument place, by putting the pollutant in             #the columns position of the Mean function</div>
            <div>        mean(myMatrix[,pollutant], na.rm=T)        </div>
            <div>}</div>
            </code>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5329" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container">
      <div>
        <div data-permalink="comment-3467" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=5754799">Athanasios Atsalis</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3467" name="comment-3467" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 5:11 am +03:00" datetime="1398478318">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">nice job apostolos!</div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#comment-3467" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5441" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=7236986">Jessica</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5441" name="post-5441" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 5:32 am +03:00" datetime="1398479530">2 days ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div dir="auto" class="course-forum-post-text">
            Mine is definitely on the longer side...<br><br>
            <pre><code>pollutantmean&lt;- function(directory, pollutant, ID=1:332) {
  
    directory&lt;- 'specdata'
    specdata_files&lt;- paste("specdata/", list.files(directory), sep="")
    specdata_all&lt;- do.call(rbind, lapply(specdata_files, read.csv))
    
    if(pollutant=="sulfate") {
          specdata_sub&lt;- subset(specdata_all, select=c(ID, sulfate))  
    } else {    
          specdata_sub&lt;- subset(specdata_all, select=c(ID, nitrate))
    }
    
    good&lt;- complete.cases(specdata_sub)
    specdata_good&lt;- specdata_sub[good,]
    
    specdata_sum&lt;- c()
    specdata_len&lt;- c()
    temp_sum&lt;- numeric()
    temp_len&lt;- numeric()
    
    for(i in ID) {
        temp&lt;- subset(specdata_good, ID==i)
        temp_sum[i]&lt;- sum(temp[,2])
        temp_len[i]&lt;- nrow(temp)
        specdata_sum[i]&lt;- temp_sum[i]
        specdata_len[i]&lt;- temp_len[i]      
    }    
    
    bad_sum&lt;- is.na(specdata_sum)
    bad_len&lt;- is.na(specdata_len)
    
    sum(specdata_sum[!bad_sum])/sum(specdata_len[!bad_len])
    
}</code></pre>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5441" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5491" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=3142216">Biswajit Dutta Baruah</a><a style="text-decoration: none;" href="https://www.coursera.org/signature/course/rprog/972078?utm_source=spark&utm_medium=forum" target="_blank"><span class="course-forum-profile-badge-signaturetrack">Signature Track</span></a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5491" name="post-5491" style="vertical-align:middle"><time title="Saturday, April 26th 2014, 6:36 pm +03:00" datetime="1398526583">a day ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory, pollutant, id = 1:332) {
    list &lt;- list.files(directory, full.names = TRUE)
    f.data &lt;- function(n) {
      for(file in n) {
        if(!exists("p.data")){
          p.data &lt;- read.csv(file, header = TRUE)
        }
        else if(exists("p.data")) {
          temp.data &lt;- read.csv(file, header = TRUE)
          p.data &lt;- rbind(p.data, temp.data)
          rm(temp.data)
        }
     }
     p.data
    }
    pollutant.data &lt;- f.data(list)
    f.subset &lt;- function(m, p, x) {
      if(length(x) &gt; 1) {
        for(i in x) {
          if(!exists("p.subset")) {
            p.subset &lt;- subset(m, select = c(p), ID == i)
          }
          else if(exists("p.subset")) {
            temp.subset &lt;- subset(m, select = c(p), ID == i)
            p.subset &lt;- rbind(p.subset, temp.subset)
            rm(temp.subset)
          }
        }
      }
      if(length(x) == 1) {
        p.subset &lt;- subset(m, select = c(p), ID == id)
      }
      p.subset
    }
    pollutant.subset &lt;- f.subset(pollutant.data, pollutant, id)
    mean(pollutant.subset[,1], na.rm = TRUE)
  }</code></pre>
            I used loops because the lapply functions were taught in the 3rd week. I guess some of the above contributors already knew about the functions. After going through the videos on the apply functions, I suppose all the loops can be cleaned out to produce succinct code!!
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count course-forum-votes-positive">1</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5491" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
<div>
  <div class="course-forum-post-container">
    <div class="course-forum-post-top-container">
      <div>
        <div data-permalink="post-5629" class="course-forum-post-view-container">
          <div class="course-forum-post-header">
            <div class="course-forum-post-controls"></div>
            <h5 class="course-forum-post-byline"><a href="https://class.coursera.org/rprog-002/forum/profile?user_id=4458052"><img src="https://coursera-profile-photos.s3.amazonaws.com/15/fd37b51f72f6a5c120136dcc33bf69/15096-Nipun.jpg" alt="">Nipun Puri</a><span style="vertical-align: middle; margin-left: 5px;" class="course-forum-profile-badgeville"></span><span style="vertical-align:middle">· </span><a href="https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5629" name="post-5629" style="vertical-align:middle"><time title="Sunday, April 27th 2014, 7:35 pm +03:00" datetime="1398616531">2 hours ago</time> <span class="icon-link"></span></a></h5>
          </div>
          <div style="margin-left: 0px;" dir="auto" class="course-forum-post-text">
            <pre><code>pollutantmean &lt;- function(directory , pollutant , id = 1:332){
    
    final &lt;- NULL
    for(i in 1:length(id)){
        
        
        temp &lt;- paste(directory , "/" , sep = "")   ##specdata/
        temp1 &lt;- sprintf("%03d" , id[i])               ##changes 1 to 001
        filename &lt;- paste(temp , temp1 , ".csv" , sep = "")      ##specdata/001.csv
        file &lt;- read.csv(filename)    ##this is the file, read this file
        
        mn &lt;- file[,pollutant]
        final &lt;- append(final , mn)     ##joins the values vector of all the files
    }   ##for loop ending
    final1 &lt;- mean(final ,na.rm = T)
    return(final1)
}    ##function ending</code></pre>
            <br><br>
          </div>
          <div aria-haspopup="true" aria-expanded="false" data-tooltip="Please use votes to bring attention to thoughtful, helpful posts." data-tooltip-position="down" class="course-forum-post-vote-controls">
            <div tabindex="0" aria-label="Vote this post up." data-direction-value="1" role="button" class="course-forum-post-vote-button course-forum-post-vote-up course-forum-vote-inactive"><i class="icon-arrow-up"></i></div>
            <span class="course-forum-post-vote-count">0</span><span class="accessible-text-for-reader">votes received.</span>
            <div tabindex="0" aria-label="Vote this post down." data-direction-value="-1" role="button" class="course-forum-post-vote-button course-forum-post-vote-down course-forum-vote-inactive"><i class="icon-arrow-down"></i></div>
          </div>
          <a href="https://class.coursera.org/rprog-002/help/flag?url=https://class.coursera.org/rprog-002/forum/thread?thread_id=1173#post-5629" target="_blank" class="course-forum-post-controls-report">·
          flag</a>
          <div style="clear: both; height: 3px;"></div>
        </div>
      </div>
    </div>
    <div class="course-forum-comments-container"></div>
    <div class="course-forum-new-comment-container"></div>
    <div class="course-forum-new-comment-link-container"><a href="javascript:void(0);" class="course-forum-new-comment-link">+ Comment</a></div>
  </div>
</div>
